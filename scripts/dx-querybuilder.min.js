/**
* DevExpress HTML/JS Query Builder (dx-querybuilder.min.js)
* Version: 18.2.7
* Build date: 2019-03-11
* Copyright (c) 2012 - 2019 Developer Express Inc. ALL RIGHTS RESERVED
* License: https://www.devexpress.com/Support/EULAs/NetComponents.xml
*/

var DevExpress;!function(a){!function(a){!function(b){function c(){var a=-1;if("Microsoft Internet Explorer"==navigator.appName){var b=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})");null!=b.exec(navigator.userAgent)&&(a=parseFloat(RegExp.$1))}else if("Netscape"==navigator.appName){var b=new RegExp("Trident/.*rv:([0-9]{1,}[.0-9]{0,})");null!=b.exec(navigator.userAgent)&&(a=parseFloat(RegExp.$1))}return a}ko.bindingHandlers.routeLineDraggable={init:function(b,c){var d=c(),e=$.extend({snap:".dxrd-drag-snap-line",snapTolerance:a.Internal.SnapLinesHelper.snapTolerance},ko.unwrap(d),{start:function(a,b){d.starting()},stop:function(a,b){d.stopped()},drag:function(a,b){var c=b.position.left-b.originalPosition.left,e=b.position.top-b.originalPosition.top;d.forceResize({delta:{dx:c,dy:e}})}});$(b).draggable(e)}},ko.bindingHandlers.updateConnectorArrow={init:function(a,b,d,e,f){var g=c();if(g>-1&&g<=11){var h=f.$data.routePointsSet.subscribe(function(){f.$data.showArrow()&&a.parentNode.insertBefore(a,a)});ko.utils.domNodeDisposal.addDisposeCallback(a.parentNode,function(){return h.dispose()})}}}}(a.Diagram||(a.Diagram={}))}(a.Analytics||(a.Analytics={}))}(DevExpress||(DevExpress={}));var DevExpress;!function(a){!function(b){!function(c){function d(){c.controlsFactory.registerControl("Unknown",{info:c.unknownSerializationsInfo,type:b.ElementViewModel,nonToolboxItem:!0,surfaceType:b.SurfaceElementBase}),c.controlsFactory.registerControl("Connector",{info:[c.name,{propertyName:"location",displayName:"Location",editor:a.JS.Widgets.editorTemplates.objecteditor},{propertyName:"startPoint",modelName:"@StartPoint",link:!0},{propertyName:"endPoint",modelName:"@EndPoint",link:!0}],surfaceType:c.ConnectorSurface,type:c.ConnectorViewModel,elementActionsTypes:[],nonToolboxItem:!1}),c.controlsFactory.registerControl("RoutedConnector",{info:[c.name,{propertyName:"location",displayName:"Location",editor:a.JS.Widgets.editorTemplates.objecteditor},{propertyName:"startPoint",modelName:"@StartPoint",link:!0},{propertyName:"endPoint",modelName:"@EndPoint",link:!0}],surfaceType:c.RoutedConnectorSurface,type:c.RoutedConnectorViewModel,elementActionsTypes:[],nonToolboxItem:!1}),c.controlsFactory.registerControl("ConnectionPoint",{info:c.connectionPointSerializationInfo,surfaceType:c.ConnectionPointSurface,type:c.ConnectionPointViewModel,elementActionsTypes:[],nonToolboxItem:!0}),c.controlsFactory.registerControl("Diagram",{info:c.diagramSerializationsInfo,surfaceType:c.DiagramSurface,popularProperties:["name"],type:c.DiagramViewModel,elementActionsTypes:[],isContainer:!0,nonToolboxItem:!0}),c.controlsFactory.registerControl("DiagramElement",{info:c.diagramElementSerializationInfo,defaultVal:{"@SizeF":"150,50",ConnectingPoints:{Item1:{"@ControlType":"ConnectingPoint","@PercentOffsetX":"1","@PercentOffsetY":"0.5"},Item2:{"@ControlType":"ConnectingPoint","@PercentOffsetX":"0.5","@PercentOffsetY":"1"},Item3:{"@ControlType":"ConnectingPoint","@PercentOffsetX":"0.5","@PercentOffsetY":"0"},Item4:{"@ControlType":"ConnectingPoint","@PercentOffsetX":"0","@PercentOffsetY":"0.5"}}},surfaceType:c.DiagramElementSurface,popularProperties:["text"],type:c.DiagramElementViewModel,elementActionsTypes:[],nonToolboxItem:!1}),c.controlsFactory.registerControl("Ellipse",{info:c.diagramElementSerializationInfo,defaultVal:{"@SizeF":"150,50","@Type":"Ellipse",ConnectingPoints:{Item1:{"@ControlType":"ConnectingPoint","@PercentOffsetX":"1","@PercentOffsetY":"0.5"},Item2:{"@ControlType":"ConnectingPoint","@PercentOffsetX":"0.5","@PercentOffsetY":"1"},Item3:{"@ControlType":"ConnectingPoint","@PercentOffsetX":"0.5","@PercentOffsetY":"0"},Item4:{"@ControlType":"ConnectingPoint","@PercentOffsetX":"0","@PercentOffsetY":"0.5"}}},surfaceType:c.DiagramElementSurface,popularProperties:["text"],type:c.DiagramElementViewModel,elementActionsTypes:[],nonToolboxItem:!1}),c.controlsFactory.registerControl("Condition",{info:c.diagramElementSerializationInfo,defaultVal:{"@SizeF":"150,50","@Type":"Condition",ConnectingPoints:{Item1:{"@ControlType":"ConnectingPoint","@PercentOffsetX":"1","@PercentOffsetY":"0.5"},Item2:{"@ControlType":"ConnectingPoint","@PercentOffsetX":"0.5","@PercentOffsetY":"1"},Item3:{"@ControlType":"ConnectingPoint","@PercentOffsetX":"0.5","@PercentOffsetY":"0"},Item4:{"@ControlType":"ConnectingPoint","@PercentOffsetX":"0","@PercentOffsetY":"0.5"}}},surfaceType:c.DiagramElementSurface,popularProperties:["text"],type:c.DiagramElementViewModel,elementActionsTypes:[],nonToolboxItem:!1}),c.controlsFactory.registerControl("ConnectingPoint",{info:c.connectingPointSerializationInfo,surfaceType:c.ConnectingPointSurface,type:c.ConnectingPointViewModel,elementActionsTypes:[],nonToolboxItem:!0})}c.controlsFactory=new b.Utils.ControlsFactory,c.registerControls=d}(b.Diagram||(b.Diagram={}))}(a.Analytics||(a.Analytics={}))}(DevExpress||(DevExpress={}));var __extends=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},DevExpress;!function(a){!function(a){!function(b){var c=function(c){function d(a,b,d,e,f){c.call(this,a,b,d,e),this.startConnectingPoint=null,this.newConnector=null,this.cursor="arrow",this.containment=".dxrd-ghost-container",this.helper=function(a){f.update(a)}}return __extends(d,c),d.prototype.startDrag=function(a){if(!(a instanceof b.ConnectingPointSurface))throw new Error("ConnectingPointDragHandler can be applied to the ConnectingPoint only.");this.startConnectingPoint=a;var c=this.startConnectingPoint.parent.getControlModel();this.newConnector=c.parentModel().createChild({"@ControlType":"RoutedConnector"}),this.newConnector.startPoint().connectingPoint(this.startConnectingPoint.getControlModel())},d.prototype.drag=function(a,b){b.position.left+=b.scroll.left,b.position.top+=b.scroll.top;var c=this._getAbsoluteSurfacePosition(b);this.newConnectorSurface.endPoint().rect({top:c.top,left:c.left})},d.prototype.doStopDrag=function(){if(this.selection.dropTarget){var a=this.selection.dropTarget.getControlModel();if(a instanceof b.ConnectingPointViewModel)this.newConnector.endPoint().connectingPoint(a);else if(a instanceof b.DiagramElementViewModel){var c=a.connectingPoints();this.newConnector.endPoint().connectingPoint(c[0])}this.selection.initialize(this.newConnectorSurface)}},Object.defineProperty(d.prototype,"newConnectorSurface",{get:function(){return this.newConnector&&a.Internal.findSurface(this.newConnector)},enumerable:!0,configurable:!0}),d}(a.Internal.DragDropHandler);b.ConnectingPointDragHandler=c}(a.Diagram||(a.Diagram={}))}(a.Analytics||(a.Analytics={}))}(DevExpress||(DevExpress={}));var DevExpress;!function(a){!function(a){!function(b){var c=function(a){function c(b,c,d,e,f){a.call(this,b,c,d,e),this.currentConnectionPoint=null,this.cursor="arrow",this.containment=".dxrd-ghost-container",this.helper=function(a){f.update(a)}}return __extends(c,a),c.prototype.startDrag=function(a){if(!(a instanceof b.ConnectionPointSurface))throw new Error("ConnectionPointDragHandler can be applied to the ConnectionPoint only.");this.currentConnectionPoint=a},c.prototype.drag=function(a,b){b.position.left+=b.scroll.left,b.position.top+=b.scroll.top;var c=this._getAbsoluteSurfacePosition(b);this.currentConnectionPoint.rect({top:c.top,left:c.left})},c.prototype.doStopDrag=function(){if(this.selection.dropTarget){var a=this.selection.dropTarget.getControlModel();if(a instanceof b.ConnectingPointViewModel){var c=this.currentConnectionPoint.parent.getControlModel();this.currentConnectionPoint.getControlModel()===c.startPoint()?c.startPoint().connectingPoint(a):c.endPoint().connectingPoint(a)}else if(a instanceof b.DiagramElementViewModel){var c=this.currentConnectionPoint.parent.getControlModel(),d=a.connectingPoints();this.currentConnectionPoint.getControlModel()===c.startPoint()?c.startPoint().connectingPoint(d[0]):c.endPoint().connectingPoint(d[0])}}},c}(a.Internal.DragDropHandler);b.ConnectionPointDragHandler=c}(a.Diagram||(a.Diagram={}))}(a.Analytics||(a.Analytics={}))}(DevExpress||(DevExpress={}));var DevExpress;!function(a){!function(a){!function(b){b.name={propertyName:"name",modelName:"@Name",displayName:"Name",editor:a.Widgets.editorTemplates.text,validationRules:a.Internal.nameValidationRules},b.text={propertyName:"text",modelName:"@Text",displayName:"Text",editor:a.Widgets.editorTemplates.text},b.size={propertyName:"size",modelName:"@Size",defaultVal:"100,50",from:a.Size.fromString,displayName:"Size",editor:a.Widgets.editorTemplates.objecteditor},b.location={propertyName:"location",modelName:"@Location",from:a.Point.fromString,displayName:"Location",editor:a.Widgets.editorTemplates.objecteditor},b.sizeLocation=[b.size,b.location],b.unknownSerializationsInfo=[b.name].concat(b.sizeLocation)}(a.Diagram||(a.Diagram={}))}(a.Analytics||(a.Analytics={}))}(DevExpress||(DevExpress={}));var DevExpress;!function(a){!function(a){!function(b){var c=function(a){function c(b,c,d){a.call(this,b,c,d)}return __extends(c,a),c.prototype.getControlFactory=function(){return b.controlsFactory},c}(a.ElementViewModel);b.DiagramElementBaseViewModel=c;var d=function(c){function d(d,e,f){var g=this;c.call(this,$.extend({"@ControlType":"DiagramElement"},d),e,f),this.connectingPoints=a.Utils.deserializeArray(d&&d.ConnectingPoints||[],function(a){return new b.ConnectingPointViewModel(a,g,f)}),void 0===this.text()&&this.text(this.name())}return __extends(d,c),d}(c);b.DiagramElementViewModel=d,b.diagramElementSerializationInfo=[b.size,b.location,b.name,b.text,{propertyName:"type",modelName:"@Type"}]}(a.Diagram||(a.Diagram={}))}(a.Analytics||(a.Analytics={}))}(DevExpress||(DevExpress={}));var DevExpress;!function(a){!function(a){!function(b){var c=function(c){function d(d,e,f){var g=this;c.call(this,$.extend({"@ControlType":"ConnectingPoint"},d),e,f),this.side=ko.pureComputed(function(){return g.percentOffsetY()>=g.percentOffsetX()?g.percentOffsetY()>1-g.percentOffsetX()?b.PointSide.South:b.PointSide.West:g.percentOffsetY()>1-g.percentOffsetX()?b.PointSide.East:b.PointSide.North}),this.size=new a.Size(7,7),this.location=new a.Point(0,0),this.location.x=ko.pureComputed(function(){var a=g.parentModel();return a.location.x()+a.size.width()*g.percentOffsetX()}),this.location.y=ko.pureComputed(function(){var a=g.parentModel();return a.location.y()+a.size.height()*g.percentOffsetY()})}return __extends(d,c),d}(b.DiagramElementBaseViewModel);b.ConnectingPointViewModel=c,b.connectingPointSerializationInfo=[{propertyName:"percentOffsetX",modelName:"@PercentOffsetX",defaultVal:.5,from:a.Utils.floatFromModel},{propertyName:"percentOffsetY",modelName:"@PercentOffsetY",defaultVal:.5,from:a.Utils.floatFromModel}]}(a.Diagram||(a.Diagram={}))}(a.Analytics||(a.Analytics={}))}(DevExpress||(DevExpress={}));var DevExpress;!function(a){!function(a){!function(b){var c=function(a){function b(c,d,e){var f=this;a.call(this,c,d,$.extend({},b._unitProperties,e)),this.template="dx-diagram-element",this.selectiontemplate="dx-diagram-element-selection",this.contenttemplate="dx-diagram-element-content",this.margin=ko.observable(0),this._disposables.push(this.positionWidthWithoutMargins=ko.pureComputed(function(){return f.position.width()-2*f.margin()})),this._disposables.push(this.positionLineHeightWithoutMargins=ko.pureComputed(function(){return f.position.lineHeight()-2*f.margin()}))}return __extends(b,a),b._unitProperties={_height:function(a){return a.size.height},_width:function(a){return a.size.width},_x:function(a){return a.location.x},_y:function(a){return a.location.y}},b}(a.SurfaceElementBase);b.DiagramElementBaseSurface=c;var d=function(a){function b(b,c){a.call(this,b,c,null),this.contenttemplate="dxdd-element-content-with-connecting-points"}return __extends(b,a),b.prototype._getChildrenHolderName=function(){return"connectingPoints"},b}(c);b.DiagramElementSurface=d}(a.Diagram||(a.Diagram={}))}(a.Analytics||(a.Analytics={}))}(DevExpress||(DevExpress={}));var DevExpress;!function(a){!function(a){!function(a){var b=function(a){function b(c,d){a.call(this,c,d,b._unitProperties),this.template="dxdd-connecting-point",this.selectiontemplate="dxdd-connection-point-selection",this.contenttemplate=""}return __extends(b,a),b._unitProperties={_x:function(a){return ko.pureComputed(function(){return a.location.x()-a.parentModel().location.x()})},_y:function(a){return ko.pureComputed(function(){return a.location.y()-a.parentModel().location.y()})}},b}(a.DiagramElementBaseSurface);a.ConnectingPointSurface=b}(a.Diagram||(a.Diagram={}))}(a.Analytics||(a.Analytics={}))}(DevExpress||(DevExpress={}));var DevExpress;!function(a){!function(a){!function(a){var b=function(a){function b(b,c,d){var e=this;a.call(this,$.extend(b,{"@ControlType":"ConnectionPoint"}),c,d);var f=this.location.x,g=this.location.y;this.location.x=ko.pureComputed({read:function(){return e.connectingPoint()&&e.connectingPoint().location.x()||f()},write:function(a){e.connectingPoint(null),f(a)}}),this.location.y=ko.pureComputed({read:function(){return e.connectingPoint()&&e.connectingPoint().location.y()||g()},write:function(a){e.connectingPoint(null),g(a)}})}return __extends(b,a),b}(a.DiagramElementBaseViewModel);a.ConnectionPointViewModel=b,a.connectionPointSerializationInfo=[a.location,{propertyName:"connectingPoint",modelName:"@ConnectingPoint",link:!0}]}(a.Diagram||(a.Diagram={}))}(a.Analytics||(a.Analytics={}))}(DevExpress||(DevExpress={}));var DevExpress;!function(a){!function(a){!function(b){var c=function(a){function b(c,d){var e=this;a.call(this,c,d,b._unitProperties),this.template="dx-diagram-connection-point",this.selectiontemplate="dx-diagram-connection-point",this.relativeX=ko.pureComputed(function(){return e.rect().left-e.parent.rect().left}),this.relativeY=ko.pureComputed(function(){return e.rect().top-e.parent.rect().top})}return __extends(b,a),b.prototype.container=function(){return this.getRoot()},b._unitProperties={_x:function(a){return a.location.x},_y:function(a){return a.location.y}},b}(a.SurfaceElementBase);b.ConnectionPointSurface=c}(a.Diagram||(a.Diagram={}))}(a.Analytics||(a.Analytics={}))}(DevExpress||(DevExpress={}));var DevExpress;!function(a){!function(a){!function(b){var c=function(c){function d(d,e,f){var g=this;c.call(this,$.extend({"@ControlType":"Connector"},d),e,f),this.startPoint(this.startPoint()||new b.ConnectionPointViewModel({"@Location":"0, 0"},this,f)),this.endPoint(this.endPoint()||new b.ConnectionPointViewModel({"@Location":"150, 75"},this,f)),this.location=new a.Point(0,0),this.location.x=ko.pureComputed({read:function(){return g.getX()},write:function(a){var b=g.startPoint().location.x()<g.endPoint().location.x()?g.startPoint().location.x():g.endPoint().location.x(),c=a-b;g.startPoint().location.x(g.startPoint().location.x()+c),g.endPoint().location.x(g.endPoint().location.x()+c)}}),this.location.y=ko.pureComputed({read:function(){return g.getY()},write:function(a){var b=g.startPoint().location.y()<g.endPoint().location.y()?g.startPoint().location.y():g.endPoint().location.y(),c=a-b;g.startPoint().location.y(g.startPoint().location.y()+c),g.endPoint().location.y(g.endPoint().location.y()+c)}}),this.size=new a.Size(0,0),this.size.width=ko.pureComputed({read:function(){return g.getWidth()},write:function(a){g.startPoint().location.x()<g.endPoint().location.x()?g.endPoint().location.x(g.startPoint().location.x()+a):g.startPoint().location.x(g.endPoint().location.x()+a)}}),this.size.height=ko.pureComputed({read:function(){return g.getHeight()},write:function(a){g.startPoint().location.y()<g.endPoint().location.y()?g.endPoint().location.y(g.startPoint().location.y()+a):g.startPoint().location.y(g.endPoint().location.y()+a)}})}return __extends(d,c),d.prototype.getX=function(){return this.startPoint().location.x()<this.endPoint().location.x()?this.startPoint().location.x():this.endPoint().location.x()},d.prototype.getY=function(){return this.startPoint().location.y()<this.endPoint().location.y()?this.startPoint().location.y():this.endPoint().location.y()},d.prototype.getWidth=function(){return Math.abs(this.startPoint().location.x()-this.endPoint().location.x())||d.MIN_LINE_THICKNESS},d.prototype.getHeight=function(){return Math.abs(this.startPoint().location.y()-this.endPoint().location.y())||d.MIN_LINE_THICKNESS},d.MIN_LINE_THICKNESS=3,d}(b.DiagramElementBaseViewModel);b.ConnectorViewModel=c}(a.Diagram||(a.Diagram={}))}(a.Analytics||(a.Analytics={}))}(DevExpress||(DevExpress={}));var DevExpress;!function(a){!function(a){!function(a){var b=function(b){function c(c,d){b.call(this,c,d,null),this.template="dxdd-connector",this.selectiontemplate="dxdd-connector-selection",this.startPoint=ko.pureComputed(function(){return new a.ConnectionPointSurface(c.startPoint(),d)}),this.endPoint=ko.pureComputed(function(){return new a.ConnectionPointSurface(c.endPoint(),d)})}return __extends(c,b),c}(a.DiagramElementBaseSurface);a.ConnectorSurface=b}(a.Diagram||(a.Diagram={}))}(a.Analytics||(a.Analytics={}))}(DevExpress||(DevExpress={}));var DevExpress;!function(a){!function(a){!function(b){var c=function(c){function d(e,f,g){var h=this;c.call(this,$.extend({"@ControlType":"RoutedConnector"},e),f,g),this._isUpdating=!1,this._getPower=function(a){for(var b=0;b<10;b++)if(a>=Math.pow(2,b)&&a<Math.pow(2,b+1))return b+1;return 1},this.seriesNumber=ko.observable(1),this.routePoints=ko.observable([]),this.freezeRoute=ko.observable(!1),this._disposables.push(ko.computed(function(){var a=!(1+h.startPoint().location.x()+h.startPoint().location.y()+h.endPoint().location.x()+h.endPoint().location.y());h._isUpdating||h.freezeRoute(a)})),this._disposables.push(ko.computed(function(){if(!h.freezeRoute()){var c=[],e=h._getStartPointSide(),f=h._getEndPointSide(),g=new a.Point(h.startPoint().location.x(),h.startPoint().location.y()),i=new a.Point(h.endPoint().location.x(),h.endPoint().location.y());h.startPoint().connectingPoint()&&(h._fixPoint(g,h.startPoint().connectingPoint().side()),c.push(g)),h.endPoint().connectingPoint()&&h._fixPoint(i,h.endPoint().connectingPoint().side());var j=Math.min(g.x(),i.x()),k=Math.min(g.y(),i.y()),l=Math.abs(g.x()-i.x()),m=Math.abs(g.y()-i.y()),n=h.seriesNumber(),o=h._getRatio(n),p=(n-1)*d.GRID_SIZE;g.y()-i.y()>0?g.x()-i.x()>0?e===b.PointSide.North||e===b.PointSide.East?f===b.PointSide.North||f===b.PointSide.East?(1!==n&&(l+=p,c.push(new a.Point(j+l,k+m))),c.push(new a.Point(j+l,k))):(c.push(new a.Point(j+l,k+m*o)),c.push(new a.Point(j,k+m*o))):f===b.PointSide.South||f===b.PointSide.West?c.push(new a.Point(j,k+m)):(c.push(new a.Point(j+l*o,k+m)),c.push(new a.Point(j+l*o,k))):e===b.PointSide.North||e===b.PointSide.West?f===b.PointSide.North||f===b.PointSide.West?(1!==n&&(j-=p,c.push(new a.Point(j,k+m))),c.push(new a.Point(j,k))):(c.push(new a.Point(j,k+m*o)),c.push(new a.Point(j+l,k+m*o))):f===b.PointSide.South||f===b.PointSide.East?c.push(new a.Point(j+l,k+m)):(c.push(new a.Point(j+l*o,k+m)),c.push(new a.Point(j+l*o,k))):g.x()-i.x()>0?e===b.PointSide.South||e===b.PointSide.East?f===b.PointSide.South||f===b.PointSide.East?(1!==n&&(l+=p,c.push(new a.Point(j+l,k))),c.push(new a.Point(j+l,k+m))):(c.push(new a.Point(j+l,k+m*o)),c.push(new a.Point(j,k+m*o))):f===b.PointSide.North||f===b.PointSide.West?c.push(new a.Point(j,k)):(c.push(new a.Point(j+l*o,k)),c.push(new a.Point(j+l*o,k+m))):e===b.PointSide.South||e===b.PointSide.West?f===b.PointSide.South||f===b.PointSide.West?(1!==n&&(j-=p,c.push(new a.Point(j,k))),c.push(new a.Point(j,k+m))):(c.push(new a.Point(j,k+m*o)),c.push(new a.Point(j+l,k+m*o))):f===b.PointSide.North||f===b.PointSide.East?c.push(new a.Point(j+l,k)):(c.push(new a.Point(j+l*o,k)),c.push(new a.Point(j+l*o,k+m))),h.endPoint().connectingPoint()&&c.push(i),h.routePoints(c)}}))}return __extends(d,c),d.prototype.getX=function(){var a=c.prototype.getX.call(this);return this.routePoints&&this.routePoints().forEach(function(b){b.x()<a&&(a=b.x())}),a},d.prototype.getY=function(){var a=c.prototype.getY.call(this);return this.routePoints&&this.routePoints().forEach(function(b){b.y()<a&&(a=b.y())}),a},d.prototype.getWidth=function(){var a=c.prototype.getWidth.call(this),b=this.getX();return this.routePoints&&[this.startPoint().location,this.endPoint().location].concat(this.routePoints()).forEach(function(c){c.x()-b>a&&(a=c.x()-b)}),a},d.prototype.getHeight=function(){var a=c.prototype.getHeight.call(this),b=this.getY();return this.routePoints&&[this.startPoint().location,this.endPoint().location].concat(this.routePoints()).forEach(function(c){c.y()-b>a&&(a=c.y()-b)}),Math.round(a)},d.prototype._fixPoint=function(a,c){switch(c){case b.PointSide.North:a.y(a.y()-d.GRID_SIZE);break;case b.PointSide.East:a.x(a.x()+d.GRID_SIZE);break;case b.PointSide.West:a.x(a.x()-d.GRID_SIZE);break;case b.PointSide.South:a.y(a.y()+d.GRID_SIZE)}},d.prototype._getStartPointSide=function(){return this.startPoint().connectingPoint()?this.startPoint().connectingPoint().side():this.startPoint().location.y()!==this.endPoint().location.y()?this.startPoint().location.y()>this.endPoint().location.y()?b.PointSide.North:b.PointSide.South:this.startPoint().location.x()>this.endPoint().location.x()?b.PointSide.West:b.PointSide.East},d.prototype._getEndPointSide=function(){return this.endPoint().connectingPoint()?this.endPoint().connectingPoint().side():this.startPoint().location.y()!==this.endPoint().location.y()?this.startPoint().location.y()>this.endPoint().location.y()?b.PointSide.South:b.PointSide.North:this.startPoint().location.x()>this.endPoint().location.x()?b.PointSide.East:b.PointSide.West},d.prototype._getRatio=function(a){for(var b=this._getPower(a),c=Math.pow(2,b),d=Math.pow(2,b-1),e=[],f=1;f<d;f++)f%2!=0&&(e.push(c-f),e.push(f));return e.reverse(),(e[a-d]||1)/c},d.prototype.beginUpdate=function(){this._isUpdating=!0},d.prototype.endUpdate=function(){this._isUpdating=!1},d.GRID_SIZE=10,d}(b.ConnectorViewModel);b.RoutedConnectorViewModel=c}(a.Diagram||(a.Diagram={}))}(a.Analytics||(a.Analytics={}))}(DevExpress||(DevExpress={}));var DevExpress;!function(a){!function(a){!function(a){var b=function(b){function c(d,e){var f=this;b.call(this,d,e,null),this.template="dxdd-routed-connector",this.selectiontemplate="dxdd-routed-connector-selection",this.showArrow=ko.observable(!1),this.isVisible=ko.observable(!0),this.routePoints=ko.observableArray(),this.routePointsSet=ko.pureComputed(function(){var a=[];return f.routePoints().forEach(function(b){a.push(b.x()+" "+b.y())}),a.join(", ")}),this.routeLineWrappers=ko.pureComputed(function(){for(var a=[],b=1;b<f.routePoints().length;b++)a.push(f._createRouteLineWrapper(f.routePoints()[b-1],f.routePoints()[b],1===b||b===f.routePoints().length-1));return a}),this.connectorID=function(){return f._connectorID},this._connectorID=c._connectorsCount++,this.startPoint=ko.pureComputed(function(){return new a.ConnectionPointSurface(d.startPoint(),e)}),this.endPoint=ko.pureComputed(function(){return new a.ConnectionPointSurface(d.endPoint(),e)}),this._disposables.push(d.routePoints.subscribe(function(a){f._updateRoutePoints()})),this._updateRoutePoints()}return __extends(c,b),c.prototype._createRoutePoint=function(a,b){var c=this;return{x:ko.pureComputed(function(){return c._context.rtl()?Math.round(c.getControlModel().size.width()-(a.x()-b.x())):Math.round(a.x()-b.x())}),y:ko.pureComputed(function(){return Math.round(a.y()-b.y())}),modelPoint:a}},c.prototype._createRouteLineWrapper=function(a,b,c){var d=this;void 0===c&&(c=!1);var e=this,f=Math.abs(a.x.peek()-b.x.peek())<1,g=a.modelPoint.y.peek(),h=a.modelPoint.x.peek();return{position:{top:Math.min(a.y.peek(),b.y.peek())-2,left:Math.min(a.x.peek(),b.x.peek())-2,width:Math.abs(a.x.peek()-b.x.peek())+6,height:Math.abs(a.y.peek()-b.y.peek())+6},isVerticalLine:f,resizeHandler:function(c){e._control.freezeRoute(!0);try{if(e._control.beginUpdate(),f){if(d._context.rtl())var i=h-c.delta.dx;else var i=h+c.delta.dx;a.modelPoint.x(i),b.modelPoint.x(i)}else{var j=g+c.delta.dy;a.modelPoint.y(j),b.modelPoint.y(j)}}finally{e._control.endUpdate()}},resizeStopped:function(){e._control.routePoints.notifySubscribers(e._control.routePoints())},isLocked:ko.observable(c)}},c.prototype._updateRoutePoints=function(){var a=this,b=[],c=this.getControlModel(),d=c.location;b.push(this._createRoutePoint(c.startPoint().location,d)),c.routePoints().forEach(function(c){b.push(a._createRoutePoint(c,d))}),b.push(this._createRoutePoint(c.endPoint().location,d)),this.routePoints(b)},c._connectorsCount=0,c}(a.DiagramElementBaseSurface);a.RoutedConnectorSurface=b}(a.Diagram||(a.Diagram={}))}(a.Analytics||(a.Analytics={}))}(DevExpress||(DevExpress={}));var DevExpress;!function(a){!function(b){!function(c){var d=function(a){function d(c){var d=new b.Utils.ModelSerializer;a.call(this,c,null,d),this.controlType="Diagram",this.controls=ko.observableArray(),this.name("Diagram")}return __extends(d,a),d.prototype.getInfo=function(){return c.diagramSerializationsInfo},d}(c.DiagramElementBaseViewModel);c.DiagramViewModel=d,c.margins={propertyName:"margins",modelName:"@Margins",from:b.Margins.fromString,displayName:"Margins"},c.pageWidth={propertyName:"pageWidth",modelName:"@PageWidth",defaultVal:850,from:b.Utils.floatFromModel,displayName:"Page Width",editor:a.JS.Widgets.editorTemplates.numeric},c.pageHeight={propertyName:"pageHeight",modelName:"@PageHeight",defaultVal:1250,from:b.Utils.floatFromModel,displayName:"Page Height",editor:a.JS.Widgets.editorTemplates.numeric},c.diagramSerializationsInfo=[c.name,c.pageWidth,c.pageHeight,c.margins]}(b.Diagram||(b.Diagram={}))}(a.Analytics||(a.Analytics={}))}(DevExpress||(DevExpress={}));var DevExpress;!function(a){!function(a){!function(b){var c=function(b){function c(d,e){void 0===e&&(e=ko.observable(1)),b.call(this,d,{measureUnit:ko.observable("Pixels"),zoom:e,dpi:ko.observable(100)},c._unitProperties),this.measureUnit=ko.observable("Pixels"),this.dpi=ko.observable(100),this.controls=ko.observableArray(),this.allowMultiselect=!1,this.focused=ko.observable(!1),this.selected=ko.observable(!1),this.underCursor=ko.observable(new a.Internal.HoverInfo),this.parent=null,this.templateName="dx-diagram-surface",this.margins={bottom:this._bottom,left:this._left,right:this._right,top:this._top},this.zoom=e,this._context=this,a.Utils.createObservableArrayMapCollection(d.controls,this.controls,this._createSurface)}return __extends(c,b),c.prototype.checkParent=function(a){return!1},c.prototype.getChildrenCollection=function(){return ko.observableArray([])},c._unitProperties={_width:function(a){return a.pageWidth},_height:function(a){return a.pageWidth},pageWidth:function(a){return a.pageWidth},pageHeight:function(a){return a.pageHeight},_bottom:function(a){return a.margins.bottom},_left:function(a){return a.margins.left},_right:function(a){return a.margins.right},_top:function(a){return a.margins.top}},c}(a.SurfaceElementBase);b.DiagramSurface=c}(a.Diagram||(a.Diagram={}))}(a.Analytics||(a.Analytics={}))}(DevExpress||(DevExpress={}));var DevExpress;!function(a){!function(b){!function(c){function d(d,e,f,g){f&&a.JS.Localization.addCultureInfo({messages:f}),c.registerControls();var h=ko.pureComputed(function(){return new c.DiagramViewModel(e())}),i=ko.pureComputed(function(){return new c.DiagramSurface(h())}),j=b.Utils.createDesigner(h,i,c.controlsFactory,c.groups,void 0,void 0,g);j.connectionPointDragHandler=new c.ConnectionPointDragHandler(i,j.selection,j.undoEngine,j.snapHelper,j.dragHelperContent),j.connectingPointDragHandler=new c.ConnectingPointDragHandler(i,j.selection,j.undoEngine,j.snapHelper,j.dragHelperContent),j.isLoading(!1),j.selection.focused(i()),$(d).children().remove(),ko.applyBindings(j,d);var k=b.Internal.updateSurfaceContentSize(j.surfaceSize,d);return $(window).bind("resize",function(){k()}),j.tabPanel.width.subscribe(function(){k()}),k(),j}c.groups={Appearance:{info:[]},Behavior:{info:[]},Design:{info:[c.name]},Layout:{info:[c.location,c.size,c.pageWidth,c.pageHeight]}},c.createDiagramDesigner=d}(b.Diagram||(b.Diagram={}))}(a.Analytics||(a.Analytics={}))}(DevExpress||(DevExpress={}));var DevExpress;!function(a){!function(a){!function(a){function b(b,c){var d={start:null,end:null};if(c.leftConnectionPoint.location.x()>b.rightConnectionPoint.location.x()+2*a.RoutedConnectorViewModel.GRID_SIZE)d.start=b.rightConnectionPoint,d.end=c.leftConnectionPoint;else if(b.leftConnectionPoint.location.x()>c.rightConnectionPoint.location.x()+2*a.RoutedConnectorViewModel.GRID_SIZE)d.start=b.leftConnectionPoint,d.end=c.rightConnectionPoint;else{var e=(b.rightConnectionPoint.location.x()+b.rightConnectionPoint.location.x())/2,f=(c.rightConnectionPoint.location.x()+c.rightConnectionPoint.location.x())/2;e>f?(d.start=b.rightConnectionPoint,d.end=c.rightConnectionPoint):(d.start=b.leftConnectionPoint,d.end=c.leftConnectionPoint)}return d}!function(a){a[a.East=0]="East",a[a.South=1]="South",a[a.North=2]="North",a[a.West=3]="West"}(a.PointSide||(a.PointSide={}));a.PointSide;a.determineConnectingPoints=b}(a.Diagram||(a.Diagram={}))}(a.Analytics||(a.Analytics={}))}(DevExpress||(DevExpress={}));var DevExpress;!function(a){!function(b){!function(b){var c=function(a){function b(){a.apply(this,arguments)}return __extends(b,a),b}(a.Analytics.Diagram.ConnectingPointDragHandler);b.ConnectingPointDragHandler=c,a.Analytics.Internal._defineProperty(a.Designer.Diagram,a.Analytics.Diagram,"ConnectingPointDragHandler");var d=function(a){function b(){a.apply(this,arguments)}return __extends(b,a),b}(a.Analytics.Diagram.ConnectionPointDragHandler);b.ConnectionPointDragHandler=d,a.Analytics.Internal._defineProperty(a.Designer.Diagram,a.Analytics.Diagram,"ConnectionPointDragHandler");var e=function(a){function b(){a.apply(this,arguments)}return __extends(b,a),b}(a.Analytics.Diagram.ConnectionPointViewModel);b.ConnectionPointViewModel=e,a.Analytics.Internal._defineProperty(a.Designer.Diagram,a.Analytics.Diagram,"ConnectionPointViewModel");var f=function(a){function b(){a.apply(this,arguments)}return __extends(b,a),b}(a.Analytics.Diagram.ConnectionPointSurface);b.ConnectionPointSurface=f,a.Analytics.Internal._defineProperty(a.Designer.Diagram,a.Analytics.Diagram,"ConnectionPointSurface");var g=function(a){function b(){a.apply(this,arguments)}return __extends(b,a),b}(a.Analytics.Diagram.ConnectorViewModel);b.ConnectorViewModel=g,a.Analytics.Internal._defineProperty(a.Designer.Diagram,a.Analytics.Diagram,"ConnectorViewModel");var h=function(a){function b(){a.apply(this,arguments)}return __extends(b,a),b}(a.Analytics.Diagram.ConnectorSurface);b.ConnectorSurface=h,a.Analytics.Internal._defineProperty(a.Designer.Diagram,a.Analytics.Diagram,"ConnectorSurface");var i=function(a){function b(){a.apply(this,arguments)}return __extends(b,a),b}(a.Analytics.Diagram.RoutedConnectorViewModel);b.RoutedConnectorViewModel=i,a.Analytics.Internal._defineProperty(a.Designer.Diagram,a.Analytics.Diagram,"RoutedConnectorViewModel");var j=function(a){function b(){a.apply(this,arguments)}return __extends(b,a),b}(a.Analytics.Diagram.RoutedConnectorSurface);b.RoutedConnectorSurface=j,a.Analytics.Internal._defineProperty(a.Designer.Diagram,a.Analytics.Diagram,"RoutedConnectorSurface");var k=function(a){function b(){a.apply(this,arguments)}return __extends(b,a),b}(a.Analytics.Diagram.ConnectingPointViewModel);b.ConnectingPointViewModel=k,a.Analytics.Internal._defineProperty(a.Designer.Diagram,a.Analytics.Diagram,"ConnectingPointViewModel"),b.connectingPointSerializationInfo=a.Analytics.Diagram.connectingPointSerializationInfo,a.Analytics.Internal._defineProperty(a.Designer.Diagram,a.Analytics.Diagram,"connectingPointSerializationInfo");var l=function(a){function b(){a.apply(this,arguments)}return __extends(b,a),b}(a.Analytics.Diagram.ConnectingPointSurface);b.ConnectingPointSurface=l,a.Analytics.Internal._defineProperty(a.Designer.Diagram,a.Analytics.Diagram,"ConnectingPointSurface");var m=function(a){function b(){a.apply(this,arguments)}return __extends(b,a),b}(a.Analytics.Diagram.DiagramElementBaseViewModel);b.DiagramElementBaseViewModel=m,a.Analytics.Internal._defineProperty(a.Designer.Diagram,a.Analytics.Diagram,"DiagramElementBaseViewModel");var n=function(a){function b(){a.apply(this,arguments)}return __extends(b,a),b}(a.Analytics.Diagram.DiagramElementViewModel);b.DiagramElementViewModel=n,a.Analytics.Internal._defineProperty(a.Designer.Diagram,a.Analytics.Diagram,"DiagramElementViewModel"),b.diagramElementSerializationInfo=a.Analytics.Diagram.diagramElementSerializationInfo,a.Analytics.Internal._defineProperty(a.Designer.Diagram,a.Analytics.Diagram,"diagramElementSerializationInfo");var o=function(a){function b(){a.apply(this,arguments)}return __extends(b,a),b}(a.Analytics.Diagram.DiagramElementBaseSurface);b.DiagramElementBaseSurface=o,a.Analytics.Internal._defineProperty(a.Designer.Diagram,a.Analytics.Diagram,"DiagramElementBaseSurface");var p=function(a){function b(){a.apply(this,arguments)}return __extends(b,a),b}(a.Analytics.Diagram.DiagramElementSurface);b.DiagramElementSurface=p,a.Analytics.Internal._defineProperty(a.Designer.Diagram,a.Analytics.Diagram,"DiagramElementSurface");var q=function(a){function b(){a.apply(this,arguments)}return __extends(b,a),b}(a.Analytics.Diagram.DiagramViewModel);b.DiagramViewModel=q,a.Analytics.Internal._defineProperty(a.Designer.Diagram,a.Analytics.Diagram,"DiagramViewModel"),b.margins=a.Analytics.Diagram.margins,a.Analytics.Internal._defineProperty(a.Designer.Diagram,a.Analytics.Diagram,"margins"),b.pageWidth=a.Analytics.Diagram.pageWidth,a.Analytics.Internal._defineProperty(a.Designer.Diagram,a.Analytics.Diagram,"pageWidth"),b.pageHeight=a.Analytics.Diagram.pageHeight,a.Analytics.Internal._defineProperty(a.Designer.Diagram,a.Analytics.Diagram,"pageHeight"),b.diagramSerializationsInfo=a.Analytics.Diagram.diagramSerializationsInfo,a.Analytics.Internal._defineProperty(a.Designer.Diagram,a.Analytics.Diagram,"diagramSerializationsInfo");var r=function(a){function b(){a.apply(this,arguments)}return __extends(b,a),b}(a.Analytics.Diagram.DiagramSurface);b.DiagramSurface=r,a.Analytics.Internal._defineProperty(a.Designer.Diagram,a.Analytics.Diagram,"DiagramSurface"),b.controlsFactory=a.Analytics.Diagram.controlsFactory,a.Analytics.Internal._defineProperty(a.Designer.Diagram,a.Analytics.Diagram,"controlsFactory"),b.registerControls=a.Analytics.Diagram.registerControls,a.Analytics.Internal._defineProperty(a.Designer.Diagram,a.Analytics.Diagram,"registerControls"),b.groups=a.Analytics.Diagram.groups,a.Analytics.Internal._defineProperty(a.Designer.Diagram,a.Analytics.Diagram,"groups"),b.createDiagramDesigner=a.Analytics.Diagram.createDiagramDesigner,a.Analytics.Internal._defineProperty(a.Designer.Diagram,a.Analytics.Diagram,"createDiagramDesigner"),b.name=a.Analytics.Diagram.name,a.Analytics.Internal._defineProperty(a.Designer.Diagram,a.Analytics.Diagram,"name"),b.text=a.Analytics.Diagram.text,a.Analytics.Internal._defineProperty(a.Designer.Diagram,a.Analytics.Diagram,"text"),b.size=a.Analytics.Diagram.size,a.Analytics.Internal._defineProperty(a.Designer.Diagram,a.Analytics.Diagram,"size"),b.location=a.Analytics.Diagram.location,a.Analytics.Internal._defineProperty(a.Designer.Diagram,a.Analytics.Diagram,"location"),b.sizeLocation=a.Analytics.Diagram.sizeLocation,a.Analytics.Internal._defineProperty(a.Designer.Diagram,a.Analytics.Diagram,"sizeLocation"),b.unknownSerializationsInfo=a.Analytics.Diagram.unknownSerializationsInfo,a.Analytics.Internal._defineProperty(a.Designer.Diagram,a.Analytics.Diagram,"unknownSerializationsInfo"),b.PointSide=a.Analytics.Diagram.PointSide,a.Analytics.Internal._defineProperty(a.Designer.Diagram,a.Analytics.Diagram,"PointSide"),b.determineConnectingPoints=a.Analytics.Diagram.determineConnectingPoints,a.Analytics.Internal._defineProperty(a.Designer.Diagram,a.Analytics.Diagram,"determineConnectingPoints")}(b.Diagram||(b.Diagram={}))}(a.Designer||(a.Designer={}))}(DevExpress||(DevExpress={}));var __extends=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},DevExpress;!function(a){!function(b){var c={propertyName:"parameters",displayName:"parameters",editor:{custom:"dxqb-parameterspanel"}},d={propertyName:"selectedItem",displayName:"selectedItem",editor:{custom:"dxqb-propertygrid"}},e={propertyName:"fields",displayName:"fields",editor:{custom:"dxqb-fieldspanel"}},f={propertyName:"query",displayName:"query",editor:{custom:"dxqb-propertygrid"}},g=function(g){function h(a,c,d,e,f){var h=this;g.call(this,{text:"Properties",template:"dxqb-properties-wrapper",model:this._createQBPropertyGrid(a,c,d,f)}),this.active(!0),this._getGroupByName("Fields").collapsed(!1),this._disposables.push(e.subscribe(function(a){if(!(a instanceof b.Elements.QueryViewModel)){h._getGroupByName("SelectedItem").collapsed(!1)}}))}return __extends(h,g),h.prototype._getSelectedItemPropertyName=function(b){var c="Selection Properties",d="ASPxReportsStringId.ReportDesigner_QueryBuilder_SelectionProperties";switch(b&&b.controlType){case"Query":c="Query Properties",d="ASPxReportsStringId.ReportDesigner_QueryBuilder_QueryProperties";break;case"Table":c="Table Properties",d="ASPxReportsStringId.ReportDesigner_QueryBuilder_TableProperties";break;case"Column":c="Column Properties",d="ASPxReportsStringId.ReportDesigner_QueryBuilder_ColumnProperties";break;case"JoinCondition":c="Relation Properties",d="ASPxReportsStringId.ReportDesigner_QueryBuilder_RelationProperties"}return a.Analytics.getLocalization(c,d)},h.prototype._createWrappedObject=function(g,h,i,j){var k=new a.Analytics.Widgets.ObjectProperties(g,null,1),l=ko.computed(function(){return g()&&g().parameters}),m=[f,d,e],n={selectedItem:h,query:{editableObject:g,properties:k},fields:h,isPropertyVisible:function(a){return"selectedItem"!==a||h.editableObject()!==g()}};return j&&(n.parameters={values:l,addHandler:function(){return new b.Elements.ParameterViewModel({"@Type":"System.String"})},collapsed:!1,undoEngine:i,isVisibleButton:function(a,b){return"add"===b||"delete"===b},template:"#dxqb-collectioneditor-template",textEmptyArray:{text:"Click the Add button to create a parameter.",localizationId:"ASPxReportsStringId.ReportDesigner_QueryBuilder_PageConfigureParametersEmpty"}},m.push(c)),n.getInfo=function(){return m},n},h.prototype._createGroups=function(b,g){var h=this,i={Query:{info:[f],displayName:function(){return a.Analytics.getLocalization("Query Properties","ASPxReportsStringId.ReportDesigner_QueryBuilder_QueryProperties")}},SelectedItem:{info:[d],displayName:function(){return h._getSelectedItemPropertyName(b())}},Fields:{info:[e],displayName:function(){return a.Analytics.getLocalization("Available tables and views","ASPxReportsStringId.ReportDesigner_QueryBuilder_AvailableTables")}}};return g&&(i.Parameters={info:[c],displayName:function(){return a.Analytics.getLocalization("Parameters","ASPxReportsStringId.ReportDesigner_QueryBuilder_Parameters")}}),i},h.prototype._createQBPropertyGrid=function(b,c,d,e){var f=this._createWrappedObject(b,c,d,e);return new a.Analytics.Widgets.ControlProperties(ko.observable(f),{groups:this._createGroups(c.editableObject,e),editors:f.getInfo()},void 0,!1)},h.prototype._getGroupByName=function(a){return this.model.groups.filter(function(b){return b._displayName===a})[0]},h}(a.Analytics.TabInfo);b.AccordionTabInfo=g}(a.QueryBuilder||(a.QueryBuilder={}))}(DevExpress||(DevExpress={}));var DevExpress;!function(a){!function(b){ko.bindingHandlers.dxQueryBuilder={init:function(c,d){var e=a.Analytics.Widgets.Internal.getTemplate("dxrd-querybuilder"),f=$(c).append(e),g=ko.unwrap(d()),h=ko.unwrap(g.options);return g.designerModel(b.createQueryBuilder(f.children()[0],h.data,h.callbacks,h.localization,h.rtl)),{controlsDescendantBindings:!0}}},ko.bindingHandlers.dxdTableView={init:function(b,c,d,e,f){var g=a.Analytics.Widgets.Internal.getTemplate("dxd-tableview"),h=$(b).append(g),i=ko.unwrap(c());ko.applyBindings({data:i,rtl:!!f.$root.rtl,noDataText:a.Analytics.Localization.noDataText,isImage:function(a){return"System.Byte[]"===i.schema[a].type},isImageTooLarge:function(a){return"!"===a[0]},getImageTooLargeText:function(a){return"Image too large ("+a.substring(1)+" bytes)"}},h.children()[0]);var j=h.find(".dxd-tableview-titles"),k=h.find(".dxd-tableview-data table");h.find(".dxd-tableview-titles .dxd-tableview-resizable").each(function(a,b){var c=$(b).find(".dxd-tableview-cell-text"),d=h.find(".dxd-tableview-data .dxd-tableview-resizable"+a);a<i.schema.length-1&&$(b).resizable({handles:"e",alsoResize:d.parent(),resize:function(a,b){c.outerWidth(b.size.width),d.outerWidth(b.size.width)}});var e=Math.max(c.width(),d.width());c.width(e),d.width(e)});var l=a.ui.dxScrollView.getInstance($(".dxd-tableview-data").get(0));return l&&(l.option("onScroll",function(a){a.scrollOffset.left>=0&&j.offset({left:k.offset().left,top:j.offset().top})}),f.$root.rtl&&l.scrollTo({left:l.scrollWidth(),top:0})),{controlsDescendantBindings:!0}}}}(a.QueryBuilder||(a.QueryBuilder={}))}(DevExpress||(DevExpress={}));var DevExpress;!function(a){!function(b){!function(c){function d(a){var b=$.extend(!0,{},i),c=[];c.push(i.valuesArray.filter(function(b){return b.value===a})[0]),c.push(i.valuesArray.filter(function(a){return"DevExpress.DataAccess.Expression"===a.value})[0]),b.valuesArray=c;var d=$.extend(!0,{},j);return d.valuesArray=c.slice(0,0),d.disabled=!0,[$.extend({disabled:!0},h),b,d].concat(k)}function e(a){return b.Utils.integerValueConverter(a,this.defaultValue)}function f(a){return b.Utils.floatValueConverter(a,this.defaultValue)}function g(a){if(a instanceof Date){var c=function(a){return(a<10?"0":"")+a};return b.Utils.formatUnicorn("#{0}/{1}/{2} {3}:{4}#",c(a.getMonth()+1),c(a.getDate()),a.getFullYear(),c(a.getHours()),c(a.getMinutes()))}return(a||"").toString()}c.dsParameterNameValidationRules=[{type:"custom",validationCallback:function(a){return o.validateName(a.value)},message:a.Analytics.getLocalization("Name is required and should be a valid identifier.","ASPxReportsStringId.ReportDesigner_NameIsRequired_Error")}],c.parameterValueSerializationsInfo={propertyName:"value",displayName:"Value",localizationId:"DevExpress.DataAccess.Parameter.Value",editor:b.Widgets.editorTemplates.text};var h={propertyName:"name",displayName:"Name",localizationId:"DevExpress.DataAccess.Parameter.Name",validationRules:c.dsParameterNameValidationRules,editor:b.Widgets.editorTemplates.text},i={propertyName:"type",displayName:"Type",localizationId:"DevExpress.DataAccess.Parameter.Type",modelName:"@Type",editor:b.Widgets.editorTemplates.combobox,valuesArray:[{value:"System.String",displayValue:"String",localizationId:"UtilsUIStringId.Parameter_Type_String"},{value:"System.DateTime",displayValue:"Date",localizationId:"UtilsUIStringId.Parameter_Type_DateTime"},{value:"System.Int16",displayValue:"Number (16 bit integer)",localizationId:"UtilsUIStringId.Parameter_Type_Int16"},{value:"System.Int32",displayValue:"Number (32 bit integer)",localizationId:"UtilsUIStringId.Parameter_Type_Int32"},{value:"System.Int64",displayValue:"Number (64 bit integer)",localizationId:"UtilsUIStringId.Parameter_Type_Int64"},{value:"System.Single",displayValue:"Number (floating-point)",localizationId:"UtilsUIStringId.Parameter_Type_Float"},{value:"System.Double",displayValue:"Number (double-precision floating-point)",localizationId:"UtilsUIStringId.Parameter_Type_Double"},{value:"System.Decimal",displayValue:"Number (decimal)",localizationId:"UtilsUIStringId.Parameter_Type_Decimal"},{value:"System.Boolean",displayValue:"Boolean",localizationId:"UtilsUIStringId.Parameter_Type_Boolean"},{value:"System.Guid",displayValue:"Guid",localizationId:"UtilsUIStringId.Parameter_Type_Guid"},{value:"DevExpress.DataAccess.Expression",displayValue:"Expression",localizationId:"DataAccessUIStringId.ParametersColumn_Expression"}]},j={propertyName:"resultType",displayName:"Result Type",localizationId:"DataAccessWebStringId.QueryBuilder_ResultType",modelName:"@ResultType",editor:b.Widgets.editorTemplates.combobox,valuesArray:i.valuesArray.filter(function(a){return"DevExpress.DataAccess.Expression"!==a.value})},k=[{propertyName:"_name",modelName:"@Name"},{propertyName:"_value",modelName:"#text"},c.parameterValueSerializationsInfo,{propertyName:"itemType",modelName:"@ItemType"}];c.dsParameterSerializationInfo=[h,i,j].concat(k),c.storedProcParameterSerializationsInfo=d,c.integerValueConverter=e,c.floatValueConverter=f;var l=function(){function a(a,b,c,d){this.name=a,this.defaultValue=b,this.valueConverter=c,this.realTypeName=d}return Object.defineProperty(a.prototype,"specifics",{get:function(){return c.DBColumn.GetSpecific(this.realTypeName||this.name)},enumerable:!0,configurable:!0}),a}(),m=function(a){var c;try{c=b.Localization.parseDate(a)}catch(a){c=n()}return c},n=function(){var a=new Date;return a.setHours(0,0,0,0),a},o=function(d){function h(b,e,f){var g=this;void 0===f&&(f=c.dsParameterSerializationInfo),d.call(this),this._serializationsInfo=f,this._valueInfo=ko.observable(c.parameterValueSerializationsInfo),this._parametersFunctions=a.QueryBuilder.Widgets.expressionFunctions,this.isValid=ko.observable(!0),e=e||new a.Analytics.Utils.ModelSerializer,e.deserialize(this,$.extend(b,{"@ItemType":"Parameter"})),this.name=ko.pureComputed({read:function(){return g._name()},write:function(a){h.validateName(a)&&g._name(a)}}),this._expressionValue=ko.observable({value:this._value,functions:this._parametersFunctions}),this._disposables.push(this.type.subscribe(function(a){"DevExpress.DataAccess.Expression"===a?g.resultType(g._previousResultType):(g.resultType(null),g._previousResultType=a),g._updateValueInfo(a)})),this._previousResultType="DevExpress.DataAccess.Expression"===this.type.peek()?this.resultType():this.type(),this.value=ko.pureComputed({read:function(){return"DevExpress.DataAccess.Expression"===g.type()?g._expressionValue():g._value()},write:function(a){g._value(a)}}),this._updateValueInfo(this.type.peek())}return __extends(h,d),h.prototype._getTypeValue=function(a){var b=h.typeValues.filter(function(b){return b.name===a});return b.length>0?("DevExpress.DataAccess.Expression"===a&&(b[0].realTypeName=this.resultType()),b[0]):{name:a,defaultValue:null,specifics:"String",disableEditor:!0}},h.prototype._tryConvertValue=function(a,b){if(!h._isValueValid(a))return b.defaultValue;var c=b.valueConverter||function(a){return a},d=c(a);return h._isValueValid(d)?d:b.defaultValue},h._isValueValid=function(a){return void 0!==a&&null!==a&&!isNaN("string"==typeof a?"":a)},h.prototype.getEditorType=function(a){return b.Internal.getEditorType(a)},h.prototype._updateValueInfo=function(a){var b=this,d=this._getTypeValue(a),e=this._tryConvertValue(this._value(),d),f=this._expressionValue.peek();this._expressionValue(null),this._value(null),this._valueInfo($.extend({},c.parameterValueSerializationsInfo,{editor:this.getEditorType(d.name),disabled:!0===d.disableEditor,editorOptions:{onFocusOut:function(a){b.isValid(a.component.option("isValid"))}}})),this._expressionValue(f),this._value(e)},Object.defineProperty(h.prototype,"specifics",{get:function(){var a=this,b=h.typeValues.filter(function(b){return b.name===a.type()});return b.length>0?b[0].specifics:"string"},enumerable:!0,configurable:!0}),h.validateName=function(a){return a&&!a.match(/[~`!"â„–;%\^:\?*\(\)&\-\+={}\[\]\|\\\/,\.<>'\s]/)},h.prototype.getInfo=function(){if(this.type){var a=$.extend(!0,[],this._serializationsInfo);return a.splice(a.indexOf(a.filter(function(a){return"value"===a.propertyName})[0]),1,this._valueInfo()),a}return this._serializationsInfo},h.prototype.isPropertyVisible=function(a){return"resultType"!==a||"DevExpress.DataAccess.Expression"===this.type()},h.typeValues=[new l("System.DateTime",n(),m),new l("System.String",""),new l("System.SByte","0",e),new l("System.Int16","0",e),new l("System.Int32","0",e),new l("System.Int64","0",e),new l("System.Byte","0",e),new l("System.UInt16","0",e),new l("System.UInt32","0",e),new l("System.UInt64","0",e),new l("System.Decimal","0",f),new l("System.Double","0",f),new l("System.Single","0",f),new l("System.Boolean",!1,function(a){return void 0!==a?"true"===String(a).toLowerCase():a}),new l("System.Guid","00000000-0000-0000-0000-000000000000"),new l("DevExpress.DataAccess.Expression","",g),new l("System.Char","")],h}(b.Utils.Disposable);c.DataSourceParameter=o}(b.Data||(b.Data={}))}(a.Analytics||(a.Analytics={}))}(DevExpress||(DevExpress={}));var DevExpress;!function(a){!function(a){!function(a){!function(a){a[a.Unknown=0]="Unknown",a[a.Boolean=1]="Boolean",a[a.Byte=2]="Byte",a[a.SByte=3]="SByte",a[a.Char=4]="Char",a[a.Decimal=5]="Decimal",a[a.Double=6]="Double",a[a.Single=7]="Single",a[a.Int32=8]="Int32",a[a.UInt32=9]="UInt32",a[a.Int16=10]="Int16",a[a.UInt16=11]="UInt16",a[a.Int64=12]="Int64",a[a.UInt64=13]="UInt64",a[a.String=14]="String",a[a.DateTime=15]="DateTime",a[a.Guid=16]="Guid",a[a.TimeSpan=17]="TimeSpan",a[a.ByteArray=18]="ByteArray"}(a.DBColumnType||(a.DBColumnType={}));var b=a.DBColumnType,c=function(){function a(a){this.name=a.Name,this.type=a.ColumnType,this.size=a.Size}return a.GetType=function(a){switch(a){case b.Boolean:return"System.Boolean";case b.Byte:return"System.Byte";case b.SByte:return"System.SByte";case b.Char:return"System.Char";case b.Decimal:return"System.Decimal";case b.Double:return"System.Double";case b.Single:return"System.Single";case b.Int32:return"System.Int32";case b.UInt32:return"System.UInt32";case b.Int16:return"System.Int16";case b.UInt16:return"System.UInt16";case b.Int64:return"System.Int64";case b.UInt64:return"System.UInt64";case b.String:return"System.String";case b.DateTime:return"System.DateTime";case b.Guid:return"System.Guid";case b.TimeSpan:return"System.TimeSpan";case b.ByteArray:return"System.Byte[]";default:return"System.Object"}},a.GetSpecific=function(a){switch(a){case"System.Boolean":return"Bool";case"System.Byte":case"System.SByte":case"System.Int16":case"System.UInt16":case"System.Int32":case"System.UInt32":case"System.Int64":case"System.UInt64":return"Integer";case"System.Char":case"System.Guid":case"System.ByteArray":case"System.String":return"String";case"System.Double":case"System.Single":case"System.Decimal":return"Float";case"System.DateTime":case"System.TimeSpan":return"Date";default:return"String"}},a}();a.DBColumn=c}(a.Data||(a.Data={}))}(a.Analytics||(a.Analytics={}))}(DevExpress||(DevExpress={}));var DevExpress;!function(a){!function(a){!function(a){var b=function(){function a(a){this.name=a.Name,this.primaryKeyTable=a.PrimaryKeyTable,this.column=a.Columns[0],this.primaryKeyColumn=a.PrimaryKeyTableKeyColumns[0]}return a}();a.DBForeignKey=b}(a.Data||(a.Data={}))}(a.Analytics||(a.Analytics={}))}(DevExpress||(DevExpress={}));var DevExpress;!function(a){!function(a){!function(a){function b(a,b,c){var c=c||[];return a&&a.forEach(function(a){c.push(b(a))}),c}a.deserializeToCollection=b;var c=function(){function c(c){var d=b(c.Tables,function(b){return new a.DBTable(b)});d.sort(function(a,b){return a.name.localeCompare(b.name)});var e=b(c.Views,function(b){return new a.DBTable(b)});e.sort(function(a,b){return a.name.localeCompare(b.name)}),this.tables=d.concat(e),this.procedures=b(c.StoredProcedures,function(b){return new a.DBStoredProcedure(b)})}return c}();a.DBSchema=c}(a.Data||(a.Data={}))}(a.Analytics||(a.Analytics={}))}(DevExpress||(DevExpress={}));var DevExpress;!function(a){!function(b){!function(c){function d(a,d,e){var f=$.Deferred();return a.getDbSchema(d,e).done(function(a){f.resolve(new c.DBSchema(JSON.parse(a.dbSchemaJSON)))}).fail(function(a){b.Utils.ShowMessage(b.Utils.formatUnicorn(b.getLocalization("Schema loading failed. {0}","DxDesignerStringId.Error_SchemaLoadingFailed"),b.Utils.getErrorMessage(a))),f.reject()}),f}function e(a,d){var e=$.Deferred();return a.getDbStoredProcedures(d).done(function(a){e.resolve(new c.DBSchema(JSON.parse(a.dbSchemaJSON)).procedures)}).fail(function(a){b.Utils.ShowMessage(b.Utils.formatUnicorn(b.getLocalization("Stored procedures loading failed. {0}","DxDesignerStringId.Error_SchemaLoadingFailed"),b.Utils.getErrorMessage(a))),e.reject()}),e}c.getDBSchemaCallback=d,c.getDBStoredProceduresCallback=e;var f=function(c){function f(b,d){var e=this;void 0===d&&(d=new a.QueryBuilder.Utils.RequestWrapper),c.call(this),this._requestWrapper=d,this._tables={},this.connection=b,this._disposables.push(this.connection.name.subscribe(function(){e._tables={},e._dbSchema=null,e._dbStoredProceduresSchema=null})),this.getItems=function(a){var b=$.Deferred();return a.fullPath?b.resolve([]):e.getDbSchema().done(function(a){b.resolve($.map(a.tables,function(a){return{name:a.name,displayName:a.name,isList:!1,specifics:a.isView?"view":"table",dragData:{noDragable:!1}}}))}),b.promise()}}return __extends(f,c),f.prototype._getDBSchema=function(a){return this._getDBSchemaCallback(this.connection,a)},f.prototype._getDBSchemaCallback=function(a,b){return d(this._requestWrapper,a,b)},f.prototype._getDBStoredProcedures=function(a){return e(this._requestWrapper,a)},f.prototype.getDbSchema=function(){return this._dbSchema&&"rejected"!==this._dbSchema.state()||(this._dbSchema=this._getDBSchema()),this._dbSchema},f.prototype.getDbStoredProcedures=function(){return this._dbStoredProceduresSchema&&"rejected"!==this._dbStoredProceduresSchema.state()||(this._dbStoredProceduresSchema=this._getDBStoredProcedures(this.connection)),this._dbStoredProceduresSchema},f.prototype.getDbTable=function(a){var c=this;if(!this._tables[a]){var d=$.Deferred();this._tables[a]=d.promise(),this.getDbSchema().done(function(e){var f=b.Utils.findFirstItemMatchesCondition(e.tables,function(b){return b.name===a});f?f.columns.length>0?d.resolve(f):c._getDBSchema(f).done(function(a){f.columns=a.tables[0].columns,d.resolve(f)}).fail(function(){return d.reject()}):(d.reject(),b.isCustomizedWithUpdateLocalizationMethod("The schema does not contain the specified table: ")?b.getLocalization("The schema does not contain the specified table: "):b.Utils.formatUnicorn(b.getLocalization('The schema does not contain the specified table: "{0}".',"DataAccessStringId.TableNotInSchemaValidationException"),a))}).fail(function(){return d.reject()})}return this._tables[a]},f}(b.Utils.Disposable);c.DBSchemaProvider=f}(b.Data||(b.Data={}))}(a.Analytics||(a.Analytics={}))}(DevExpress||(DevExpress={}));var DevExpress;!function(a){!function(a){!function(a){var b=function(){function b(b){this.name=b.Name,this.arguments=a.deserializeToCollection(b.arguments,function(a){return new c(a)})}return b}();a.DBStoredProcedure=b,function(a){a[a.In=0]="In",a[a.Out=1]="Out",a[a.InOut=2]="InOut"}(a.DBStoredProcedureArgumentDirection||(a.DBStoredProcedureArgumentDirection={}));var c=(a.DBStoredProcedureArgumentDirection,function(){function a(a){this.name=a.Name,this.type=a.Type,this.direction=a.Direction}return a}());a.DBStoredProcedureArgument=c}(a.Data||(a.Data={}))}(a.Analytics||(a.Analytics={}))}(DevExpress||(DevExpress={}));var DevExpress;!function(a){!function(a){!function(a){var b=function(){function b(b){this.name=b.Name,this.isView="true"===b.IsView||!0===b.IsView,this.columns=a.deserializeToCollection(b.columns,function(b){return new a.DBColumn(b)}),this.foreignKeys=a.deserializeToCollection(b.foreignKeys,function(b){return new a.DBForeignKey(b)})}return b}();a.DBTable=b}(a.Data||(a.Data={}))}(a.Analytics||(a.Analytics={}))}(DevExpress||(DevExpress={}));var DevExpress;!function(a){!function(b){!function(b){var c=[{propertyName:"name",modelName:"@Name"},{propertyName:"tables",modelName:"Views",array:!0}],d=function(){function d(c,d){d=d||new a.Analytics.Utils.ModelSerializer,d.deserialize(this,c),this.tables=a.Analytics.Utils.deserializeArray(c.Views,function(a){return new b.ResultTable(a,d)})}return d.prototype.getInfo=function(){return c},d.from=function(a,b){return a&&new d(a.DataSet,b)||null},d.toJson=function(a,b,d){return{DataSet:b.serialize(a,c,d)}},d}();b.ResultSet=d}(b.Data||(b.Data={}))}(a.Analytics||(a.Analytics={}))}(DevExpress||(DevExpress={}));var DevExpress;!function(a){!function(b){!function(b){var c=[{propertyName:"tableName",modelName:"@Name"},{propertyName:"columns",modelName:"Fields",array:!0,info:[{propertyName:"name",modelName:"@Name"},{propertyName:"propertyType",modelName:"@Type"}]}],d=function(){function b(b,c){c=c||new a.Analytics.Utils.ModelSerializer,c.deserialize(this,b)}return b.prototype.getInfo=function(){return c},b}();b.ResultTable=d}(b.Data||(b.Data={}))}(a.Analytics||(a.Analytics={}))}(DevExpress||(DevExpress={}));var DevExpress;!function(a){!function(a){!function(b){var c=[{propertyName:"closeConnection",modelName:"@CloseConnection",from:a.Utils.parseBool},{propertyName:"commandTimeout",modelName:"@DbCommandTimeout",from:function(a){var b=parseInt(a);return isNaN(b)&&(b=null),ko.observable(b)},defaultVal:null}],d=function(){function b(b,c){this.closeConnection=ko.observable(!0),this.commandTimeout=ko.observable(null),c=c||new a.Utils.ModelSerializer,c.deserialize(this,b)}return b.prototype.getInfo=function(){return c},b}();b.ConnectionOptions=d}(a.Data||(a.Data={}))}(a.Analytics||(a.Analytics={}))}(DevExpress||(DevExpress={}));var DevExpress;!function(a){!function(b){!function(b){b.customQuerySerializationsInfo=[{propertyName:"type",modelName:"@Type"},{propertyName:"name",modelName:"@Name"},{propertyName:"sqlString",modelName:"Sql",defaultVal:""},{propertyName:"parameters",modelName:"Parameters",array:!0},{propertyName:"itemType",modelName:"@ItemType"}];var c=function(){function c(c,d,e){this.parent=d,(e||new a.Analytics.Utils.ModelSerializer).deserialize(this,$.extend(c,{"@ItemType":"Query"})),this.type=ko.pureComputed(function(){return b.Utils.SqlQueryType.customSqlQuery}),this.parameters=a.Analytics.Utils.deserializeArray(c.Parameters,function(a){return new b.DataSourceParameter(a,e)})}return c.prototype.getInfo=function(){return b.customQuerySerializationsInfo},c.prototype.generateName=function(){return"CustomSqlQuery"},c}();b.CustomSqlQuery=c}(b.Data||(b.Data={}))}(a.Analytics||(a.Analytics={}))}(DevExpress||(DevExpress={}));var DevExpress;!function(a){!function(b){!function(b){b.masterDetailRelationSerializationsInfo=[{propertyName:"masterQuery",modelName:"@Master"},{propertyName:"detailQuery",modelName:"@Detail"},{propertyName:"_customName",modelName:"@Name"},{propertyName:"keyColumns",modelName:"KeyColumns",array:!0,info:[{propertyName:"masterColumn",modelName:"@Master"},{propertyName:"detailColumn",modelName:"@Detail"},{propertyName:"itemType",modelName:"@ItemType"}]},{propertyName:"itemType",modelName:"@ItemType"}];var c=function(){function c(b,c){var d=this;this.name=ko.pureComputed({read:function(){return d._customName()||d.masterQuery()+d.detailQuery()},write:function(a){d._customName(a)},deferEvaluation:!0}),(c||new a.Analytics.Utils.ModelSerializer).deserialize(this,$.extend(b,{"@ItemType":"Relation"}))}return c.prototype.createKeyColumn=function(){var a={masterColumn:ko.observable(),detailColumn:ko.observable(),itemType:"KeyColumn"};this.keyColumns.push(a)},c.prototype.getInfo=function(){return b.masterDetailRelationSerializationsInfo},c}();b.MasterDetailRelation=c}(b.Data||(b.Data={}))}(a.Analytics||(a.Analytics={}))}(DevExpress||(DevExpress={}));var DevExpress;!function(a){!function(b){!function(c){var d=function(){function b(b,c){this.name=ko.observable(),this.parameteres=ko.observable(),this.fromAppConfig=ko.observable(!0),c=c||new a.Analytics.Utils.ModelSerializer,c.deserialize(this,b)}return b.from=function(a,c){return new b(a,c)},b.toJson=function(a,b,c){return b.serialize(a,e,c)},b.prototype.getInfo=function(){return e},b}();c.SqlDataConnection=d;var e=[{propertyName:"name",modelName:"@Name"},{propertyName:"parameteres",modelName:"Parameters"},{propertyName:"fromAppConfig",modelName:"@FromAppConfig",defaultVal:!1,from:b.Utils.parseBool}]}(b.Data||(b.Data={}))}(a.Analytics||(a.Analytics={}))}(DevExpress||(DevExpress={}));var DevExpress;!function(a){!function(b){!function(c){var d=[{propertyName:"name",modelName:"@Name"},{propertyName:"connection",modelName:"Connection",from:c.SqlDataConnection.from,toJsonObject:c.SqlDataConnection.toJson},{propertyName:"queries",modelName:"Queries",array:!0},{propertyName:"relations",modelName:"Relations",array:!0},{propertyName:"resultSet",modelName:"ResultSchema",from:c.ResultSet.from,toJsonObject:c.ResultSet.toJson},{propertyName:"itemType",modelName:"@ItemType"}],e=function(e){function f(d,f,g){var h=this;void 0===g&&(g=new a.QueryBuilder.Utils.RequestWrapper),e.call(this),f=f||new b.Utils.ModelSerializer,f.deserialize(this,$.extend(d,{"@ItemType":"SqlDataSource"}));var i=this._model.Name;i&&(this.name()||this.name(i),delete this._model.Name),this.queries=a.Analytics.Utils.deserializeArray(d.Queries,function(a){if(a["@Type"]===c.Utils.SqlQueryType.customSqlQuery)return new c.CustomSqlQuery(a,h,f);if(a["@Type"]===c.Utils.SqlQueryType.tableQuery)return new c.TableQuery(a,h,f);if(a["@Type"]===c.Utils.SqlQueryType.storedProcQuery)return new c.StoredProcQuery(a,h,f);throw new Error("Unknown sql query type.")}),this.relations=a.Analytics.Utils.deserializeArray(d.Relations,function(a){return new c.MasterDetailRelation(a,f)}),this.connection&&d.ConnectionOptions&&(this.connection.options=new c.ConnectionOptions(d.ConnectionOptions,f)),this.dbSchemaProvider=new c.DBSchemaProvider(this.connection,g),this._disposables.push(this.connection.name.subscribe(function(){h.queries([]),h.relations([]),h.resultSet=null}))}return __extends(f,e),f.prototype.getInfo=function(){return d},f}(b.Utils.Disposable);c.SqlDataSource=e}(b.Data||(b.Data={}))}(a.Analytics||(a.Analytics={}))}(DevExpress||(DevExpress={}));var DevExpress;!function(a){!function(a){!function(b){b.storedProcQuerySerializationsInfo=[{propertyName:"type",modelName:"@Type"},{propertyName:"name",modelName:"@Name"},{propertyName:"procName",modelName:"ProcName"},{propertyName:"parameters",modelName:"Parameters",array:!0},{propertyName:"itemType",modelName:"@ItemType"}];var c=function(){function c(c,d,e){this.parent=d,(e||new a.Utils.ModelSerializer).deserialize(this,$.extend(c,{"@ItemType":"Query"})),this.type=ko.pureComputed(function(){return b.Utils.SqlQueryType.storedProcQuery}),this.parameters=a.Utils.deserializeArray(c.Parameters,function(a){var c=a["@Type"];return"DevExpress.DataAccess.Expression"===c&&(c=a["@ResultType"]||c),new b.DataSourceParameter(a,e,b.storedProcParameterSerializationsInfo(c))})}return c.prototype.getInfo=function(){return b.storedProcQuerySerializationsInfo},c.prototype.generateName=function(){return this.procName()||"Query"},c}();b.StoredProcQuery=c}(a.Data||(a.Data={}))}(a.Analytics||(a.Analytics={}))}(DevExpress||(DevExpress={}));var DevExpress;!function(a){!function(a){!function(b){b.tableQuerySerializationsInfo=[{propertyName:"type",modelName:"@Type"},{propertyName:"name",modelName:"@Name"},{propertyName:"parameters",modelName:"Parameters",array:!0},{propertyName:"_tablesObject",modelName:"Tables",info:[{propertyName:"tables",modelName:"SelectedTables",array:!0,info:[{propertyName:"name",modelName:"@Name"},{propertyName:"alias",modelName:"@Alias"}]}]},{propertyName:"filterString",modelName:"Filter",defaultVal:""},{propertyName:"itemType",modelName:"@ItemType"}];var c=function(){function c(c,d,e){this.parent=d,(e||new a.Utils.ModelSerializer).deserialize(this,$.extend(c,{"@ItemType":"Query"})),this.type=ko.pureComputed(function(){return b.Utils.SqlQueryType.tableQuery}),this.parameters=a.Utils.deserializeArray(c.Parameters,function(a){return new b.DataSourceParameter(a,e)})}return c.prototype.tables=function(){return this._tablesObject.tables()},c.prototype.getInfo=function(){return b.tableQuerySerializationsInfo},c.prototype.generateName=function(){return this.tables().length>0?this.tables()[0].alias()||this.tables()[0].name():"SelectQuery"},c}();b.TableQuery=c}(a.Data||(a.Data={}))}(a.Analytics||(a.Analytics={}))}(DevExpress||(DevExpress={}));var DevExpress;!function(a){!function(a){!function(b){!function(b){function c(b,c){var d=(c.name()||c.generateName()).replace(".","_");return a.Utils.findFirstItemMatchesCondition(b,function(a){return a.name()===d})?a.Internal.getUniqueNameForNamedObjectsArray(b,d+"_"):d}b.SqlQueryType={customSqlQuery:"CustomSqlQuery",tableQuery:"SelectQuery",storedProcQuery:"StoredProcQuery"},b.generateQueryUniqueName=c}(b.Utils||(b.Utils={}))}(a.Data||(a.Data={}))}(a.Analytics||(a.Analytics={}))}(DevExpress||(DevExpress={}));var DevExpress;!function(a){!function(b){!function(c){var d=function(c){function d(a,b,d,e,f){c.call(this,a,b,d,e),this.querySurface=a,this.undoEngine=d,this._dragColumn=ko.observable(null),this._dragConditionSurface=null,this.dragDropConnector=ko.observable(null),this.cursor="arrow",this.containment=".dxrd-ghost-container",this.helper=function(a){f.update(a)}}return __extends(d,c),d.prototype._needToCreateRelation=function(){return!!(this.selection.dropTarget&&this.selection.dropTarget instanceof b.Elements.ColumnSurface)&&this.selection.dropTarget.getControlModel().parentModel()!==this.getDragColumn().parentModel()},d.prototype.startDrag=function(c){if(c instanceof a.Analytics.Diagram.ConnectionPointSurface){var d=c.getControlModel().parentModel();if(this._dragConditionSurface=a.Analytics.Internal.findSurface(d),!this._dragConditionSurface)return;this._dragConditionSurface.isVisible(!1),this._dragColumn(d.startPoint()===c.getControlModel()?d.nestedColumn():d.parentColumn())}else{if(!(c instanceof b.Elements.ColumnSurface))throw new Error("ColumnDragHandler can be applied to the Column only.");this._dragColumn(c.getControlModel())}var e=new a.Analytics.Diagram.RoutedConnectorViewModel({},this.querySurface().getControlModel());this.dragDropConnector(new a.Analytics.Diagram.RoutedConnectorSurface(e,this.surface()))},d.prototype.setConnectorPoints=function(b){var c=this._dragColumn(),d=this.dragDropConnector().getControlModel();if(this._needToCreateRelation()){var e=a.Analytics.Diagram.determineConnectingPoints(c,this.selection.dropTarget.getControlModel());d.startPoint().connectingPoint(e.start),d.endPoint().connectingPoint(e.end)}else{var f=this.querySurface().rtl()?this.querySurface().pageWidth()-c.leftConnectionPoint.location.x():c.leftConnectionPoint.location.x(),g=this.querySurface().rtl()?this.querySurface().pageWidth()-c.rightConnectionPoint.location.x():c.rightConnectionPoint.location.x(),h=Math.abs(f-b.left)>Math.abs(g-b.left)?c.rightConnectionPoint:c.leftConnectionPoint;d.startPoint().connectingPoint(h),this.dragDropConnector().endPoint().rect({top:b.top,left:b.left})}},d.prototype.drag=function(a,b){b.position.left+=b.scroll.left,b.position.top+=b.scroll.top,b.delta.left=b.position.left-this.surface().underCursor().x-6,b.delta.top=b.position.top-this.surface().underCursor().y-6,this.setConnectorPoints(this._getAbsoluteSurfacePosition(b))},d.prototype.doStopDrag=function(){this.dragDropConnector(null);try{var b=null;this._dragConditionSurface&&!this._dragConditionSurface.isVisible()&&(b=this._dragConditionSurface.getControlModel(),this._dragConditionSurface.isVisible(!0));var c=this.querySurface().getControlModel();if(this._needToCreateRelation()){var d=this.selection.dropTarget.getControlModel();this.undoEngine().start(),b&&b.parentModel().removeChild(b);var e=c.cerateJoinCondition(this._dragColumn(),d);this.undoEngine().end(),null!==e&&this.selection.initialize(a.Analytics.Internal.findSurface(e))}}finally{this._dragColumn(null)}},d.prototype.getDragColumn=function(){return this._dragColumn()},d}(a.Analytics.Internal.DragDropHandler);c.ColumnDragHandler=d}(b.Internal||(b.Internal={}))}(a.QueryBuilder||(a.QueryBuilder={}))}(DevExpress||(DevExpress={}));var DevExpress;!function(a){!function(b){!function(c){var d=function(c){function d(b,e,f,g,h){var i=this;c.call(this,b,e,f,g),this._undoEngine=f,this._query=function(){return i._querySurface().getControlModel()},this._querySurface=b,this.cursor="arrow",this.containment=".dxqb-designer",this.cursorAt={top:0,left:0},this.helper=function(b){c.prototype.helper.call(i,b),i.recalculateSize(a.Analytics.Size.fromString("199, 123")),h.setContent(new a.Analytics.Rectangle(0,0,i._size.width(),i._size.height()))},this._drop=d.getDropCallback(this._undoEngine,!1)}return __extends(d,c),d.prototype.startDrag=function(a){a&&a.name&&this._query().dbSchemaProvider.getDbTable(a.name)},d.prototype.doStopDrag=function(a,b){if(this.selection.dropTarget){var c=this._getAbsoluteSurfacePosition(a);this._querySurface().underCursor().x=c.left-this._querySurface().absolutePosition.x(),this._querySurface().underCursor().y=c.top-this._querySurface().absolutePosition.y();var d=b,e=this._drop(d.data,this._query());this.addControl(e,this._querySurface(),this._size)}},d.prototype.addControl=function(b,c,d){c.getControlModel().addChild(b);var e=a.Analytics.Internal.findSurface(b);e&&(e.rect({left:c.underCursor().x,top:c.underCursor().y,width:d.width()}),this.selection.initialize(e))},d.getDropCallback=function(a,c){return function(d,e){var f=e.createChild($.extend({"@ControlType":"Table","@Name":d.name},b.Utils.controlsFactory.controlsMap.Table.defaultVal));if(f.isInitialized()?e.tryToCreateRelationsByFK(f):f.isInitialized.subscribe(function(){a().start(),e.tryToCreateRelationsByFK(f),a().end()}),c){var g=Math.max.apply(null,e.tables.peek().filter(function(a){return a!==f}).map(function(a){return a.location.x.peek()+3*a.size.width.peek()/2}).concat([30]));f.location.x(g),f.location.y(65)}return f}},d}(a.Analytics.Internal.DragDropHandler);c.DbObjectDragDropHandler=d}(b.Internal||(b.Internal={}))}(a.QueryBuilder||(a.QueryBuilder={}))}(DevExpress||(DevExpress={}));var DevExpress;!function(a){!function(b){!function(b){var c=function(a){function b(b,c,d,e){a.call(this,b,c,d,e)}return __extends(b,a),b.prototype.generateValue=function(a){var b=this;return this.undoValue||this._disposables.push(this.undoValue=ko.computed({read:function(){return b.value()},write:function(c){a().start(),b.value(c),a().end()}})),this.undoValue},b}(a.Analytics.Widgets.Editor);b.UndoEditor=c}(b.Widgets||(b.Widgets={}))}(a.QueryBuilder||(a.QueryBuilder={}))}(DevExpress||(DevExpress={}));var DevExpress;!function(a){!function(a){!function(a){a.editorTemplates={bool:{header:"dx-boolean-select",custom:"dxqb-property-editor"},combobox:{header:"dx-combobox",custom:"dxqb-property-editor"},comboboxUndo:{header:"dx-combobox-undo",custom:"dxqb-property-editor",editorType:a.UndoEditor},text:{header:"dx-text",custom:"dxqb-property-editor"},filterEditor:{header:"dxrd-filterstring",custom:"dxqb-property-editor"},filterGroupEditor:{header:"dxrd-filterstringgroup",custom:"dxqb-property-editor"},numeric:{header:"dx-numeric",custom:"dxqb-property-editor"}}}(a.Widgets||(a.Widgets={}))}(a.QueryBuilder||(a.QueryBuilder={}))}(DevExpress||(DevExpress={}));var DevExpress;!function(a){!function(b){b.name={propertyName:"name",modelName:"@Name",displayName:"Name",localizationId:"DevExpress.DataAccess.Sql.SqlQuery.Name",disabled:!0,editor:b.Widgets.editorTemplates.text},b.alias={propertyName:"alias",modelName:"@Alias",displayName:"Alias",localizationId:"DataAccessUIStringId.QueryBuilderColumns_Alias",defaultVal:"",editor:b.Widgets.editorTemplates.text},b.text={propertyName:"text",modelName:"@Text",displayName:"Text",editor:b.Widgets.editorTemplates.text},b.selected={propertyName:"selected",displayName:"Output",editor:b.Widgets.editorTemplates.bool,localizationId:"DataAccessUIStringId.QueryBuilderColumns_Output"},b.size={propertyName:"size",modelName:"@Size",defaultVal:"100,125",from:a.Analytics.Size.fromString},b.location={propertyName:"location",modelName:"@Location",from:a.Analytics.Point.fromString},b.sizeLocation=[b.size,b.location],b.unknownSerializationsInfo=[b.name].concat(b.sizeLocation)}(a.QueryBuilder||(a.QueryBuilder={}))}(DevExpress||(DevExpress={}));var DevExpress;!function(a){!function(b){!function(c){var d=function(a){function c(b,c,d){a.call(this,b,c,d)}return __extends(c,a),c.prototype.getControlFactory=function(){return b.Utils.controlsFactory},c}(a.Analytics.ElementViewModel);c.QueryElementBaseViewModel=d}(b.Elements||(b.Elements={}))}(a.QueryBuilder||(a.QueryBuilder={}))}(DevExpress||(DevExpress={}));var DevExpress;!function(a){!function(b){!function(c){c.allColumnsSerializationInfo=[b.name,b.selected];var d=function(b){function d(d,e){b.call(this,{"@ControlType":"Column"},d,e);var f=d.parentModel(),g=ko.pureComputed(function(){return a.Analytics.Utils.findFirstItemMatchesCondition(f.columns(),function(a){return d.actualName()===a.table()&&c.ColumnType.AllColumns===a.itemType()})});this.selected=ko.pureComputed({read:function(){return!!g()},write:function(a){!!g()!==a&&(a?f.columns.push(new c.ColumnExpression({"@ItemType":c.ColumnType.AllColumns,"@Table":d.actualName()},f,e)):f.columns.remove(function(a){return d.actualName()===a.table()&&c.ColumnType.AllColumns===a.itemType()}))}});var h=a.Analytics.getLocalization("(All Columns)","DataAccessStringId.QueryBuilder_AllColumns");this.name=ko.pureComputed(function(){return"*"===h.charAt(0)?h:"* "+h})}return __extends(d,b),d.prototype.getInfo=function(){return c.allColumnsSerializationInfo},d}(c.QueryElementBaseViewModel);c.AllColumnsViewModel=d}(b.Elements||(b.Elements={}))}(a.QueryBuilder||(a.QueryBuilder={}))}(DevExpress||(DevExpress={}));var DevExpress;!function(a){!function(b){!function(b){var c=function(b){function c(c,d){var e=this;b.call(this,c,d,null),this.template="dxqb-table-asterisk-field",this.toggleSelected=function(){e.getControlModel().selected(!e.getControlModel().selected())},this.selectedWrapper=ko.pureComputed(function(){return e.getControlModel().selected()}),this.isOverAsterisk=ko.pureComputed(function(){return e.underCursor().isOver&&!a.Analytics.Internal.DragDropHandler.started()}),this.cssClasses=function(){return{"dxd-state-active":e.selected,"dxd-state-hovered":e.isOverAsterisk()}}}return __extends(c,b),c}(a.Analytics.SurfaceElementBase);b.AllColumnsSurface=c}(b.Elements||(b.Elements={}))}(a.QueryBuilder||(a.QueryBuilder={}))}(DevExpress||(DevExpress={}));var DevExpress;!function(a){!function(b){!function(c){c.AggregationType={None:"None",Count:"Count",Max:"Max",Min:"Min",Avg:"Avg",Sum:"Sum",CountDistinct:"CountDistinct",AvgDistinct:"AvgDistinct",SumDistinct:"SumDistinct"},c.columnSerializationInfo=[b.name,{propertyName:"displayType",displayName:"Type",localizationId:"DataAccessUIStringId.ParametersColumn_Type",disabled:!0,editor:b.Widgets.editorTemplates.text},{propertyName:"alias",displayName:"Alias",localizationId:"DataAccessUIStringId.QueryBuilderColumns_Alias",editor:b.Widgets.editorTemplates.text},b.selected,{propertyName:"sortingType",displayName:"Sort Type",editor:b.Widgets.editorTemplates.combobox,defaultVal:"Unsorted",valuesArray:[{value:"Unsorted",displayValue:"Unsorted",localizationId:"DataAccessUIStringId.SortingTypeNone"},{value:"Ascending",displayValue:"Ascending",localizationId:"DataAccessUIStringId.SortingTypeAscending"},{value:"Descending",displayValue:"Descending",localizationId:"DataAccessUIStringId.SortingTypeDescending"}],localizationId:"ASPxReportsStringId.ReportDesigner_QueryBuilder_SortType"},{propertyName:"sortOrder",displayName:"Sort Order",editor:b.Widgets.editorTemplates.numeric,localizationId:"DataAccessUIStringId.QueryBuilderColumns_SortOrder"},{propertyName:"groupBy",displayName:"Group By",editor:b.Widgets.editorTemplates.bool,defaultVal:!1,localizationId:"DataAccessUIStringId.QueryBuilderColumns_GroupBy"},{propertyName:"aggregate",displayName:"Aggregate",editor:b.Widgets.editorTemplates.comboboxUndo,values:c.AggregationType,defaultVal:c.AggregationType.None,localizationId:"DataAccessUIStringId.QueryBuilderColumns_Aggregate"}];var d=function(d){function e(e,f,g,h){var i=this;d.call(this,$.extend({"@ControlType":"Column"},e),g,h),this.displayType=ko.pureComputed(function(){return a.Data.DBColumnType[f.type]+(f.size?"("+f.size+")":"")}),this.dataType=ko.pureComputed(function(){return a.Data.DBColumn.GetType(f.type)}),this.actualName=ko.pureComputed(function(){return i.alias()||i.name()});var j=g.getColumnConnectionPoints(this);this.rightConnectionPoint={side:ko.observable(a.Analytics.Diagram.PointSide.East),location:j.right},this.leftConnectionPoint={side:ko.observable(a.Analytics.Diagram.PointSide.West),location:j.left};var k=g.parentModel(),l=ko.pureComputed(function(){return b.Utils.ColumnExpressionCollectionHelper.find(k.columns,g.actualName(),i.name())});this.aggregate=ko.pureComputed({read:function(){return l()?l().aggregate():c.AggregationType.None},write:function(a){l()&&l().aggregate(a)}}),this.alias=ko.pureComputed({read:function(){return l()?l().alias():""},write:function(a){l()&&l().alias(a||null)}});var m=ko.pureComputed(function(){return b.Utils.ColumnExpressionCollectionHelper.find(k.sorting,g.actualName(),i.name())});this.sortingType=ko.computed({read:function(){return m()?m().descending()?"Descending":"Ascending":"Unsorted"},write:function(a){"Unsorted"!==a?m()?m().descending("Descending"===a):b.Utils.ColumnExpressionCollectionHelper.addNew(k,k.sorting,g.actualName(),i.name()).descending("Descending"===a):m()&&b.Utils.ColumnExpressionCollectionHelper.remove(k.sorting,g.actualName(),i.name())}}),this.sortOrder=ko.computed({read:function(){var a=k.sorting().indexOf(m());return a<0?void 0:a+1},write:function(a){if(m()){a=Math.min(a,k.sorting().length),a=Math.max(a,1);var b=k.sorting().indexOf(m()),c=k.sorting.splice(b,1);k.sorting.splice(a-1,0,c[0])}}});var n=ko.computed(function(){return b.Utils.ColumnExpressionCollectionHelper.find(k.grouping,g.actualName(),i.name())});this.aggregate.subscribe(function(a){var d=i.parentModel();if(a!==c.AggregationType.None){if(i.groupBy(!1),!i.alias()||i._isAliasAutoGenerated(d.actualName())){var e=i.name()+"_"+a;i.alias(b.Utils.ColumnExpressionCollectionHelper.setUniqueAlias(k.columns,e))}}else i._isAliasAutoGenerated(d.actualName())&&i.alias(null)}),this.groupBy=ko.computed({read:function(){return!!n()},write:function(a){a?(b.Utils.ColumnExpressionCollectionHelper.addNew(k,k.grouping,g.actualName(),i.name()),i.aggregate(c.AggregationType.None)):b.Utils.ColumnExpressionCollectionHelper.remove(k.grouping,g.actualName(),i.name())}}),this.selected=ko.pureComputed({read:function(){return!!l()},write:function(a){!!l()!==a&&(a?b.Utils.ColumnExpressionCollectionHelper.addNew(k,k.columns,g.actualName(),i.name()):(b.Utils.ColumnExpressionCollectionHelper.remove(k.columns,g.actualName(),i.name()),i.groupBy(!1)))}})}return __extends(e,d),e.prototype._isAliasAutoGenerated=function(a){if(a&&this.alias()&&0===this.alias().indexOf(a+"_")&&this.alias().substring(a.length+1)===this.name())return!0;if(!this.alias()||0!==this.alias().indexOf(this.name()+"_"))return!1;var b=this.alias().substring(this.name().length+1);return b.match(new RegExp("_[0-9]+$"))&&(b=b.substring(0,b.indexOf("_"))),Object.keys(c.AggregationType).indexOf(b)>0},e.prototype.getInfo=function(){return c.columnSerializationInfo},e.prototype.isPropertyDisabled=function(a){if("sortOrder"===a)return"Unsorted"===this.sortingType();if("aggregate"===a||"alias"===a)return!this.selected();if("groupBy"===a){var b=this.root;return this.aggregate()&&1===b.aggregatedColumnsCount()}return!1},Object.defineProperty(e.prototype,"specifics",{get:function(){return a.Data.DBColumn.GetSpecific(this.dataType())},enumerable:!0,configurable:!0}),e}(c.QueryElementBaseViewModel);c.ColumnViewModel=d}(b.Elements||(b.Elements={}))}(a.QueryBuilder||(a.QueryBuilder={}))}(DevExpress||(DevExpress={}));var DevExpress;!function(a){!function(b){!function(b){b.ColumnType={RecordsCount:"RecordsCount",Column:"Column",Expression:"Expression",AllColumns:"AllColumns"},b.columnExpressionSerializationsInfo=[{propertyName:"expression",modelName:"#text"},{propertyName:"table",modelName:"@Table"},{propertyName:"column",modelName:"@Name"},{propertyName:"aggregate",modelName:"@Aggregate",defaultVal:b.AggregationType.None},{propertyName:"alias",modelName:"@Alias"},{propertyName:"descending",modelName:"@Descending",defaultVal:!1},{propertyName:"itemType",modelName:"@ItemType"}];var c=function(){function c(b,c,d){var e=this;if(d=d||new a.Analytics.Utils.ModelSerializer,d.deserialize(this,b),this._dependedTables=[],this.table()){var f=c.getTable(this.table());this.table=ko.pureComputed(function(){return f.actualName()}),this._dependedTables.push(f)}else if(this.expression())try{this._criteria=a.Analytics.Criteria.CriteriaOperator.parse(this.expression()),a.Analytics.Criteria.Utils.criteriaForEach(this._criteria,function(b){if(b instanceof a.Analytics.Criteria.OperandProperty){var d=a.Analytics.Utils.findFirstItemMatchesCondition(c.tables(),function(a){return 0===b.propertyName.indexOf(a.actualName()+".")});d&&e._dependedTables.push(d)}})}catch(a){}}return c.prototype.actualName=function(){return this.alias()||this.column()},c.prototype.getInfo=function(){return b.columnExpressionSerializationsInfo},c.prototype.isDepended=function(b){return!!a.Analytics.Utils.findFirstItemMatchesCondition(this._dependedTables,function(a){return a.actualName()===b})},c}();b.ColumnExpression=c}(b.Elements||(b.Elements={}))}(a.QueryBuilder||(a.QueryBuilder={}))}(DevExpress||(DevExpress={}));var DevExpress;!function(a){!function(b){!function(c){var d=function(c){function d(d,e){var f=this;c.call(this,d,e,null),this.template="dxqb-table-field",this.toggleSelected=function(){f.getControlModel().selected(!f.getControlModel().selected())},this.selectedWrapper=ko.pureComputed(function(){return f.getControlModel().selected()}),this.isAggregate=ko.pureComputed(function(){return b.Widgets.isAggregatedExpression(f.getControlModel())}),this.isAscending=ko.pureComputed(function(){return"Ascending"===f.getControlModel().sortingType()}),this.isDescending=ko.pureComputed(function(){return"Descending"===f.getControlModel().sortingType()}),this.cssClasses=function(b,c,d){return f._isJoined||(f._isJoined=ko.pureComputed(function(){return b.isJoined(f)||f.getControlModel()===c.getDragColumn()})),f._isHovered||(f._isHovered=ko.pureComputed(function(){var b=!!c.getDragColumn(),d=b&&f.getControlModel().parentModel()!==c.getDragColumn().parentModel();return f.underCursor().isOver&&(!a.Analytics.Internal.DragDropHandler.started()||d)})),{"dxd-state-active":f.selected(),"dxd-state-joined":f._isJoined,"dxd-state-hovered":f._isHovered}}}return __extends(d,c),d}(a.Analytics.SurfaceElementBase);c.ColumnSurface=d}(b.Elements||(b.Elements={}))}(a.QueryBuilder||(a.QueryBuilder={}))}(DevExpress||(DevExpress={}));var DevExpress;!function(a){!function(b){!function(c){c.ConditionType={Equal:"Equal",NotEqual:"NotEqual",Greater:"Greater",GreaterOrEqual:"GreaterOrEqual",Less:"Less",LessOrEqual:"LessOrEqual"},c.joinConditionSerializationInfo=[{propertyName:"left",displayName:"Left",editor:b.Widgets.editorTemplates.text,disabled:!0,localizationId:"ASPxReportsStringId.ReportDesigner_QueryBuilder_LeftOperand"},{propertyName:"right",displayName:"Right",editor:b.Widgets.editorTemplates.text,disabled:!0,localizationId:"ASPxReportsStringId.ReportDesigner_QueryBuilder_RightOperand"},{propertyName:"parentColumnName",modelName:"@Parent"},{propertyName:"nestedColumnName",modelName:"@Nested"},{propertyName:"joinType",displayName:"Join Type",editor:b.Widgets.editorTemplates.combobox,defaultVal:"Inner",valuesArray:[{value:"Inner",displayValue:"Inner join",localizationId:"DataAccessStringId.RelationEditorRelationTypeInnerJoin"},{value:"LeftOuter",displayValue:"Left outer join",localizationId:"DataAccessStringId.RelationEditorRelationTypeLeftOuterJoin"}],localizationId:"ASPxReportsStringId.ReportDesigner_QueryBuilder_JoinType"},{propertyName:"operator",modelName:"@Operator",displayName:"Operator",editor:b.Widgets.editorTemplates.combobox,defaultVal:c.ConditionType.Equal,valuesArray:[{value:"Equal",displayValue:"Equals to",localizationId:"DataAccessUIStringId.JoinEditorEqualOperator"},{value:"NotEqual",displayValue:"Does not equal to",localizationId:"DataAccessUIStringId.JoinEditorNotEqualOperator"},{value:"Greater",displayValue:"Is greater than",localizationId:"DataAccessUIStringId.JoinEditorGreaterOperator"},{value:"GreaterOrEqual",displayValue:"Is greater than or equal to",localizationId:"DataAccessUIStringId.JoinEditorGreaterOrEqualOperator"},{value:"Less",displayValue:"Is less than",localizationId:"DataAccessUIStringId.JoinEditorLessOperator"},{value:"LessOrEqual",displayValue:"Is less than or equal to",localizationId:"DataAccessUIStringId.JoinEditorLessOrEqualOperator"}],localizationId:"ASPxReportsStringId.ReportDesigner_QueryBuilder_Operator"},{propertyName:"itemType",modelName:"@itemType"}];var d=function(c){function d(b,d,e){var f=this;this.startPoint=ko.observable(),this.endPoint=ko.observable(),c.call(this,$.extend(b,{"@ControlType":"JoinCondition","@ItemType":"KeyColumn"}),d,e),this.parentColumn=ko.pureComputed(function(){return d.parentTable().getColumn(f.parentColumnName())}),this.nestedColumn=ko.pureComputed(function(){return d.nestedTable().getColumn(f.nestedColumnName())}),this.joinType=d.joinType,this.left=ko.pureComputed(function(){return d.parentTableName()+"."+f.parentColumnName()}),this.right=ko.pureComputed(function(){return d.nestedTableName()+"."+f.nestedColumnName()}),this._disposables.push(ko.computed(function(){if(f.parentColumn()&&f.nestedColumn()){var b=a.Analytics.Diagram.determineConnectingPoints(f.parentColumn(),f.nestedColumn());f.startPoint().connectingPoint(b.start),f.endPoint().connectingPoint(b.end)}}))}return __extends(d,c),d.prototype.getControlFactory=function(){return b.Utils.controlsFactory},d}(a.Analytics.Diagram.RoutedConnectorViewModel);c.JoinConditionViewModel=d}(b.Elements||(b.Elements={}))}(a.QueryBuilder||(a.QueryBuilder={}))}(DevExpress||(DevExpress={}));var DevExpress;!function(a){!function(b){!function(b){var c=function(a){function b(b,c){a.call(this,b,c),this.showArrow=ko.pureComputed(function(){return"LeftOuter"===b.joinType()})}return __extends(b,a),b.prototype.container=function(){return this.getRoot()},b}(a.Analytics.Diagram.RoutedConnectorSurface);b.JoinConditionSurface=c}(b.Elements||(b.Elements={}))}(a.QueryBuilder||(a.QueryBuilder={}))}(DevExpress||(DevExpress={}));var DevExpress;!function(a){!function(b){!function(b){b.ParametersMode={ReadWrite:"ReadWrite",Read:"Read",Disabled:"Disabled"};var c=function(b){function c(){b.apply(this,arguments)}return __extends(c,b),c.prototype.getEditorType=function(b){return"DevExpress.DataAccess.Expression"===b?{header:"dxqb-expressionstring"}:a.Analytics.Internal.getEditorType(b)},c}(a.Analytics.Data.DataSourceParameter);b.ParameterViewModel=c}(b.Elements||(b.Elements={}))}(a.QueryBuilder||(a.QueryBuilder={}))}(DevExpress||(DevExpress={}));var DevExpress;!function(a){!function(b){!function(b){var c=function(a){function b(c,d,e){a.call(this,c,d,$.extend({},b._unitProperties,e)),this.template="dx-diagram-element",this.selectiontemplate="dx-diagram-element-selection",this.contenttemplate="dx-diagram-element-content",this.margin=ko.observable(0)}return __extends(b,a),b._unitProperties={_height:function(a){return a.size.height},_width:function(a){return a.size.width},_x:function(a){return a.location.x},_y:function(a){return a.location.y}},b}(a.Analytics.SurfaceElementBase);b.QueryElementBaseSurface=c}(b.Elements||(b.Elements={}))}(a.QueryBuilder||(a.QueryBuilder={}))}(DevExpress||(DevExpress={}));var DevExpress;!function(a){!function(b){!function(c){var d=function(d){function e(f,g,h,i){var j=this;void 0===h&&(h=c.ParametersMode.ReadWrite),d.call(this,$.extend(!0,f,e.emptyModel,f),null,i),this.aggregatedColumnsCount=ko.observable(0),this._findAncestorsRelations=function(a){var b={inner:0,outer:0,relations:[]};return j.relations().forEach(function(c){if(c.nestedTable()===a){b.relations.push(c),"LeftOuter"===c.joinType()?b.outer++:b.inner++;var d=j._findAncestorsRelations(c.parentTable());b.inner+=d.inner,b.outer+=d.outer,b.relations.push.apply(b.relations,d.relations)}}),b},this.type("SelectQuery"),this.controlType="Query",this.dbSchemaProvider=g,this.tables=a.Analytics.Utils.deserializeArray(f.Tables.SelectedTables,function(a){return new c.TableViewModel(a,j,i)}),this.columns=a.Analytics.Utils.deserializeArray(f.Columns,function(a){return new c.ColumnExpression(a,j,i)}),this.sorting=a.Analytics.Utils.deserializeArray(f.Sorting,function(a){return new c.ColumnExpression(a,j,i)}),this.grouping=a.Analytics.Utils.deserializeArray(f.Grouping,function(a){return new c.ColumnExpression(a,j,i)}),this.tables().forEach(function(a){j._initializeTable(a)}),this.relations=a.Analytics.Utils.deserializeArray(f.Tables.Relations,function(a){return new c.RelationViewModel(a,j,i)}),this._tablesObject.tables=this.tables,this._tablesObject.relations=this.relations,this.tables().reduce(function(a,b){return b.location.x(a),b.location.y(65),a+b.size.width()+b.size.width()/2},30);var k=a.Analytics.Utils.deserializeArray(f.Parameters,function(a){return new c.ParameterViewModel(a,i)});h===c.ParametersMode.ReadWrite?(this.parameters=k,this._disposables.push(this.parameters.subscribe(function(b){b.forEach(function(b){"added"!==b.status||b.value.name()||b.value.name(a.Analytics.Internal.getUniqueName(j.parameters().filter(function(a){return a!==b.value}).map(function(a){return a.name()}),"parameter"))})},null,"arrayChange"))):this.parameters=ko.computed(function(){return k()}),this.editableName=ko.observable(this.name()),this.name=ko.pureComputed({read:this.editableName,write:function(a){}}),this.filterString=new b.Widgets.QBFilterStringOptions(this._filterString,null,ko.pureComputed(function(){return 0===j.tables().length&&j.filterString&&0===j.filterString.value().length})),this.filterString.initializeFilterStringHelper(this.parameters,h);var l=!1;this._disposables.push(ko.computed(function(){if(!l){l=!0;var a=j.getAllColumns(),b=a.filter(function(a){return a.aggregate()===c.AggregationType.None});j.aggregatedColumnsCount(a.length-b.length),a.length!==b.length?b.filter(function(a){return a.selected()&&!a.groupBy.peek()}).forEach(function(a){return a.groupBy(!0)}):a.every(function(a){return!a.selected.peek()||a.groupBy.peek()})||a.forEach(function(a){a.groupBy.peek()&&a.groupBy(!1)}),l=!1}})),this.groupFilterString=new b.Widgets.QBFilterStringOptions(this._groupFilterString,null,ko.pureComputed(function(){return!j.columns().some(b.Widgets.isAggregatedExpression)&&j.groupFilterString&&0===(j.groupFilterString.value()||"").length})),this.groupFilterString.initializeFilterStringHelper(this.parameters,h,new b.Widgets.GroupFilterEditorSerializer(this.columns));var m=ko.observable(0);this.pageWidth=ko.pureComputed({read:function(){var a=500;return j.tables().forEach(function(b){var c=b.location.x()+b.size.width();c>a&&(a=c)}),Math.max(m(),a)},write:function(a){m(a)}}),this.pageHeight=ko.pureComputed(function(){var a=500;return j.tables().forEach(function(b){var c=b.location.y()+b.size.height();c>a&&(a=c+e.pageMargin)}),a}),this.margins=a.Analytics.Margins.fromString(),this.isValid=ko.pureComputed(function(){return j._validate()});var n=function(a){return!a.table()&&a.itemType()===c.ColumnType.AllColumns};this.allColumnsInTablesSelected=ko.computed({read:function(){return j.columns().some(n)},write:function(a){a?j.columns.push(new c.ColumnExpression({"@ItemType":"AllColumns"},j,i)):j.columns.remove(n)}})}return __extends(e,d),e.prototype._initializeTable=function(a){this.dbSchemaProvider.getDbTable(a.name()).done(function(b){a.createColumns(b)})},e.prototype.isPropertyDisabled=function(a){return"skip"===a&&(0===this.skip()&&!this.sorting().length)},e.prototype.getInfo=function(){return c.querySerializationsInfo},e.prototype.createChild=function(a){if("Table"!==a["@ControlType"])return d.prototype.createChild.call(this,a);var b=new c.TableViewModel(a,this);return this._initializeTable(b),this.addChild(b),b},e.prototype.getAllColumns=function(){return[].concat.apply([],this.tables().map(function(a){return a.columns()}))},e.prototype.tryToCreateRelationsByFK=function(c){var d=this;b.isJoinsResolvingDisabled||this.dbSchemaProvider.getDbSchema().done(function(b){var e=b.tables.filter(function(a){return a.name===c.name()})[0];e&&e.foreignKeys.forEach(function(b){var e=a.Analytics.Utils.getFirstItemByPropertyValue(d.tables.peek(),"name",b.primaryKeyTable);if(e){var f=a.Analytics.Utils.getFirstItemByPropertyValue(c.columns(),"name",b.column),g=a.Analytics.Utils.getFirstItemByPropertyValue(e.columns(),"name",b.primaryKeyColumn);f&&g&&d.cerateJoinCondition(f,g)}}),d.tables.peek().forEach(function(e){var f=b.tables.filter(function(a){return a.name===e.name()})[0];f&&f.foreignKeys.forEach(function(b){if(b.primaryKeyTable===c.name()){var f=a.Analytics.Utils.getFirstItemByPropertyValue(c.columns(),"name",b.primaryKeyColumn),g=a.Analytics.Utils.getFirstItemByPropertyValue(e.columns(),"name",b.column);f&&g&&d.cerateJoinCondition(g,f)}})})})},e.prototype.addChild=function(b){if(b instanceof c.RelationViewModel){if(this.relations.indexOf(b)>-1)return;b.parentModel(this),this.relations.push(b)}else if(b instanceof c.TableViewModel){if(this.tables.indexOf(b)>-1)return;b.parentModel(this),null!==a.Analytics.Utils.getFirstItemByPropertyValue(this.tables(),"actualName",b.name())&&b.alias(a.Analytics.Internal.getUniqueName(this.tables().map(function(a){return a.actualName()}),b.name()+"_")),this.tables.push(b)}else a.Analytics.Utils.NotifyAboutWarning("Attempt to add wrong child control.")},e.prototype.removeChild=function(b){if(b instanceof c.RelationViewModel){if(this.relations().length<1)return;for(var d=b,e=this.relations().indexOf(d);d.conditions().length>0;)d.conditions.pop();this.relations.splice(e,1)}else if(b instanceof c.TableViewModel){if(this.tables().length<1)return;this.tables.splice(this.tables().indexOf(b),1);for(var f=this.relations(),g=f.length-1;g>-1;g--)f[g].parentTable()!==b&&f[g].nestedTable()!==b||this.removeChild(f[g]);this.sorting.remove(function(a){return a.isDepended(b.actualName())}),this.grouping.remove(function(a){return a.isDepended(b.actualName())}),this.columns.remove(function(a){return a.isDepended(b.actualName())})}else a.Analytics.Utils.NotifyAboutWarning("Attempt to remove wrong child control.")},e.prototype.getTable=function(b){return a.Analytics.Utils.findFirstItemMatchesCondition(this.tables(),function(a){return a.actualName()===b})},e.prototype._findTableInAncestors=function(a,b){var c=this;return this.relations().some(function(d){return d.nestedTable()===a&&(d.parentTable()===b||c._findTableInAncestors(d.parentTable(),b))})},e.prototype._findHead=function(a){var b=null;return this.relations().some(function(c){return c.nestedTable()===a&&(b=c),!!b}),b?this._findHead(b.parentTable()):a},e.prototype._isHead=function(a){return!this.relations().some(function(b){return b.nestedTable()===a})},e.prototype._reverseRelations=function(a,b){b.forEach(function(a){var b=a.parentTable();a.parentTable(a.nestedTable()),a.nestedTable(b),a.conditions().forEach(function(a){var b=a.parentColumnName();a.parentColumnName(a.nestedColumnName()),a.nestedColumnName(b)})})},e.prototype.cerateJoinCondition=function(b,c){var d=b.parentModel(),e=c.parentModel();if(d===e)return null;var f=!1,g=a.Analytics.Utils.findFirstItemMatchesCondition(this.relations(),function(a){return f=a.parentTable()===e&&a.nestedTable()===d,a.parentTable()===d&&a.nestedTable()===e||f});if(g);else if(this._findTableInAncestors(d,e))f=!0;else if(this._findHead(d)!==this._findHead(e)&&!this._isHead(e)){var h=this._findAncestorsRelations(d),i=this._findAncestorsRelations(e);h.outer>i.outer?this._reverseRelations(e,i.relations):h.outer<i.outer?(this._reverseRelations(d,h.relations),f=!0):h.inner>=i.inner?this._reverseRelations(e,i.relations):h.inner<i.inner&&(this._reverseRelations(d,h.relations),f=!0)}if(f){var j=d;d=e,e=j;var k=b;b=c,c=k}g=g||this.createChild({"@ControlType":"Relation","@Parent":d.actualName(),"@Nested":e.actualName(),"@Type":"Inner"});var l=a.Analytics.Utils.findFirstItemMatchesCondition(g.conditions(),function(a){return a.parentColumn()===b&&a.nestedColumn()===c});return l||(l=g.createChild({"@ControlType":"JoinCondition","@Parent":b.name(),"@Nested":c.name()})),l},e.prototype._validate=function(){if(0===this.tables().length)return!1;if(!this.allColumnsInTablesSelected()&&!this.tables().some(function(a){return a.asterisk.selected()||a.columns().some(function(a){return a.selected()})}))return!1;var a=this.tables().map(function(a){return a.actualName()});return this._validateTable(a,a[0]),a.length<1},e.prototype._validateTable=function(a,b){var c=this,d=a.indexOf(b);if(!(d<0)){a.splice(d,1);this.relations().map(function(a){return a.parentTableName()===b?a.nestedTableName():a.nestedTableName()===b?a.parentTableName():null}).forEach(function(b){return c._validateTable(a,b)})}},e.prototype.serialize=function(b){return void 0===b&&(b=!1),b?{Query:this.serialize()}:(new a.Analytics.Utils.ModelSerializer).serialize(this)},e.prototype.save=function(){var a=this.serialize(!0);return this.onSave&&this.onSave(a),a},e.pageMargin=20,e.emptyModel={"@ItemType":"Query",Tables:{SelectedTables:{},Relations:{}},Columns:{},Sorting:{},Grouping:{}},e}(c.QueryElementBaseViewModel);c.QueryViewModel=d,c.querySerializationsInfo=[{propertyName:"_tablesObject",modelName:"Tables",info:[{propertyName:"tables",modelName:"SelectedTables",array:!0},{propertyName:"relations",modelName:"Relations",array:!0}]},{propertyName:"parameters",modelName:"Parameters",array:!0},{propertyName:"type",modelName:"@Type"},{propertyName:"name",modelName:"@Name"},{propertyName:"editableName",displayName:"Name",localizationId:"DevExpress.DataAccess.Sql.SqlQuery.Name",editor:b.Widgets.editorTemplates.text},{propertyName:"_filterString",modelName:"Filter",defaultVal:""},{propertyName:"filterString",defaultVal:"",displayName:"Filter",localizationId:"DataAccessUIStringId.FiltersView_Filter",editor:b.Widgets.editorTemplates.filterEditor},{propertyName:"_groupFilterString",modelName:"GroupFilter",defaultVal:""},{propertyName:"groupFilterString",defaultVal:"",displayName:"Group Filter",localizationId:"DataAccessUIStringId.FiltersView_GroupFilter",editor:b.Widgets.editorTemplates.filterGroupEditor},{propertyName:"columns",modelName:"Columns",array:!0},{propertyName:"sorting",modelName:"Sorting",array:!0},{propertyName:"grouping",modelName:"Grouping",array:!0},{propertyName:"itemType",modelName:"@ItemType"},{propertyName:"allColumnsInTablesSelected",displayName:"Select All (*)",localizationId:"ASPxReportsStringId.ReportDesigner_QueryBuilder_SelectAll",editor:b.Widgets.editorTemplates.bool},{propertyName:"top",modelName:"@Top",displayName:"Select Top",defaultVal:0,from:a.Analytics.Utils.floatFromModel,localizationId:"ASPxReportsStringId.ReportDesigner_QueryBuilder_SelectTop",editor:b.Widgets.editorTemplates.numeric,editorOptions:{format:"#0",min:0}},{propertyName:"skip",modelName:"@Skip",displayName:"Offset",defaultVal:0,from:a.Analytics.Utils.floatFromModel,localizationId:"ASPxReportsStringId.ReportDesigner_QueryBuilder_Offset",editor:b.Widgets.editorTemplates.numeric,editorOptions:{format:"#0",min:0}},{propertyName:"distinct",modelName:"@Distinct",defaultVal:!1,from:a.Analytics.Utils.parseBool,displayName:"Select distinct",localizationId:"ASPxReportsStringId.ReportDesigner_QueryBuilder_SelectDistinct",editor:b.Widgets.editorTemplates.bool}]}(b.Elements||(b.Elements={}))}(a.QueryBuilder||(a.QueryBuilder={}))}(DevExpress||(DevExpress={}));var DevExpress;!function(a){!function(b){!function(b){var c=function(b){function c(d,e){var f=this;void 0===e&&(e=ko.observable(1)),b.call(this,d,{measureUnit:ko.observable("Pixels"),zoom:e,dpi:ko.observable(100)},c._unitProperties),this.placeholder=function(){return a.Analytics.getLocalization("Drop a table or view here to create a query.","ASPxReportsStringId.QueryBuilder_SurfacePlaceholder")},this.tables=ko.observableArray(),this.relations=ko.observableArray(),this.allowMultiselect=!1,this.focused=ko.observable(!1),this.selected=ko.observable(!1),this.underCursor=ko.observable(new a.Analytics.Internal.HoverInfo),this.templateName="dx-query-surface",this.rtl=ko.observable(!1),this.measureUnit=this._context.measureUnit,this.dpi=this._context.dpi,this._context=this,this.margins={bottom:this._bottom,left:this._left,right:this._right,top:this._top},this.zoom=e,a.Analytics.Utils.createObservableArrayMapCollection(d.tables,this.tables,this._createSurface),a.Analytics.Utils.createObservableArrayMapCollection(d.relations,this.relations,this._createSurface),this._joinedColumns=ko.computed(function(){var a=[];return f.relations().forEach(function(b){b.conditions().forEach(function(b){var c=b.getControlModel();c.parentColumn()&&a.push(c.parentColumn()),c.nestedColumn()&&a.push(c.nestedColumn())})}),a})}return __extends(c,b),c.prototype.checkParent=function(a){return!1},c.prototype.getChildrenCollection=function(){return this.tables},c.prototype.isJoined=function(a){return this._joinedColumns().indexOf(a.getControlModel())>-1},c._unitProperties={_width:function(a){return a.pageWidth},_height:function(a){return a.pageWidth},pageWidth:function(a){return a.pageWidth},pageHeight:function(a){return a.pageHeight},_bottom:function(a){return a.margins.bottom},_left:function(a){return a.margins.left},_right:function(a){return a.margins.right},_top:function(a){return a.margins.top}},c}(a.Analytics.SurfaceElementBase);b.QuerySurface=c}(b.Elements||(b.Elements={}))}(a.QueryBuilder||(a.QueryBuilder={}))}(DevExpress||(DevExpress={}));var DevExpress;!function(a){!function(b){!function(b){b.relationSerializationInfo=[{propertyName:"joinType",modelName:"@Type"},{propertyName:"parentTableName",modelName:"@Parent"},{propertyName:"nestedTableName",modelName:"@Nested"},{propertyName:"conditions",modelName:"KeyColumns",defaultVal:[],array:!0},{propertyName:"itemType",modelName:"@itemType"}];var c=function(c){function d(d,e,f){var g=this;c.call(this,$.extend(d,{"@ControlType":"Relation","@ItemType":"Relation"}),e,f),this.parentTable=ko.observable(e.getTable(this.parentTableName.peek())),this.nestedTable=ko.observable(e.getTable(this.nestedTableName.peek())),this.parentTableName=ko.pureComputed(function(){return g.parentTable().actualName()}),this.nestedTableName=ko.pureComputed(function(){return g.nestedTable().actualName()}),this.conditions=a.Analytics.Utils.deserializeArray(d.KeyColumns,function(a){return new b.JoinConditionViewModel(a,g,f)})}return __extends(d,c),d.prototype._getConditionNumber=function(){for(var a=this.conditions().length+1,b=this.conditions().map(function(a){return a.seriesNumber()}),c=0;c<this.conditions().length;c++)if(-1===b.indexOf(c+1)){a=c+1;break}return a},d.prototype.getInfo=function(){return b.relationSerializationInfo},d.prototype.addChild=function(a){var b=a;this.conditions&&-1===this.conditions.indexOf(b)&&(b.seriesNumber(this._getConditionNumber()),b.parentModel(this),this.conditions.push(b))},d.prototype.removeChild=function(a){var b=this.conditions().indexOf(a);b>-1&&this.conditions.splice(b,1),0===this.conditions().length&&this.parentModel().removeChild(this)},d}(b.QueryElementBaseViewModel);b.RelationViewModel=c}(b.Elements||(b.Elements={}))}(a.QueryBuilder||(a.QueryBuilder={}))}(DevExpress||(DevExpress={}));var DevExpress;!function(a){!function(b){!function(b){var c=function(b){function c(c,d){b.call(this,c,d,null),this.conditions=ko.observableArray(),this.template="dxqb-relation",a.Analytics.Utils.createObservableArrayMapCollection(c.conditions,this.conditions,this._createSurface)}return __extends(c,b),c.prototype._getChildrenHolderName=function(){return"conditions"},c}(a.Analytics.SurfaceElementBase);b.RelationSurface=c}(b.Elements||(b.Elements={}))}(a.QueryBuilder||(a.QueryBuilder={}))}(DevExpress||(DevExpress={}));var DevExpress;!function(a){!function(b){!function(c){c.tableSerializationInfo=[b.name,b.alias,{propertyName:"itemType",modelName:"@ItemType"}];var d=function(b){function d(e,f,g){var h=this;b.call(this,$.extend(e,{"@ControlType":"Table","@ItemType":"Table"}),f,g),this.serializer=g,this._columnsConnectionPointLeftX=ko.pureComputed(function(){return h.location.x()}),this._columnsConnectionPointRightX=ko.pureComputed(function(){return h.location.x()+h.size.width()}),this._columns=ko.observableArray(),this._initialized=ko.observable(!1),this.size=new a.Analytics.Size(199,123),this.location=new a.Analytics.Point(0,0),this.actualName=ko.pureComputed(function(){return h.alias()||h.name()}),this.isReady=ko.observable(!1),this.allColumnsSelected=ko.computed({read:function(){var a=h.columns().filter(function(a){return a.selected()});return 0!==a.length&&a.length===h._columns.peek().length},deferEvaluation:!0}),this.isInitialized=ko.pureComputed(function(){return h._initialized()}),this.size.height=ko.pureComputed({read:function(){return 0===h._columns().length?d.TABLE_DEFAULT_HEIGHT:d.COLUMNS_OFFSET+(d.COLUMN_HEIGHT+d.COLUMN_MARGIN)*(h._columns().length+1)},write:function(){}}),this.asterisk=new c.AllColumnsViewModel(this,this.serializer)}return __extends(d,b),d.prototype.columns=function(){return this._columns()},d.prototype.toggleSelectedColumns=function(){var a=!this.allColumnsSelected.peek();this._columns.peek().forEach(function(b){b.selected(a)})},d.prototype.getColumnConnectionPoints=function(a){var b=this,c=ko.pureComputed({read:function(){var c=b._columns.indexOf(a)+1;return b.location.y()+d.COLUMNS_OFFSET+d.COLUMN_MARGIN*c+d.COLUMN_HEIGHT*(c+.5)},deferEvaluation:!0});return{left:{x:this._columnsConnectionPointLeftX,y:c},right:{x:this._columnsConnectionPointRightX,y:c}}},d.prototype.getInfo=function(){return c.tableSerializationInfo},d.prototype.getColumn=function(b){return a.Analytics.Utils.getFirstItemByPropertyValue(this._columns(),"name",b)},d.prototype.createColumns=function(a){var b=this,d=[];a.columns.forEach(function(a){d.push(new c.ColumnViewModel({"@Name":a.name},a,b,b.serializer))}),this._columns(d),this._initialized(!0)},d.COLUMNS_OFFSET=37,d.COLUMN_HEIGHT=32,d.COLUMN_MARGIN=1,d.TABLE_MIN_WIDTH=80,d.TABLE_DEFAULT_HEIGHT=136,d}(c.QueryElementBaseViewModel);c.TableViewModel=d}(b.Elements||(b.Elements={}))}(a.QueryBuilder||(a.QueryBuilder={}))}(DevExpress||(DevExpress={}));var DevExpress;!function(a){!function(a){!function(a){var b=function(b){function c(c,d){var e=this;b.call(this,c,d,null),this.contenttemplate="dxqb-table",this.template="dxqb-table-main",this.toggleSelected=function(){e.getControlModel().toggleSelectedColumns()},this.selectedWrapper=ko.pureComputed(function(){return e.getControlModel().allColumnsSelected()}),this.isInitialized=c.isInitialized,this.columns=ko.pureComputed(function(){return c.columns().map(function(b){return new a.ColumnSurface(b,d)})}),this.asterisk=new a.AllColumnsSurface(c.asterisk,d)}return __extends(c,b),c.prototype.resizable=function(b,c){return $.extend({},b,{handles:"e, w",$selectedNodes:$(c),minWidth:a.TableViewModel.TABLE_MIN_WIDTH})},c}(a.QueryElementBaseSurface);a.TableSurface=b}(a.Elements||(a.Elements={}))}(a.QueryBuilder||(a.QueryBuilder={}))}(DevExpress||(DevExpress={}));var DevExpress;!function(a){!function(a){!function(a){function b(a){return void 0===a&&(a=!1),{showLineNumbers:!1,showPrintMargin:!1,enableBasicAutocompletion:!1,enableLiveAutocompletion:!1,readOnly:a,highlightSelectedWord:a,showGutter:!1,highlightActiveLine:!1}}function c(a){return{onChange:function(b){a(b.getValue())},onValueChange:function(a){a.resize(!0)},changeTimeout:200,overrideEditorFocus:!0,setUseWrapMode:!0}}function d(){return{getLanguageMode:function(){return"ace/mode/sql"},createCompleters:function(){return[]}}}a.createDefaultSQLAceOptions=b,a.createDefaultSQLAdditionalOptions=c,a.createDefaultSQLLanguageHelper=d}(a.Widgets||(a.Widgets={}))}(a.QueryBuilder||(a.QueryBuilder={}))}(DevExpress||(DevExpress={}));var DevExpress;!function(a){!function(b){function c(c,d){var e=c.model;return function(f){var g=a.Analytics.Utils.findFirstItemMatchesCondition(f,function(a){return"Delete"===a.text});g.imageClassName="dx-icon-dxrd-image-recycle-bin",g.imageTemplateName="dxrd-svg-operations-recycle_bin";var h=a.Analytics.Utils.findFirstItemMatchesCondition(f,function(a){return"Undo"===a.text});h.disabled=ko.pureComputed(function(){return c.isLoading()||!c.undoEngine().undoEnabled()});var i=a.Analytics.Utils.findFirstItemMatchesCondition(f,function(a){return"Redo"===a.text});f.splice(0,f.length,g,h,i),f.push({id:b.ActionId.Save,text:"Save",displayText:function(){return a.Analytics.getLocalization("Save","ASPxReportsStringId.ReportDesigner_MenuButtons_Save")},imageClassName:"dxqb-image-save",imageTemplateName:"dxrd-svg-menu-save",disabled:c.isLoading,visible:!0,hotKey:{ctrlKey:!0,keyCode:"S".charCodeAt(0)},clickAction:function(){e().save()},hasSeparator:!0}),f.push({id:b.ActionId.DataPreview,text:"Preview Results",displayText:function(){return a.Analytics.getLocalization("Preview Results","DataAccessUIStringId.QueryBuilderButtons_PreviewResults")},imageClassName:"dxrd-image-data-preview",imageTemplateName:"dxrd-svg-queryBuilder-data_preview",disabled:c.isLoading,visible:!0,hotKey:{ctrlKey:!0,keyCode:"P".charCodeAt(0)},clickAction:function(){c.showPreview()},hasSeparator:!0}),f.push({id:b.ActionId.SelectStatementPreview,text:"Preview Select Statement",displayText:function(){return a.Analytics.getLocalization("Preview Select Statement","ASPxReportsStringId.ReportDesigner_QueryBuilder_PreviewSelectStatement_Tooltip")},imageClassName:"dxrd-image-selectstatement-preview",imageTemplateName:"dxrd-svg-queryBuilder-select_statment",disabled:c.isLoading,visible:!0,hotKey:{ctrlKey:!0,keyCode:"E".charCodeAt(0)},clickAction:function(){c.showStatement()},hasSeparator:!0}),d&&d(f)}}function d(a,b,c,d){return function(){var d=a.find(".dxrd-right-panel").outerWidth(),e=a.width()-(d+5);a.find(".dxrd-surface-wrapper").css(c().rtl()?{left:d,right:0,width:e}:{left:0,right:d,width:e}),b(e),c().pageWidth(e)}}function e(a,b){var c=ko.observable(!1);return b.subscribe(function(){c(!1)}),ko.pureComputed(function(){return b.peek().getDbSchema().done(function(){c(!0)}),!c()||a().tables.peek().some(function(a){return!a.isInitialized()})})}function f(f,h,i,j,k){void 0===k&&(k=!1),j&&a.Analytics.Localization.addCultureInfo({messages:j});var l=h.requestWrapper||new b.Utils.RequestWrapper;a.config({rtlEnabled:!!k}),b.Utils.registerControls();var m=h.parametersMode||b.Elements.ParametersMode.ReadWrite;i&&i.onServerError&&a.Analytics.Internal.processErrorEvent(i.onServerError),i&&i.customizeLocalization&&i.customizeLocalization();var n=ko.observable(),o=ko.observable(),p=ko.observable();n.subscribe(function(a){o(new b.Elements.QuerySurface(a)),o().rtl(k)});var q=function(a){n(new b.Elements.QueryViewModel(a,h.dbSchemaProvider(),m))};q(h.querySource());var r=new a.Analytics.Internal.SurfaceSelection(["alias","name","sortOrder"]),s=a.Analytics.Utils.createDesigner(n,o,b.Utils.controlsFactory,void 0,void 0,void 0,k,r);s.rootStyle="dxqb-designer dxd-back-primary2";var t=a.Analytics.Utils.getParentContainer;s.dataPreview={isLoading:ko.observable(!1),isVisible:ko.observable(!1),title:function(){return a.Analytics.getLocalization("Data Preview (First 100 Rows Displayed)","ASPxReportsStringId.ReportDesigner_DataPreview_Title")},template:"dxqb-data-preview",data:{value:ko.observable()},okButtonText:function(){return a.Analytics.getLocalization("OK","PivotGridStringId.FilterOk")},okButtonHandler:function(a){a.model.isVisible(!1)},container:t},s.selectStatmentPreview={isLoading:ko.observable(!1),isVisible:ko.observable(!1),template:"dxqb-selectstatment-preview",title:function(){return a.Analytics.getLocalization("Select Statement Preview","ASPxReportsStringId.ReportDesigner_QueryBuilder_SelectStatementPreview_Title")},data:{value:ko.observable(),aceOptions:a.QueryBuilder.Widgets.createDefaultSQLAceOptions(!0),aceAvailable:a.Analytics.Widgets.aceAvailable,additionalOptions:a.QueryBuilder.Widgets.createDefaultSQLAdditionalOptions(function(a){s.selectStatmentPreview.data.value(a)}),languageHelper:a.QueryBuilder.Widgets.createDefaultSQLLanguageHelper()},okButtonText:function(){return a.Analytics.getLocalization("OK","PivotGridStringId.FilterOk")},okButtonHandler:function(a){a.model.isVisible(!1)},container:t},s.parts=[{id:g.Surface,templateName:g.Surface,model:s},{id:g.Toolbar,templateName:g.Toolbar,model:s},{id:g.RightPanel,templateName:g.RightPanel,model:s},{id:g.DataPreview,templateName:g.DataPreview.split("#")[0],model:s.dataPreview},{id:g.SqlPreview,templateName:g.SqlPreview.split("#")[0],model:s.selectStatmentPreview}],s.columnDragHandler=new b.Internal.ColumnDragHandler(o,s.selection,s.undoEngine,s.snapHelper,s.dragHelperContent),s.connectionPointDragHandler=s.columnDragHandler,s.resizeHandler.handles="e, w",s.columnsLoadingMsg=function(){return a.Analytics.getLocalization("Loading...","DataAccessWebStringId.QueryBuilder_ColumnsLoading")};var u=ko.observable("");s.searchName=u;var v=function(a){q(a),p({itemsProvider:h.dbSchemaProvider(),treeListController:new b.Utils.QueryBuilderTreeListController(s.undoEngine,n,u),selectedPath:ko.observable(),templateName:"dxqb-treelist-item-with-search"})};h.querySource.subscribe(function(a){v(a)}),v(h.querySource());var w=ko.observable(355),x={editableObject:s.editableObject,properties:new a.Analytics.Widgets.ObjectProperties(s.editableObject,null,1),fieldListModel:{treeListOptions:p},searchName:u,tablesTop:w,searchPlaceholder:function(){return a.Analytics.getLocalization("Enter text to search...","ASPxReportsStringId.ReportDesigner_QueryBuilder_SearchBox_EmptyText")}},y=new b.AccordionTabInfo(n,x,s.undoEngine,r.focused,m===b.Elements.ParametersMode.ReadWrite),z=s.tabPanel;z.tabs.length=0,z.tabs.push(y),z.width(375),s.fieldDragHandler=new b.Internal.DbObjectDragDropHandler(o,s.selection,s.undoEngine,s.snapHelper,s.dragHelperContent),s.fieldListProvider=new b.Widgets.QueryBuilderObjectsProvider(n,b.Widgets.QueryBuilderObjectsProvider.whereClauseObjectsFilter),s.dataBindingsProvider=s.fieldListProvider,s.parametersBindingsProvider=h.parametersItemsProvider||s.dataBindingsProvider,s.dataBindingsGroupProvider=new b.Widgets.QueryBuilderObjectsProvider(n,b.Widgets.QueryBuilderObjectsProvider.groupByObjectsFilter),s.isLoading=e(s.model,h.dbSchemaProvider),s.actionLists=new a.Analytics.Internal.ActionLists(o,s.selection,s.undoEngine,c(s,i&&i.customizeActions)),s.selection.focused(o()),o.subscribe(function(a){s.selection.focused(a)}),s.isLoading()||s.undoEngine&&s.undoEngine().clearHistory(),s.isLoading.subscribe(function(a){s.undoEngine&&s.undoEngine().clearHistory()}),s.editableObject.subscribe(function(a){w.notifySubscribers(null)}),a.Designer.appendStaticContextToRootViewModel(s),i.beforeRender&&i.beforeRender(s),$(f).empty(),ko.cleanNode(f),ko.applyBindings(s,f);var A=d($(f).find(".dxqb-designer"),s.surfaceSize,o);return o.subscribe(function(){A()}),$(window).bind("resize",function(){setTimeout(function(){return A()})}),s.tabPanel.width.subscribe(function(){A()}),s.updateSurfaceSize=function(){A()},s.updateSurface=function(){A(),w(355)},s.findControl=function(a,b){$(".dxqb-main").children(".dxrd-control").each(function(a,c){var d=$(c);if(d.offset().top<=b.clientY&&d.offset().left<=b.clientX)return void s.selection.focused(ko.dataFor(d[0]))})},s.updateSurface(),s.showPreview=function(){s.dataPreview.isLoading(!0),s.dataPreview.isVisible(!0),l.getDataPreview(h.dbSchemaProvider().connection,JSON.stringify(n().serialize(!0))).done(function(a){s.dataPreview.data.value(JSON.parse(a.dataPreviewJSON)),s.dataPreview.isLoading(!1)}).fail(function(b){s.dataPreview.isVisible(!1),a.Analytics.Utils.ShowMessage(a.Analytics.Utils.getErrorMessage(b))})},s.showStatement=function(){s.selectStatmentPreview.isLoading(!0),s.selectStatmentPreview.isVisible(!0),l.getSelectStatement(h.dbSchemaProvider().connection,JSON.stringify(n().serialize(!0))).done(function(a){s.selectStatmentPreview.data.value(a.sqlSelectStatement),s.selectStatmentPreview.isLoading(!1)}).fail(function(b){s.selectStatmentPreview.isVisible(!1),a.Analytics.Utils.ShowMessage(a.Analytics.Utils.getErrorMessage(b))})},s}b.ActionId={Save:"dxqb-save",DataPreview:"dxqb-data-preview",SelectStatementPreview:"dxqb-select-statement-preview"};var g={Surface:"dxrd-surface-template-base",Toolbar:"dxqb-toolbar",RightPanel:"dx-right-panel-lightweight",DataPreview:"dxqb-popup#data",SqlPreview:"dxqb-popup#sql"};b.HandlerUri="DXQB.axd",b.updateQueryBuilderSurfaceContentSize=d,b.createIsLoadingFlag=e,b.isJoinsResolvingDisabled=!1,b.createQueryBuilder=f}(a.QueryBuilder||(a.QueryBuilder={}))}(DevExpress||(DevExpress={}));var DevExpress;!function(a){!function(b){!function(c){var d=function(){function c(){}return c.find=function(b,c,d){return a.Analytics.Utils.findFirstItemMatchesCondition(b(),function(a){return a.column()===d&&a.table()===c})},c.findByName=function(b,c){return a.Analytics.Utils.findFirstItemMatchesCondition(b(),function(a){return a.actualName()===c})},c.removeDependend=function(a,b){a.remove(function(a){return a.isDepended(b)})},c.setUniqueAlias=function(b,d){return c.findByName(b,d)?a.Analytics.Internal.getUniqueName(b().map(function(a){return a.actualName()}),d+"_"):d},c.addNew=function(a,d,e,f){var g=new b.Elements.ColumnExpression({"@Table":e,"@Name":f,"@ItemType":"Column"},a);return a.columns===d&&!g.alias()&&c.findByName(d,g.actualName())&&g.alias(this.setUniqueAlias(d,g.table()+"_"+g.column())),d.push(g),g},c.remove=function(a,b,c){a.remove(function(a){return a.column()===c&&a.table()===b})},c}();c.ColumnExpressionCollectionHelper=d}(b.Utils||(b.Utils={}))}(a.QueryBuilder||(a.QueryBuilder={}))}(DevExpress||(DevExpress={}));var DevExpress;!function(a){!function(b){!function(c){function d(){a.Analytics.Diagram.registerControls(),b.Utils.controlsFactory.registerControl("Unknown",{info:b.unknownSerializationsInfo,type:a.Analytics.ElementViewModel,nonToolboxItem:!0,surfaceType:a.Analytics.SurfaceElementBase,isDeleteDeny:!0}),b.Utils.controlsFactory.registerControl("Relation",{info:b.Elements.relationSerializationInfo,defaultVal:{},surfaceType:b.Elements.RelationSurface,popularProperties:[],type:b.Elements.RelationViewModel,elementActionsTypes:[],nonToolboxItem:!0}),b.Utils.controlsFactory.registerControl("JoinCondition",{info:b.Elements.joinConditionSerializationInfo,defaultVal:{},surfaceType:b.Elements.JoinConditionSurface,popularProperties:["_parentColumnName","_nestedColumnName","joinType"],type:b.Elements.JoinConditionViewModel,elementActionsTypes:[],nonToolboxItem:!0}),b.Utils.controlsFactory.registerControl("Table",{info:b.Elements.tableSerializationInfo,defaultVal:{},surfaceType:b.Elements.TableSurface,popularProperties:["name","alias","columns"],type:b.Elements.TableViewModel,elementActionsTypes:[],nonToolboxItem:!0}),b.Utils.controlsFactory.registerControl("Column",{info:b.Elements.columnSerializationInfo,defaultVal:{},surfaceType:b.Elements.ColumnSurface,popularProperties:["name","alias","selected"],type:b.Elements.ColumnViewModel,elementActionsTypes:[],nonToolboxItem:!0,isDeleteDeny:!0}),b.Utils.controlsFactory.registerControl("Query",{info:b.Elements.querySerializationsInfo,surfaceType:b.Elements.QuerySurface,popularProperties:["name","filterString","groupFilterString"],type:b.Elements.QueryViewModel,elementActionsTypes:[],isContainer:!0,nonToolboxItem:!0,isDeleteDeny:!0})}c.controlsFactory=new a.Analytics.Utils.ControlsFactory,c.registerControls=d}(b.Utils||(b.Utils={}))}(a.QueryBuilder||(a.QueryBuilder={}))}(DevExpress||(DevExpress={}));var DevExpress;!function(a){!function(b){!function(c){var d=function(c){function d(d,e,f){c.call(this);var g=b.Internal.DbObjectDragDropHandler.getDropCallback(d,!0);this.dblClickHandler=function(a){d().start(),g(a.data,e()),d().end()};$("<span>"),$("<span>").addClass("dx-datagrid-search-text");this.searchName=f,this.itemsFilter=function(b){return!f()||!!a.Analytics.Utils.findMatchesInString(b.displayName,f())}}return __extends(d,c),d}(a.Analytics.Widgets.TreeListController);c.QueryBuilderTreeListController=d}(b.Utils||(b.Utils={}))}(a.QueryBuilder||(a.QueryBuilder={}))}(DevExpress||(DevExpress={}));var DevExpress;!function(a){!function(b){!function(c){function d(a){return function(b,c){return a?a(b,c):(new f).getSelectStatement(b,c)}}function e(a){return function(b,c,d){return a?a(b,c,d):(new f).rebuildResultSchema(b,c,d)}}c.wrapGetSelectStatement=d,c.wrapRebuildResultSchema=e;var f=function(){function c(){}return c.prototype.sendRequest=function(c,d){return a.Analytics.Utils.ajax(b.HandlerUri,c,d)},c.prototype.getDbSchema=function(b,c){var d=(new a.Analytics.Utils.ModelSerializer,JSON.stringify({connectionJSON:this.getConnectionJSON(b),tableName:c&&c.name,isView:c&&c.isView}));return this.sendRequest("getDBSchema",encodeURIComponent(d))},c.prototype.getDbStoredProcedures=function(b){var c=(new a.Analytics.Utils.ModelSerializer,JSON.stringify({connectionJSON:this.getConnectionJSON(b)}));return this.sendRequest("getDBStoredProcedures",encodeURIComponent(c))},c.prototype.getSelectStatement=function(b,c){var d=(new a.Analytics.Utils.ModelSerializer,JSON.stringify({connectionJSON:this.getConnectionJSON(b),sqlQueryJSON:c}));return this.sendRequest("getSelectStatement",encodeURIComponent(d))},c.prototype.getDataPreview=function(b,c){var d=(new a.Analytics.Utils.ModelSerializer,JSON.stringify({connectionJSON:this.getConnectionJSON(b),sqlQueryJSON:c}));return this.sendRequest("getDataPreview",encodeURIComponent(d))},c.prototype.getConnectionJSON=function(b){var c=new a.Analytics.Utils.ModelSerializer,d={DataConnection:c.serialize(b)};return b.options&&$.extend(d,{ConnectionOptions:c.serialize(b.options)}),JSON.stringify(d)},c.prototype.rebuildResultSchema=function(b,c,d){void 0===d&&(d=!1);var e=JSON.stringify({sqlDataSourceJSON:JSON.stringify({SqlDataSource:(new a.Analytics.Utils.ModelSerializer).serialize(b)}),queryName:c,relationsEditing:d});return this.sendRequest("rebuildResultSchema",encodeURIComponent(e))},c}();c.RequestWrapper=f}(b.Utils||(b.Utils={}))}(a.QueryBuilder||(a.QueryBuilder={}))}(DevExpress||(DevExpress={}));var DevExpress;!function(a){!function(b){!function(b){var c=function(c){function d(a){var b=this;c.call(this),this._columns=a,this._aggregatePropertyName=function(a){var c=b._findAggregatedColumn(function(b){return b.actualName()===a.propertyName});return c?b._columnDisplayName(c):a.propertyName}}return __extends(d,c),d.prototype._columnDisplayName=function(a){return a.table()+"."+a.actualName()},d.prototype._findAggregatedColumn=function(c){return a.Analytics.Utils.find(this._columns(),function(a){return b.isAggregatedExpression(a)&&c(a)})},d.prototype.serializeOperandProperty=function(a){var b=this,c=this._findAggregatedColumn(function(c){return a.propertyName===b._columnDisplayName(c)});return"["+(c?c.actualName():a.propertyName)+"]"},d.prototype.deserialize=function(b){var d=this,e=a.Analytics.Criteria.CriteriaOperator.parse(b);return e&&a.Analytics.Criteria.Utils.criteriaForEach(e,function(b){b instanceof a.Analytics.Criteria.OperandProperty&&(b.propertyName=d._aggregatePropertyName(b))}),c.prototype.deserializeOperand.call(this,e)},d}(a.Analytics.Widgets.Internal.FilterEditorSerializer);b.GroupFilterEditorSerializer=c}(b.Widgets||(b.Widgets={}))}(a.QueryBuilder||(a.QueryBuilder={}))}(DevExpress||(DevExpress={}));var DevExpress;!function(a){!function(b){!function(b){var c=function(b){function c(a,d,e,f){var g=this;b.call(this,a,d,e,f),this.createParameter=function(){g.canCreateParameters&&(g.model.parameterName=g.parameterName(),g._createParameter(g.parameterName(),g._parameterType),g.helper.onChange())},this._parameterName=ko.observable(""),this.isEditable=ko.observable(!1),this.defaultDisplay=c.defaultDisplay,this._parameterName(a.parameterName),this.canCreateParameters=this.helper.canCreateParameters,this.fieldsOptions=d.leftPart.fieldsOptions,this.parameterName=ko.pureComputed({read:function(){return g._parameterName()||g.canCreateParameters&&c.defaultDisplay()||""},write:function(a){a!==c.defaultDisplay()&&a&&(g.model.parameterName=ko.unwrap(a),g._parameterName(g.model.parameterName))}}),!this.canCreateParameters||this.isDefaultTextDisplayed()||ko.unwrap(this.fieldListProvider).hasParameter(a.parameterName)||this.createParameter()}return __extends(c,b),Object.defineProperty(c.prototype,"_parameterType",{get:function(){return this.fieldsOptions()&&this.fieldsOptions().selected()&&this.fieldsOptions().selected().dataType||"System.String"},enumerable:!0,configurable:!0}),c.prototype._createParameter=function(b,d){if(""!==b&&b!==c.defaultDisplay()&&0===this.helper.parameters().filter(function(a){return a.name()===b}).length){var e=new a.Data.DataSourceParameter({"@Name":b,"@Type":d});this.helper.newParameters.push(e)}},c.prototype.isDefaultTextDisplayed=function(){return this.parameterName()===c.defaultDisplay()},c.defaultDisplay=function(){return a.Analytics.getLocalization("Create new parameter","ASPxReportsStringId.FilterEditor_Operand_CreateNewParameter")},c}(a.Analytics.Widgets.OperandParameterSurface);b.OperandParameterQBSurface=c}(b.Widgets||(b.Widgets={}))}(a.QueryBuilder||(a.QueryBuilder={}))}(DevExpress||(DevExpress={}));var DevExpress;!function(a){!function(b){!function(b){var c=function(a){function b(b,c,d,e){a.call(this,b,c,d,e)}return __extends(b,a),b.prototype._updateSpecifics=function(){b.updateSpecifics(this)},b.updateSpecifics=function(a){var b=ko.unwrap(a.fieldListProvider);if(b&&b.getColumnInfo){var c=b.getColumnInfo(a.propertyName());if(c){a.specifics(c.specifics.toLowerCase()),a.dataType(c.dataType);var d=ko.unwrap(a.fieldsOptions);d&&d.selected(c)}}},b}(a.Analytics.Widgets.OperandPropertySurface);b.OperandPropertyQBSurface=c}(b.Widgets||(b.Widgets={}))}(a.QueryBuilder||(a.QueryBuilder={}))}(DevExpress||(DevExpress={}));var DevExpress;!function(a){!function(b){!function(c){function d(a){return a.aggregate()!==b.Elements.AggregationType.None}c.isAggregatedExpression=d;var e=function(){function c(b,d){this.getItems=function(e){var f=$.Deferred(),g=[];if(""===e.fullPath)g=d.filterTables(b().tables()).map(c._createTableInfo);else{var h=a.Analytics.Utils.findFirstItemMatchesCondition(b().tables(),function(a){return a.actualName()===e.fullPath});g=d.filterColumns(h&&h.columns()||[]).map(function(a){return c._createColumnInfo(a,d)})}return f.resolve(g),f.promise()},this.hasParameter=function(a){return b().parameters().filter(function(b){return b.name()===a}).length>0},this.getColumnInfo=function(e){if(e){var f=a.Analytics.Utils.find(b().tables(),function(a){return 0===e.indexOf(a.actualName()+".")});if(f){var g=a.Analytics.Utils.find(d.filterColumns(f.columns()||[]),function(a){return e===f.actualName()+"."+d.getColumnName(a)});return g?c._createColumnInfo(g,d):null}}return null}}return c._createTableInfo=function(a){return{displayName:a.actualName(),name:a.actualName(),isList:!0,specifics:"Default",collapsed:ko.observable(!0)}},c._createColumnInfo=function(a,b){return{displayName:b.getColumnName(a),isList:!1,specifics:b.getSpecifics(a),dataType:b.getDataType(a),name:b.getColumnName(a)}},c.whereClauseObjectsFilter={filterColumns:function(a){return a},filterTables:function(a){return a},getColumnName:function(a){return a.name.peek()},getSpecifics:function(a){return a.specifics},getDataType:function(a){return a.dataType.peek()}},c.groupByObjectsFilter={filterColumns:function(a){return a.filter(d)},filterTables:function(a){return a.filter(function(a){return a.columns().some(d)})},getColumnName:function(a){return a.actualName.peek()},getSpecifics:function(a){switch(a.aggregate()){case b.Elements.AggregationType.Avg:case b.Elements.AggregationType.AvgDistinct:return"Float";case b.Elements.AggregationType.Count:case b.Elements.AggregationType.CountDistinct:return"Integer";default:return a.specifics}},getDataType:function(a){return null}},c}();c.QueryBuilderObjectsProvider=e}(b.Widgets||(b.Widgets={}))}(a.QueryBuilder||(a.QueryBuilder={}))}(DevExpress||(DevExpress={}));var DevExpress;!function(a){!function(b){!function(b){var c=function(){function b(b,c){var d=this;this.isSelected=ko.observable(!1),this.selectColumnText=function(){return a.Analytics.getLocalization("DataAccessUIStringId.JoinEditorEmptyColumnText","<Select a Column>")},this.column=b,this.queryName=c,this.setColumn=function(a){d.column(a.name())}}return b}();b.KeyColumnSurface=c}(b.Widgets||(b.Widgets={}))}(a.QueryBuilder||(a.QueryBuilder={}))}(DevExpress||(DevExpress={}));var DevExpress;!function(a){!function(b){!function(b){var c=function(){function c(c,d,e){var f=this;this.isValid=ko.observable(!0),this.popupVisible=ko.observable(!1),this.loadPanelVisible=ko.observable(!1),this.buttonItems=[],this.masterQueries=ko.observableArray(),this.popupService=new a.Analytics.Internal.PopupService,this.save=function(){c().some(function(a){return!a.detailQuery()||!a.masterQuery()||a.keyColumns().some(function(a){return!a.detailColumn()||!a.masterColumn()})})?a.Analytics.Utils.ShowMessage(a.Analytics.getLocalization("Some fields are empty. Please fill all empty fields or remove the corresponding conditions to proceed.","DataAccessUIStringId.JoinEditorFillAllFieldsException")):e().done(function(){f.popupVisible(!1)})},this.createRelation=function(a){var c=d.tables().filter(function(b){return b.tableName()!==a.queryName}).map(function(a){return{name:a.tableName()}});return{data:new b.MasterDetailEditorPopupManager(a,f.popupService,"create",c),templateName:"dx-filtereditor-create"}},this.setColumn=function(c){var e=a.Analytics.Utils.getFirstItemByPropertyValue(d.tables(),"tableName",c.queryName);return{data:new b.MasterDetailEditorPopupManager(c,f.popupService,"setColumn",e?e.columns():[]),templateName:"dx-masterdetail-editor-setColumn"}},this._createMainPopupButtons();var g={};d.tables().forEach(function(a){g[a.tableName()]=new b.MasterQuerySurface(a.tableName(),c)}),c().forEach(function(a){g[a.masterQuery()]=g[a.masterQuery()]||new b.MasterQuerySurface(a.masterQuery(),c),g[a.masterQuery()].add(a)}),this.masterQueries($.map(g,function(a){return a}))}return c.prototype._createMainPopupButtons=function(){var b=this;this.buttonItems=[{toolbar:"bottom",location:"after",widget:"dxButton",options:{text:a.Analytics.getLocalization("Save",a.Analytics.StringId.DataAccessBtnOK),onClick:function(){b.save()}}},{toolbar:"bottom",location:"after",widget:"dxButton",options:{text:a.Analytics.getLocalization("Cancel",a.Analytics.StringId.DataAccessBtnCancel),onClick:function(){b.popupVisible(!1)}}}]},c.prototype.title=function(){return a.Analytics.getLocalization("Master-Detail Relation Editor",a.Analytics.StringId.MasterDetailRelationsEditor)},c}();b.MasterDetailEditor=c}(b.Widgets||(b.Widgets={}))}(a.QueryBuilder||(a.QueryBuilder={}))}(DevExpress||(DevExpress={}));var DevExpress;!function(a){!function(a){!function(a){var b=function(){function a(a,b,c,d){var e=this;this.showPopup=function(a){e._popupService.subscription&&e._popupService.subscription.dispose(),e._popupService.title(""),e._updateActions(e.target),e._popupService.target(a.element),e._popupService.visible(!0)},this.target=a,this._action=c,this._popupService=b,this._popupItems=d}return a.prototype._updateActions=function(a){var b=this;this._popupService.subscription=this._popupService.visible.subscribe(function(a){b.target.isSelected&&b.target.isSelected(a)}),this._popupService.data({data:this._popupItems,template:"dx-filtereditor-popup-common",click:function(c){a[b._action](c),b._popupService.visible(!1)}})},a}();a.MasterDetailEditorPopupManager=b}(a.Widgets||(a.Widgets={}))}(a.QueryBuilder||(a.QueryBuilder={}))}(DevExpress||(DevExpress={}));var DevExpress;!function(a){!function(a){!function(a){var b=function(){function b(b,c){var d=this;this.isEditable=ko.observable(!1),this.relationName=b.name,this.keyColumns=ko.pureComputed(function(){return b.keyColumns().map(function(c){return{master:new a.KeyColumnSurface(c.masterColumn,b.masterQuery()),detail:new a.KeyColumnSurface(c.detailColumn,b.detailQuery())}})}),this.create=function(){b.createKeyColumn()},this.remove=function(a){b.keyColumns.remove(function(b){return b.masterColumn===a.master.column&&b.detailColumn===a.detail.column}),0===b.keyColumns().length&&c.remove(d)}}return b}();a.MasterDetailRelationSurface=b}(a.Widgets||(a.Widgets={}))}(a.QueryBuilder||(a.QueryBuilder={}))}(DevExpress||(DevExpress={}));var DevExpress;!function(a){!function(b){!function(b){var c=function(){function c(c,d){var e=this;this.relations=ko.observableArray(),this.queryName=c,this.add=function(a){e.relations.push(new b.MasterDetailRelationSurface(a,e))},this.create=function(b){var c=new a.Analytics.Data.MasterDetailRelation({"@Master":e.queryName,"@Detail":b.name});a.Analytics.Utils.getFirstItemByPropertyValue(e.relations(),"relationName",c.name())&&c.name(a.Analytics.Internal.getUniqueName(e.relations().map(function(a){return a.relationName()}),c.name()+"_")),c.createKeyColumn(),e.add(c),d.push(c)},this.remove=function(a){e.relations.remove(a),d.remove(function(b){return b.name===a.relationName})}}return c}();b.MasterQuerySurface=c}(b.Widgets||(b.Widgets={}))}(a.QueryBuilder||(a.QueryBuilder={}))}(DevExpress||(DevExpress={}));var DevExpress;!function(a){!function(a){!function(b){var c=function(){function c(c,d,e,f){var g=this;this.template=d,this.title=e,this.description=f,this.wizard=c,this.isVisible=!0,this.actionCancel=new b.WizardAction(function(){g.wizard.cancel()},a.getLocalization("Cancel","ASPxReportsStringId.SearchDialog_Cancel")),this.actionPrevious=new b.WizardAction(function(){g.wizard.goToPrevious()},a.getLocalization("Previous","ASPxReportsStringId.ReportDesigner_Wizard_Previous")),this.actionNext=new b.WizardAction(function(){g.wizard.goToNext()},a.getLocalization("Next","ASPxReportsStringId.ReportDesigner_Wizard_Next")),this.actionFinish=new b.WizardAction(function(){g.wizard.finish()},a.getLocalization("Finish","ASPxReportsStringId.ReportDesigner_Wizard_Finish"))}return c.prototype._begin=function(a){this.isVisible=!0},c.prototype.beginAsync=function(a){return this._begin(a),null},c.prototype.commit=function(a){},c.prototype.reset=function(){},c}();b.WizardPage=c}(a.Wizard||(a.Wizard={}))}(a.Analytics||(a.Analytics={}))}(DevExpress||(DevExpress={}));var DevExpress;!function(a){!function(b){!function(c){var d=function(c){function d(a,d){c.call(this,a),this._relations=ko.observableArray([]),this.template="dxrd-wizard-configure-relations-page",this.description=b.getLocalization("Configure master-detail relationships.","ASPxReportsStringId.ReportDesigner_SqlDSWizard_PageConfigureMasterDetailRelations"),this.relationsEditor=ko.observable(null),this.customResetOptions=$.noop,this._sqlDataSourceResultSchema=d,this.actionNext.isDisabled(!0)}return __extends(d,c),d.prototype._getResultSet=function(a){var c=$.Deferred();return a.resultSet?c.resolve(a.resultSet):this._sqlDataSourceResultSchema(a).done(function(a){c.resolve(new b.Data.ResultSet(JSON.parse(a.resultSchemaJSON)))}).fail(function(a){c.reject(a)}),c.promise()},d.prototype.beginAsync=function(c){var d=this;return this._relations(c.sqlDataSource.relations()),this.relationsSubscription=this._relations.subscribe(function(a){a.some(function(a){return!a.moved&&0!==a.moved})&&d.customResetOptions()},null,"arrayChange"),this._getResultSet(c.sqlDataSource).done(function(b){d._resultSet=b,d.relationsEditor(new a.QueryBuilder.Widgets.MasterDetailEditor(d._relations,d._resultSet,$.noop))}).fail(function(a){b.Utils.getErrorMessage(a)&&b.Utils.ShowMessage(b.Utils.getErrorMessage(a)),d.wizard.indicatorVisible(!1)})},d.prototype.commit=function(a){this.relationsSubscription.dispose(),a.sqlDataSource.relations(this._relations()),a.sqlDataSource.resultSet=this._resultSet},d}(c.WizardPage);c.MasterDetailRelationsPage=d}(b.Wizard||(b.Wizard={}))}(a.Analytics||(a.Analytics={}))}(DevExpress||(DevExpress={}));var DevExpress;!function(a){!function(b){!function(c){var d=function(d){function e(e,f,g,h){var i=this;void 0===f&&(f={}),void 0===g&&(g=!0),void 0===h&&(h=!1),d.call(this,e),this._selectedPath=ko.observable(null),this._connection="",this._itemsProvider=ko.observable(),this._customQueries=ko.observableArray([]),this._chechedQueries=ko.observableArray([]),this._dataSource=function(){return i._data&&i._data.sqlDataSource},this._dataConnection=function(){return i._data&&i._data.sqlDataSource&&i._data.sqlDataSource.connection},this.template="dxrd-wizard-add-queries-page",this.description=b.getLocalization("Columns selected from specific tables and/or views will be automatically included into a separate query.","ASPxReportsStringId.ReportDesigner_SqlDSWizard_PageConfigureMultiQuery"),this.scrollViewHeight=c.WizardViewModel.WIZARD_DEFAULT_SCROLLVIEW_HEIGHT,this.isTablesGenerateColumnsCallBack=ko.observableArray([]),this.customizeDBSchemaTreeListActions=null,this.popupSelectStatment={isVisible:ko.observable(!1),title:function(){return b.getLocalization("Custom SQL Editor","ASPxReportsStringId.ReportDesigner_SqlDSWizard_CustomSqlEditor")},query:null,data:ko.observable(),okButtonText:function(){return a.Analytics.getLocalization("OK","PivotGridStringId.FilterOk")},okButtonHandler:function(a){i.popupSelectStatment.query.sqlString(a.model.data()),i.setCustomSqlQuery(i.popupSelectStatment.query),a.model.isVisible(!1)},aceOptions:a.QueryBuilder.Widgets.createDefaultSQLAceOptions(),aceAvailable:b.Widgets.aceAvailable,additionalOptions:a.QueryBuilder.Widgets.createDefaultSQLAdditionalOptions(function(a){i.popupSelectStatment.data(a)}),languageHelper:a.QueryBuilder.Widgets.createDefaultSQLLanguageHelper(),closest:function(a,b){return $(a).closest(b)}},this.showStatementPopup=function(a){i.popupSelectStatment.isVisible(!0),i.popupSelectStatment.query=a,i.popupSelectStatment.data(a.sqlString())},this.disableCustomSql=!0,this.isDataLoadingInProcess=ko.observable(!1),this.queryEditIndex=ko.observable(-1),this.showQbCallBack=function(a,c){if(void 0===a&&(a=null),void 0===c&&(c=!1),null!==a){var d=b.Utils.findFirstItemMatchesCondition(i._customQueries(),function(b){return a===(b.name()||b.generateName())});d.type()===b.Data.Utils.SqlQueryType.customSqlQuery?(i.queryEditIndex(i._customQueries().indexOf(d)),i.showStatementPopup(d)):(i.queryEditIndex(i._customQueries().indexOf(d)),i.popupQueryBuilder.show(d,i.dataSourceClone()))}else if(i.queryEditIndex(-1),c)i.showStatementPopup(new b.Data.CustomSqlQuery({"@Name":null},i.dataSourceClone()));else{var e=new b.Data.TableQuery({"@Name":null},i.dataSourceClone());i.popupQueryBuilder.show(e,i.dataSourceClone())}},this.customResetOptions=$.noop,this._callbacks=f,this._sqlTextProvider=new c.Utils.SelectQuerySqlTextProvider(a.QueryBuilder.Utils.wrapGetSelectStatement(this._callbacks.selectStatement),this._dataConnection),this.popupQueryBuilder=new c.Utils.QueryBuilderPopup(function(a,b){return i.setTableQuery(a,b)},h,f.customizeQBInitData),this.fieldListModel=ko.observable(null),this.actionPrevious.isDisabled=ko.pureComputed(function(){return!1});var j=ko.pureComputed(function(){return!i._itemsProvider()||!i._itemsProvider().hasCheckedItems()||i.isTablesGenerateColumnsCallBack().length>0});this.actionFinish.isDisabled=j,this.actionNext.isDisabled=ko.pureComputed(function(){return i._itemsProvider().nextButtonDisabled()||j()}),this.hasParametersToEdit=ko.pureComputed(function(){return i._itemsProvider().hasParametersToEdit()}),this.disableCustomSql=g,this.actionCancel.handler=function(){e.cancel()},this.getItemsAfterCheck=function(b){i._resetDataSourceResult(),b.checked.peek()&&b.isList&&("tables"===b.name||"views"===b.name?i._itemsProvider().getItems(new a.Analytics.Utils.PathRequest(b.name)).done(function(){b.isList&&b.children.peek().length>0&&b.children.peek().forEach(function(c){i._getItemsPromise(new a.Analytics.Utils.PathRequest(b.name+"."+c.name))})}):"table"===b.specifics||"view"===b.specifics?i._getItemsPromise(new a.Analytics.Utils.PathRequest(b.specifics+"."+b.name)):"procedures"===b.name&&i._getItemsPromise(new a.Analytics.Utils.PathRequest(b.name)))}}return __extends(e,d),e.prototype._addQueryAlgorithm=function(b,c,d,f){b.unChecked()&&"queries"!==c?b.children().forEach(function(a){e.removeQuery(d.queries,a)}):(0===b.children().length&&this._itemsProvider().getItems(new a.Analytics.Utils.PathRequest(c)),"tables"===c||"views"===c?this._addQueryFromTables(b,d):"procedures"===c?this._addQueryFromStoredProcedures(b,d):this._addQueryFromCustomQueries(b,f,d.queries))},e.prototype._addQueryFromTables=function(c,d){for(var f=0;f<c.children().length;f++){var g=c.children()[f];if(g.unChecked())e.removeQuery(d.queries,g);else{var h={},i={Columns:h,Tables:{SelectedTables:{Item1:{"@Name":g.name,"@ControlType":"Table","@ItemType":"Table"}}}};0===g.children().length&&this._itemsProvider().getItems(new a.Analytics.Utils.PathRequest("tables."+g.name)).done(function(){g.initializeChildren(g.children())});for(var j=0;j<g.children().length;j++){var k=g.children()[j];k.checked()&&(h["Item"+(j+1)]={"@Table":g.name,"@Name":k.name,"@ItemType":"Column"})}e.pushQuery(new b.Data.TableQuery(i,d),g,d.queries)}}},e.prototype._addQueryFromStoredProcedures=function(a,c){for(var d=0;d<a.children().length;d++){var f=a.children()[d];if(f.checked()){var g=new b.Data.StoredProcQuery({"@Name":f.name,ProcName:f.name},c);f.arguments.forEach(function(a){g.parameters.push(new b.Data.DataSourceParameter({"@Name":a.name,"@Type":b.Data.DBColumn.GetType(a.type)},null,b.Data.storedProcParameterSerializationsInfo(b.Data.DBColumn.GetType(a.type))))}),e.pushQuery(g,f,c.queries)}else e.removeQuery(c.queries,f)}},e.prototype._addQueryFromCustomQueries=function(a,c,d){for(var e=0;e<a.children().length;e++){var f=a.children()[e],g=b.Utils.findFirstItemMatchesCondition(c.peek(),function(a){return f.name===(a.name()||a.generateName())});f.checked()&&(g.name(b.Data.Utils.generateQueryUniqueName(d.peek(),g)),this._chechedQueries.push(g))}},e.prototype._getItemsPromise=function(a){var b=this,c=!1,d=this._itemsProvider().getItems(a).done(function(){b.isTablesGenerateColumnsCallBack.remove(d),c=!0});c||this.isTablesGenerateColumnsCallBack.push(d)},e.prototype._resetDataSourceResult=function(){this.customResetOptions(),this._dataSource().relations([]),this._dataSource().resultSet=null},e.prototype._setQueryCore=function(a){var c=this.fieldListModel().itemsProvider,d=this.queryEditIndex();if(d>=0)this._itemsProvider().queries().children()[d].name=a.name(),c.customQueries().splice(d,1,a);else{a.name(b.Data.Utils.generateQueryUniqueName(c.customQueries().peek(),a)),c.customQueries().push(a),this._selectedPath("queries."+a.name());var e=this._itemsProvider().queries().children();e[e.length-1].setChecked(!0)}this._resetDataSourceResult()},e.pushQuery=function(a,c,d){b.Utils.findFirstItemMatchesCondition(d.peek(),function(b){return b.name()===(a.name()||a.generateName())})||(a.name(b.Data.Utils.generateQueryUniqueName(d.peek(),a)),d.push(a)),c.hasQuery=!0},e.removeQuery=function(a,b){if(b.hasQuery){var c=-1;a.peek().some(function(a,d){return(a.name()===b.name||a.generateName()===b.name)&&(c=d,!0)})&&a.splice(c,1),b.hasQuery=!1}},e.prototype.dataSourceClone=function(){return this._dataSourceClone},e.prototype.AddQueryWithBuilder=function(){},e.prototype.runQueryBuilder=function(){},e.prototype.loadPanelViewModel=function(a){return this.wizard.getLoadPanelViewModel(a,this.isDataLoadingInProcess)},e.prototype.setTableQuery=function(a,b){var c=this;return b&&b(!0),this._sqlTextProvider.getQuerySqlText(a).done(function(){return c._setQueryCore(a)}).always(function(){b&&b(!1)})},e.prototype.setCustomSqlQuery=function(a){this._setQueryCore(a)},e.prototype.beginAsync=function(d){var e=this,f=$.Deferred();if(this._data!==d||d.connectionString()!==this._connection){this._dataSourceClone=new b.Data.SqlDataSource({},void 0,d.requestWrapper),this._dataSourceClone.connection.name(d.connectionString()),this._dataSourceClone.dbSchemaProvider=d.sqlDataSource.dbSchemaProvider;return(this._callbacks.customQueriesPreset?this._callbacks.customQueriesPreset(this._dataSourceClone):$.Deferred().resolve([]).promise()).done(function(b){e._customQueries(b),e._selectedPath(""),e._itemsProvider(new c.Utils.DBSchemaItemsProvider(e.dataSourceClone().dbSchemaProvider,e._customQueries,e.showQbCallBack,e.disableCustomSql,e.getItemsAfterCheck)),e._getItemsPromise(new a.Analytics.Utils.PathRequest("queries")),e.fieldListModel({itemsProvider:e._itemsProvider(),selectedPath:e._selectedPath,treeListController:new c.Utils.DBSchemaTreeListController(e.customizeDBSchemaTreeListActions),templateName:"dxrd-treelist-with-checkbox"}),e.popupQueryBuilder.isVisible(!1),e.dataSourceClone().dbSchemaProvider.getDbSchema().done(function(){e._connection=d.connectionString(),e._data=d,f.resolve()}).fail(f.reject)}).fail(f.reject),f.promise()}return f.resolve({}).promise()},e.prototype.commit=function(a){a.sqlDataSource.queries.removeAll(this._chechedQueries()),this._chechedQueries([]),this._addQueryAlgorithm(this._itemsProvider().tables(),"tables",a.sqlDataSource),this._addQueryAlgorithm(this._itemsProvider().views(),"views",a.sqlDataSource),this._addQueryAlgorithm(this._itemsProvider().procedures(),"procedures",a.sqlDataSource),this._addQueryAlgorithm(this._itemsProvider().queries(),"queries",a.sqlDataSource,this._customQueries),a.customQueries=this._customQueries,ko.utils.arrayPushAll(a.sqlDataSource.queries(),this._chechedQueries()),a.sqlDataSource.queries.valueHasMutated()},e}(c.WizardPage);c.MultiQueryConfigurePage=d}(b.Wizard||(b.Wizard={}))}(a.Analytics||(a.Analytics={}))}(DevExpress||(DevExpress={}));var DevExpress;!function(a){!function(a){!function(a){var b=function(a){function b(){a.apply(this,arguments)}return __extends(b,a),b.prototype.getParameters=function(){return[]},b.prototype.validateParameters=function(){var a=this,b=this.actionFinish.isDisabled(),c=this.actionNext.isDisabled();this._validation=ko.computed(function(){a.actionFinish.isDisabled.peek()&&a.actionNext.isDisabled.peek()||(b=a.actionFinish.isDisabled.peek(),c=a.actionNext.isDisabled.peek());var d=a.getParameters();0===d.length||d.every(function(a){return a.isValid()})?(a.actionFinish.isDisabled(b),a.actionNext.isDisabled(c)):(a.actionFinish.isDisabled(!0),a.actionNext.isDisabled(!0))})},b.prototype.reset=function(){this._validation&&this._validation.dispose(),a.prototype.reset.call(this)},b.prototype.commit=function(a){this._validation&&this._validation.dispose()},b}(a.WizardPage);a.CommonParametersPage=b}(a.Wizard||(a.Wizard={}))}(a.Analytics||(a.Analytics={}))}(DevExpress||(DevExpress={}));var DevExpress;!function(a){!function(b){!function(c){var d=function(){function c(c){var d=this;void 0===c&&(c=new a.QueryBuilder.Utils.RequestWrapper),this.requestWrapper=c,this.connectionString=ko.observable(),this.customQueries=ko.observableArray(),this.sqlDataSource=new b.Data.SqlDataSource({},void 0,c),this.connectionString=this.sqlDataSource.connection.name,this.connectionString.subscribe(function(){d.sqlDataSource.relations([]),d.sqlDataSource.queries([])})}return c}();c.MultiQueryDataSourceWizardModel=d}(b.Wizard||(b.Wizard={}))}(a.Analytics||(a.Analytics={}))}(DevExpress||(DevExpress={}));var DevExpress;!function(a){!function(a){!function(b){function c(b,c){return b.type()===a.Data.Utils.SqlQueryType.tableQuery||b.type()===a.Data.Utils.SqlQueryType.customSqlQuery?c.indexOf(b)>-1:b.type()===a.Data.Utils.SqlQueryType.storedProcQuery&&b.parameters().length>0}var d=function(d){function e(c,e){var f=this;void 0===e&&(e={createParameterViewModel:function(a){return a},getParameterFromViewModel:function(a){return a}}),d.call(this,c),this.parametersConverter=e,this._selectedPath=ko.observable(null),this._createNewParameter=function(b,c){var d=new a.Data.DataSourceParameter({"@Name":a.Internal.getUniqueNameForNamedObjectsArray(c,"parameter"),"@Type":"System.Int32"});return f._selectedPath(b+"."+d.name()),f.parametersConverter.createParameterViewModel(d)},this.template="dxrd-configure-query-parameters-page",this.description=a.getLocalization("Configure query parameters.","ASPxReportsStringId.ReportDesigner_SqlDSWizard_PageConfigureParameters"),this.scrollViewHeight=b.WizardViewModel.WIZARD_DEFAULT_SCROLLVIEW_HEIGHT,this.fieldListModel=ko.observable(null),this.actionPrevious.isDisabled(!1),this.actionFinish.isDisabled(!1)}return __extends(e,d),e.prototype._begin=function(d){var e=this;this._rootItems=[],d.sqlDataSource.queries().forEach(function(a){if(c(a,d.customQueries())){var f=new b.Utils.ParametersTreeListRootItem(a);f.parameters(a.parameters().map(function(a){return new b.Utils.ParametersTreeListItem(e.parametersConverter.createParameterViewModel(a),f)})),e._rootItems.push(f)}}),0===this._rootItems.length?this.isVisible=!1:(this.isVisible=!0,this.actionNext.isDisabled(d.sqlDataSource.queries().length<2),this.fieldListModel({itemsProvider:{getItems:function(b){var c=$.Deferred();if(b.fullPath){var d=a.Utils.findFirstItemMatchesCondition(e._rootItems,function(a){return a.name===b.ref});c.resolve(d.parameters())}else c.resolve(e._rootItems);return c.promise()}},templateName:"dx-treelist-item-with-hover",selectedPath:this._selectedPath,treeListController:new b.Utils.ParametersTreeListController(this._rootItems,this._createNewParameter)}),this.validateParameters())},e.prototype.getParameters=function(){return[].concat.apply([],(this._rootItems||[]).map(function(a){return a.parameters().map(function(a){return a.dataSourceParameter()})}))},e.prototype.commit=function(a){var b=this;d.prototype.commit.call(this,a),this._rootItems.forEach(function(a){a.query().parameters(a.parameters().map(function(a){return b.parametersConverter.getParameterFromViewModel(a.dataSourceParameter())}))})},e}(b.CommonParametersPage);b.MultiQueryConfigureParametersPage=d}(a.Wizard||(a.Wizard={}))}(a.Analytics||(a.Analytics={}))}(DevExpress||(DevExpress={}));var DevExpress;!function(a){!function(b){!function(c){var d=function(){function d(){var b=this;this._defaultWizardPage=new c.WizardPage(this,"","",""),this._pageToken=null,this._pageIsFirst=ko.observable(!0),this._currentStep=ko.observable(this._defaultWizardPage),this.width=ko.observable(d.WIZARD_DEFAULT_WIDTH),this.height=ko.observable(d.WIZARD_DEFAULT_HEIGHT),this.headerTemplate=null,this.extendCssClass=null,this.renderedSteps=ko.observableArray([this._defaultWizardPage]),this.isVisible=ko.observable(!1),this.indicatorVisible=ko.observable(!1),this.titleTemplate=a.Analytics.Widgets.Internal.getTemplate("dxrd-wizard-header-custom"),this.dispatcher=null,this.container=function(a){return $(a)},this.isPreviousButtonDisabled=ko.pureComputed({read:function(){return b.currentStep.actionPrevious.isDisabled()||b._pageIsFirst()},deferEvaluation:!0}),this._defaultWizardPage.actionPrevious.isDisabled(!0),this._defaultWizardPage.actionNext.isDisabled(!0),this._defaultWizardPage.actionFinish.isDisabled(!0),this.isVisible.subscribe(function(a){!1===a&&b.resetState()})}return d.prototype._goToPage=function(a){var b=this;"pending"===a.state()&&(this.indicatorVisible(!0),a.always(function(){return b.indicatorVisible(!1)})),a.done(function(a){b._pageToken=a.token,b._pageIsFirst(a.isFirst);var c=a.page;-1===b.renderedSteps.indexOf(c)&&b.renderedSteps.push(c),b._currentStep(c)})},Object.defineProperty(d.prototype,"currentStep",{get:function(){return this._currentStep()},enumerable:!0,configurable:!0}),d.prototype.loadPanelViewModel=function(a){return this.getLoadPanelViewModel(a,this.indicatorVisible)},d.prototype.getLoadPanelViewModel=function(b,c){var d=$(b).closest(".dxrd-wizard-content");return{animation:{show:{type:"fade",from:0,to:1,duration:700},hide:{type:"fade",from:1,to:0,duration:700}},deferRendering:!1,message:a.Analytics.getLocalization("Loading...","ASPxReportsStringId.WebDocumentViewer_Loading"),visible:c,shading:!0,shadingColor:"transparent",position:{of:d},container:d}},d.prototype.wizardPopupPosition=function(a){return{of:b.Utils.getParentContainer(a)}},d.prototype.goToNext=function(){this._currentStep().commit(this._data);var a=this.dispatcher.getNextPage(this._pageToken,this._data);this._goToPage(a)},d.prototype.goToPrevious=function(){this._currentStep().commit(this._data);var a=this.dispatcher.getPreviousPage(this._pageToken,this._data);this._goToPage(a)},d.prototype.cancel=function(){this.isVisible(!1)},d.prototype.start=function(a,b){this.dispatcher||(this.dispatcher=new c.LegacyPageDispathcer(this.steps)),this._data=a,this._finishCallback=b,this._pageToken=null,this._currentStep(this._defaultWizardPage),this.isVisible(!0),this._goToPage(this.dispatcher.getFirstPage(a))},d.prototype.finish=function(){var a=this;if(this._currentStep().commit(this._data),!this._finishCallback)return void this.isVisible(!1);this.indicatorVisible(!0),this._finishCallback(this._data).done(function(b){a.isVisible(!1)}).fail(function(){a.indicatorVisible(!1)})},d.prototype.resetState=function(){this.renderedSteps.splice(1).forEach(function(a){a.reset()}),this.indicatorVisible(!1)},d.chainCallbacks=function(a,b){return a?b?function(c){var d=$.Deferred();return a(c).done(function(a){a?d.resolve(!0):b(c).done(function(a){d.resolve(a)}).fail(function(){d.reject()})}).fail(function(){d.reject()}),d.promise()}:a:b},d.WIZARD_DEFAULT_WIDTH="690",d.WIZARD_DEFAULT_HEIGHT="505",d.WIZARD_DEFAULT_SCROLLVIEW_HEIGHT="286",d}();c.WizardViewModel=d}(b.Wizard||(b.Wizard={}))}(a.Analytics||(a.Analytics={}))}(DevExpress||(DevExpress={}));var DevExpress;!function(a){!function(b){!function(c){var d=function(d){function e(e,f,g,h){void 0===f&&(f={}),void 0===g&&(g=!1),void 0===h&&(h=!1),d.call(this),this.connectionStrings=e,this.height=ko.observable("443"),this.title=b.getLocalization("SQL Data Source Wizard","ASPxReportsStringId.ReportDesigner_SqlDSWizard_Title"),this.extendCssClass="dxrd-multiqueries-sqldatasource-wizard",this.container=b.Utils.getParentContainer,this.finishCallback=f.finishCallback,this.steps=[new c.SelectConnectionString(this,e,!1),new c.MultiQueryConfigurePage(this,f,g,h),new c.MultiQueryConfigureParametersPage(this),new c.MasterDetailRelationsPage(this,a.QueryBuilder.Utils.wrapRebuildResultSchema(f.sqlDataSourceResultSchema))]}return __extends(e,d),e.prototype.start=function(a,b){this.wizardModel=a||new c.MultiQueryDataSourceWizardModel,d.prototype.start.call(this,this.wizardModel,c.WizardViewModel.chainCallbacks(b,this.finishCallback))},e}(c.WizardViewModel);c.MultiQueryDataSourceWizard=d}(b.Wizard||(b.Wizard={}))}(a.Analytics||(a.Analytics={}))}(DevExpress||(DevExpress={}));var DevExpress;!function(a){!function(b){!function(c){var d=function(c){function d(d,e){var f=this;void 0===e&&(e={createParameterViewModel:function(a){return a},getParameterFromViewModel:function(a){return a}}),c.call(this,d),this.parametersConverter=e,this.template="dxrd-page-configure-parameters",this.description=b.getLocalization("Configure query parameters.","ASPxReportsStringId.ReportDesigner_SqlDSWizard_PageConfigureParameters"),this.removeButtonTitle=b.getLocalization("Remove","DataAccessUIStringId.Button_Remove"),this.actionPrevious.isDisabled(!1),this.actionNext.isDisabled(!0),this.actionFinish.isDisabled(!1),this.parametersEditorOptions={addHandler:function(){return f.parametersConverter.createParameterViewModel(new b.Data.DataSourceParameter({"@Name":b.Internal.getUniqueNameForNamedObjectsArray(f.parametersEditorOptions.values.peek().peek(),"param"),"@Type":"System.Int32"}))},values:ko.observable(ko.observableArray([])),displayName:"Parameters",level:0,info:ko.observable({displayName:"Parameters",localizationId:"DevExpress.DataAccess.Sql.SqlQuery.Parameters",propertyName:"parameters",modelName:"Parameter",array:!0,editor:a.Analytics.Widgets.editorTemplates.commonCollection,template:"#dxrd-parameter-collection-item"}),editorTemplate:"#dxrd-wizard-datasource-parameters",hideButtons:ko.observable(!1),collapsed:!1}}return __extends(d,c),d.prototype.getParameters=function(){return this.parametersEditorOptions.values()()},d.prototype._begin=function(a){var c=this;this.parametersEditorOptions.hideButtons(a.sqlQuery.type()===b.Data.Utils.SqlQueryType.storedProcQuery),this.parametersEditorOptions.values(ko.observableArray(a.sqlQuery.parameters().map(function(a){return c.parametersConverter.createParameterViewModel(a)}))),this.validateParameters()},d.prototype.commit=function(a){var b=this;c.prototype.commit.call(this,a),a.sqlQuery.parameters(this.parametersEditorOptions.values()().map(function(a){return b.parametersConverter.getParameterFromViewModel(a)}))},d}(c.CommonParametersPage);c.ConfigureParametersPage=d}(b.Wizard||(b.Wizard={}))}(a.Analytics||(a.Analytics={}))}(DevExpress||(DevExpress={}));var DevExpress;!function(a){!function(b){!function(c){var d=function(d){function e(f,g,h,i){var j=this;void 0===g&&(g={}),void 0===h&&(h=!1),void 0===i&&(i=!1),d.call(this,f),this._dataSource=function(){return j._data&&j._data.sqlDataSource},this._connection=function(){return j._data&&j._data.sqlDataSource&&j._data.sqlDataSource.connection},this.template="dxrd-wizard-create-query-page",this.description=a.Analytics.getLocalization("Create a query or select a stored procedure",a.Analytics.StringId.WizardPageConfigureQuery),this.queryTypeItems=[e.QUERY_TEXT,e.SP_TEXT],this.selectedQueryType=ko.observable(),this.queryControl=ko.observable(),this.runQueryBuilderBtnText=ko.pureComputed(function(){return j._selectStatementControl.sqlString()&&j._selectStatementControl.getQuery().type()!==b.Data.Utils.SqlQueryType.tableQuery?b.getLocalization("Create New Query...","ASPxReportsStringId.ReportDesigner_SqlDSWizard_CreateNewQuery"):b.getLocalization("Run Query Builder...","DataAccessUIStringId.Button_QueryBuilder")}),this._proceduresList=new c.Utils.StoredProceduresQueryControl,this._selectStatementControl=new c.Utils.SelectStatementQueryControl(new c.Utils.SelectQuerySqlTextProvider(a.QueryBuilder.Utils.wrapGetSelectStatement(g.selectStatement),this._connection),h),this.selectedQueryType.subscribe(function(a){a===e.SP_TEXT?(j._wrapWizardIndicator(function(){return j._dataSource().dbSchemaProvider.getDbStoredProcedures().done(function(a){j._proceduresList.storedProcedures([]),j._proceduresList.storedProcedures(a)})}),j.queryControl(j._proceduresList)):j.queryControl(j._selectStatementControl)}),this.selectedQueryType(e.QUERY_TEXT),this.popupQueryBuilder=new c.Utils.QueryBuilderPopup(function(a,b){return j._selectStatementControl.setQuery(a,b)},i,g.customizeQBInitData),this.actionPrevious.isDisabled=ko.pureComputed(function(){return j.wizard.indicatorVisible()}),this.actionNext.isDisabled=ko.pureComputed(function(){return j.wizard.indicatorVisible()||j.queryControl().isNextDisabled()}),this.actionFinish.isDisabled=ko.pureComputed(function(){return j.wizard.indicatorVisible()||j.queryControl().isFinishDisabled()}),this.actionCancel.handler=function(){j.wizard.indicatorVisible(!1),f.cancel()}}return __extends(e,d),e.prototype._wrapWizardIndicator=function(a){var b=this;this.wizard.indicatorVisible(!0),a().always(function(){b.wizard.indicatorVisible(!1)})},e.prototype.runQueryBuilder=function(){var a=this;this._wrapWizardIndicator(function(){return a._dataSource().dbSchemaProvider.getDbSchema().done(function(c){var d=a.queryControl().getQuery();d.type()===b.Data.Utils.SqlQueryType.tableQuery?a.popupQueryBuilder.show(d,a._dataSource()):a.popupQueryBuilder.show(new b.Data.TableQuery({"@Name":d.name()},a._dataSource()),a._dataSource())})})},e.prototype.localizeQueryType=function(a){return e.QUERY_TEXT===a?b.getLocalization(e.QUERY_TEXT,"DataAccessUIStringId.WizardPageConfigureQuery_Query"):b.getLocalization(e.SP_TEXT,"DataAccessUIStringId.WizardPageConfigureQuery_StoredProcedure")},e.prototype._begin=function(a){this._data===a&&a.sqlQuery||(this._data=a,this._proceduresList.setQuery(new b.Data.StoredProcQuery({"@Name":a.sqlQuery&&a.sqlQuery.name()},a.sqlDataSource)),this._selectStatementControl.setQuery(new b.Data.CustomSqlQuery({"@Name":a.sqlQuery&&a.sqlQuery.name()},a.sqlDataSource)),this.selectedQueryType(e.QUERY_TEXT)),a.sqlQuery&&(this.selectedQueryType(a.sqlQuery.type()===b.Data.Utils.SqlQueryType.storedProcQuery?e.SP_TEXT:e.QUERY_TEXT),this.queryControl().setQuery(a.sqlQuery,this.wizard.indicatorVisible)),this.popupQueryBuilder.isVisible(!1)},e.prototype.commit=function(a){var c=this.queryControl().getQuery();c&&(c.name()||c.name(b.Data.Utils.generateQueryUniqueName(a.sqlDataSource.queries(),c)),a.sqlQuery=c)},e.QUERY_TEXT="Query",e.SP_TEXT="Stored Procedure",e}(c.WizardPage);c.CreateQueryPage=d}(b.Wizard||(b.Wizard={}))}(a.Analytics||(a.Analytics={}))}(DevExpress||(DevExpress={}));var DevExpress;!function(a){!function(a){!function(b){var c=function(b){function c(c,d,e){var f=this;void 0===e&&(e=!1),b.call(this,c),this._showPageForSingleConnectionString=e,this.template="dxrd-page-connectionstring",this.description=a.getLocalization("Choose a data connection","ASPxReportsStringId.ReportDesigner_SqlDSWizard_PageChooseConnection"),this.connectionStrings=ko.observableArray([]),this.selectedConnectionString=ko.observableArray([]),this.actionPrevious.isVisible(!1),this.actionNext.isDisabled=ko.pureComputed(function(){return 0===f.selectedConnectionString().length}),this.actionFinish.isDisabled(!0),this.connectionStrings=d}return __extends(c,b),c.prototype._begin=function(b){var c=this.connectionStrings();if(b.sqlDataSource.name())this.isVisible=!1,this.selectedConnectionString([]);else if(1===c.length)this.selectedConnectionString([c[0]]),this.isVisible=this._showPageForSingleConnectionString;else{var d=a.Utils.getFirstItemByPropertyValue(c,"name",b.sqlDataSource.connection.name())||c[0];this.selectedConnectionString(d?[d]:[]),this.isVisible=!0}},c.prototype.commit=function(a){this.selectedConnectionString()[0]&&(a.sqlDataSource.connection.name(this.selectedConnectionString()[0].name),a.sqlDataSource.connection.parameteres(null),a.sqlDataSource.connection.fromAppConfig(!0))},c}(b.WizardPage);b.SelectConnectionString=c}(a.Wizard||(a.Wizard={}))}(a.Analytics||(a.Analytics={}))}(DevExpress||(DevExpress={}));var DevExpress;!function(a){!function(a){!function(b){var c=function(){function b(b,c){var d=this;this.sqlDataSource=b||new a.Data.SqlDataSource({}),c?this.sqlDataSource.queries().some(function(a,b){return a.name()===c&&(d._queryIndex=b,!0)}):this._queryIndex=this.sqlDataSource.queries().length}return Object.defineProperty(b.prototype,"sqlQuery",{get:function(){return this.sqlDataSource.queries()[this._queryIndex]},set:function(a){a&&(a.parent=this.sqlDataSource),this.sqlDataSource.queries()[this._queryIndex]=a},enumerable:!0,configurable:!0}),b.prototype.getQueryIndex=function(){return this._queryIndex},b}();b.SqlDataSourceWizardModel=c}(a.Wizard||(a.Wizard={}))}(a.Analytics||(a.Analytics={}))}(DevExpress||(DevExpress={}));var DevExpress;!function(a){!function(a){!function(b){var c=function(c){function d(d,e,f,g){void 0===e&&(e={}),void 0===f&&(f=!1),void 0===g&&(g=!1),c.call(this),this.title=a.getLocalization("SQL Data Source Wizard","ASPxReportsStringId.ReportDesigner_SqlDSWizard_Title"),this.extendCssClass="dxrd-sqldatasource-wizard",this.container=a.Utils.getParentContainer,this.finishCallback=e.finishCallback,this.steps=[new b.SelectConnectionString(this,d,!1),new b.CreateQueryPage(this,e,f,g),new b.ConfigureParametersPage(this)],this.connectionStrings=d}return __extends(d,c),d.prototype.start=function(a,d){this._wizardModel=a||new b.SqlDataSourceWizardModel,c.prototype.start.call(this,this._wizardModel,b.WizardViewModel.chainCallbacks(d,this.finishCallback))},d}(b.WizardViewModel);b.SqlDataSourceWizard=c}(a.Wizard||(a.Wizard={}))}(a.Analytics||(a.Analytics={}))}(DevExpress||(DevExpress={}));var DevExpress;!function(a){!function(b){!function(c){!function(c){var d=function(){function b(b,c){this.parent=c,this.editor=a.Analytics.Widgets.editorTemplates.commonCollection,this.isList=!1,this.contenttemplate="dx-treelist-accordion-contenttemplate-custom-with-actions",this.actionsTemplate="dx-treelist-item-actions",this.dataSourceParameter=ko.observable(b),this._name=b.name}return Object.defineProperty(b.prototype,"name",{get:function(){return this._name()},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"displayName",{get:function(){return this.name},enumerable:!0,configurable:!0}),b.prototype.query=function(){return this.parent.query()},b}();c.ParametersTreeListItem=d;var e=function(){function a(a){this.isList=!0,this.specifics="List",this.name=this.displayName=a.name(),this.parameters=ko.observableArray([]),this._query=a}return a.prototype.removeChild=function(a){this.parameters.remove(a)},a.prototype.query=function(){return this._query},a}();c.ParametersTreeListRootItem=e;var f=function(c){function e(a,b){c.call(this),this._createNewParameter=b,this._rootItems=a}return __extends(e,c),e.prototype.hasItems=function(a){return a.isList},e.prototype.getActions=function(c){var e=this,f=[];if(!c.data)return f;if(c.data.query().type()===b.Data.Utils.SqlQueryType.storedProcQuery)return c.data.isList?[]:[a.Analytics.Widgets.treeListEditAction];if(c.data.isList){var g=c.data;f.push({clickAction:function(){return g.parameters.push(new d(e._createNewParameter(g.name,g.parameters()),g))},imageClassName:"dxrd-image-add",imageTemplateName:"dxrd-svg-operations-add",text:b.getLocalization("Add parameter","ASPxReportsStringId.ReportDesigner_FieldListActions_AddParameter")})}else{var h=c.data;f.push({clickAction:function(){h.parent.removeChild(h)},imageClassName:"dxrd-image-recycle-bin",imageTemplateName:"dxrd-svg-operations-recycle_bin",text:b.getLocalization("Remove parameter","DataAccessUIStringId.Button_Remove")}),f.push(a.Analytics.Widgets.treeListEditAction)}return f},e.prototype.canSelect=function(a){return!0},e}(b.Widgets.TreeListController);c.ParametersTreeListController=f}(c.Utils||(c.Utils={}))}(b.Wizard||(b.Wizard={}))}(a.Analytics||(a.Analytics={}))}(DevExpress||(DevExpress={}));var DevExpress;!function(a){!function(a){!function(b){!function(b){var c=function(){function c(c,d,e,f,g){var h=this;this._callBack=ko.observable({deleteAction:function(b){h._customQueries.remove(a.Utils.findFirstItemMatchesCondition(h._customQueries(),function(a){return(a.name()||a.generateName())===b}))},showQbCallBack:null,disableCustomSql:!1}),this._checkedRootNodesCount=ko.pureComputed(function(){for(var a=0,b=0;b<h._rootItems.length&&a<2;b++)a+=h._rootItems[b].countChecked();return a}),this.hasCheckedItems=ko.pureComputed(function(){return!(0===h._checkedRootNodesCount())}),this.nextButtonDisabled=ko.pureComputed(function(){return!(h._checkedRootNodesCount()>1)&&!h.hasParametersToEdit()}),this.hasParametersToEdit=ko.pureComputed(function(){for(var a=0;a<h._rootItems.length;a++)if(h._rootItems[a].hasParamsToEdit&&h._rootItems[a].hasParamsToEdit())return!0;return!1}),this.tables=function(){return h._tables},this.views=function(){return h._views},this.procedures=function(){return h._procedures},this.queries=function(){return h._queries},this.customQueries=function(){return h._customQueries},this._callBack().showQbCallBack=e,this._callBack().disableCustomSql=f,this._tables=new b.TreeNode("tables",a.getLocalization("Tables","DataAccessStringId.ConfigureMultiQueryPage_TableCategory"),"list",!1,g),this._views=new b.TreeNode("views",a.getLocalization("Views","DataAccessStringId.ConfigureMultiQueryPage_ViewCategory"),"list",!1,g),this._procedures=new b.ParameterTreeNode("procedures",a.getLocalization("Stored Procedures","DataAccessStringId.ConfigureMultiQueryPage_SpCategory"),"list",!1,g),this._queries=new b.QueriesTreeNode("queries",a.getLocalization("Queries","DataAccessStringId.ConfigureMultiQueryPage_QueryCategory"),"list",!1,this._callBack,g),this._rootItems=[this._tables,this._views,this._procedures,this._queries],this.getItems=function(e){var f=$.Deferred();if(e.fullPath)if("tables"===e.fullPath)c.getDbSchema().done(function(a){if(0===h._tables.children().length){var c=[];a.tables.forEach(function(a){a.isView||c.push(new b.TreeNode(a.name,a.name,"table",h._tables.checked.peek(),g))}),h._tables.initializeChildren(c),f.resolve(c)}else f.resolve(h._tables.children())});else if("views"===e.fullPath)c.getDbSchema().done(function(a){if(0===h._views.children().length){var c=[];a.tables.forEach(function(a){a.isView&&c.push(new b.TreeNode(a.name,a.name,"view",h._views.checked.peek(),g))}),h._views.initializeChildren(c),f.resolve(c)}else f.resolve(h._views.children())});else if("procedures"===e.fullPath)c.getDbStoredProcedures().done(function(a){if(0===h._procedures.children().length){var c=a.map(function(a){return new b.TreeLeafNode(a.name,b.StoredProceduresQueryControl.generateStoredProcedureDisplayName(a),"procedure",h._procedures.checked.peek(),a.arguments,g)});h._procedures.initializeChildren(c),f.resolve(c)}else f.resolve(h._procedures.children())});else if("queries"===e.fullPath){var i=d().map(function(a){var c=a.name()||a.generateName(),d=h._queries.children().filter(function(a){return a.name===c})[0];return new b.TreeQueryNode(c,c,"query",!!d&&d.checked(),a.parameters,h._callBack,g)});h._queries.initializeChildren(i),f.resolve(i)}else c.getDbTable(e.path).done(function(c){var d;if(d=c.isView?a.Utils.findFirstItemMatchesCondition(h._views.children(),function(a){return a.name===c.name}):a.Utils.findFirstItemMatchesCondition(h._tables.children(),function(a){return a.name===c.name}),0===d.children().length){var e=c.columns.map(function(a){return new b.TreeLeafNode(a.name,a.name,"column",d.checked.peek(),null,g)});d.initializeChildren(e),f.resolve(e)}else f.resolve(d.children())});else f.resolve(h._rootItems);return f.promise()},this._customQueries=d}return c}();b.DBSchemaItemsProvider=c}(b.Utils||(b.Utils={}))}(a.Wizard||(a.Wizard={}))}(a.Analytics||(a.Analytics={}))}(DevExpress||(DevExpress={}));var DevExpress;!function(a){!function(a){!function(b){!function(b){var c=function(a){function c(b){a.call(this),this._customizeDBSchemaTreeListActions=b}return __extends(c,a),c.prototype.getActions=function(a){if(!a.data)return[];if(!(a.data instanceof b.QueriesTreeNode||a.data instanceof b.TreeQueryNode))return[];var c=a.data.getActions(a);return this._customizeDBSchemaTreeListActions&&this._customizeDBSchemaTreeListActions(a.data,c),c},c.prototype.canSelect=function(a){return!0},c}(a.Widgets.TreeListController);b.DBSchemaTreeListController=c}(b.Utils||(b.Utils={}))}(a.Wizard||(a.Wizard={}))}(a.Analytics||(a.Analytics={}))}(DevExpress||(DevExpress={}));var DevExpress;!function(a){!function(b){!function(c){!function(c){var d=function(){function c(a,b,c){var d=this;void 0===b&&(b=!1),void 0===c&&(c=function(a){return a}),this.customizeQBInitializationData=c,this._query=ko.observable(null),this._dbSchemaProvider=ko.observable(null),this.designer=ko.observable(),this.qbOptions=ko.observable(null),this.okButtonDisabled=ko.pureComputed(function(){return d.designer()&&!d.designer().model().isValid()}),this.isVisible=ko.observable(!1),this.showLoadIndicator=ko.observable(!1),this.localizationIdMap={title:{text:"Query Builder",localizationId:"DataAccessUIStringId.QueryBuilder"},loading:{text:"Loading...",localizationId:"ASPxReportsStringId.WebDocumentViewer_Loading"},previewResults:{text:"Preview Results...",localizationId:"DataAccessUIStringId.QueryBuilderButtons_PreviewResults"},cancel:{text:"Cancel",localizationId:"ASPxReportsStringId.SearchDialog_Cancel"},ok:{text:"OK",localizationId:"PivotGridStringId.FilterOk"}},this._applyQuery=a,this._rtl=b}return c.prototype.show=function(b,d){this._dataSource=d,this._dbSchemaProvider(d.dbSchemaProvider),this._query((new a.Analytics.Utils.ModelSerializer).serialize(b)),this.qbOptions(this.qbOptions()||this.customizeQBInitializationData({data:{querySource:this._query,dbSchemaProvider:this._dbSchemaProvider},callbacks:{customizeActions:c.customizeQueryBuilderActions},rtl:this._rtl})),this.isVisible(!0),this.designer().updateSurface()},c.prototype.cancelHandler=function(){this.isVisible(!1)},c.prototype.previewHandler=function(){this.designer().showPreview()},c.prototype.okHandler=function(){var a=this;this._applyQuery(new b.Data.TableQuery(this.designer().model().serialize(),this._dataSource),this.showLoadIndicator).done(function(){a.isVisible(!1)})},c.prototype.onHiddenHandler=function(){this.designer().dataPreview.isVisible(!1)},c.prototype.popupViewModel=function(a){var c=b.Utils.getParentContainer(a);return{visible:this.isVisible,title:this.getDisplayText("title"),showTitle:!0,shading:!0,fullScreen:!1,width:"95%",height:"95%",container:c,position:{of:c},onHidden:this.onHiddenHandler}},c.prototype.getDisplayText=function(b){return a.Analytics.getLocalization(this.localizationIdMap[b].text,this.localizationIdMap[b].localizationId)},c.customizeQueryBuilderActions=function(a){var c=b.Utils.findFirstItemMatchesCondition(a,function(a){return"Delete"===a.text}),d=b.Utils.findFirstItemMatchesCondition(a,function(a){return"Undo"===a.text}),e=b.Utils.findFirstItemMatchesCondition(a,function(a){return"Redo"===a.text});a.splice(0,a.length,c,d,e)},c}();c.QueryBuilderPopup=d}(c.Utils||(c.Utils={}))}(b.Wizard||(b.Wizard={}))}(a.Analytics||(a.Analytics={}))}(DevExpress||(DevExpress={}));var DevExpress;!function(a){!function(b){!function(c){!function(c){var d=function(){function c(a,b){this._selectStatementCallback=a,this._connection=b}return c.prototype.getQuerySqlText=function(c){var d=JSON.stringify({Query:(new a.Analytics.Utils.ModelSerializer).serialize(c)});return this._selectStatementCallback(this._connection(),d).fail(function(a){var c=b.Utils.getErrorMessage(a);b.Utils.ShowMessage("Unable to build a SQL string"+(c?": "+c:"."))})},c}();c.SelectQuerySqlTextProvider=d}(c.Utils||(c.Utils={}))}(b.Wizard||(b.Wizard={}))}(a.Analytics||(a.Analytics={}))}(DevExpress||(DevExpress={}));var DevExpress;!function(a){!function(b){!function(c){!function(c){var d=function(){function c(c,d){var e=this;this._tableQueryString=ko.observable(""),this._query=ko.observable(),this._needToCustomizeParameters=ko.pureComputed(function(){return e._query()&&(e._query().type()===b.Data.Utils.SqlQueryType.customSqlQuery||e._query().parameters().length>0)}),this.template="dxrd-select-control",this.aceOptions=a.QueryBuilder.Widgets.createDefaultSQLAceOptions(),this.additionalOptions=a.QueryBuilder.Widgets.createDefaultSQLAdditionalOptions(function(a){e.sqlString(a)}),this.aceAvailable=a.Analytics.Widgets.aceAvailable,this.languageHelper=a.QueryBuilder.Widgets.createDefaultSQLLanguageHelper(),this.caption=function(){return a.Analytics.getLocalization("SQL string:","DataAccessUIStringId.QueryControl_SqlString")},this.sqlString=ko.pureComputed({read:function(){return e._query()&&e._query().type()===b.Data.Utils.SqlQueryType.customSqlQuery?e._query().sqlString():e._tableQueryString()},write:function(a){if(e._query().type()!==b.Data.Utils.SqlQueryType.customSqlQuery){var c=new b.Data.CustomSqlQuery({"@Name":e._query().name()},e._query().parent);c.parameters(e._query().parameters()),c.sqlString(a),e._query(c)}else e._query().sqlString(a)}}),this.isNextDisabled=ko.pureComputed(function(){return!e.sqlString()||!e._needToCustomizeParameters()}),this.isFinishDisabled=ko.pureComputed(function(){return!e.sqlString()||e._needToCustomizeParameters()}),this._sqlTextProvider=c,this.disableCustomSql=function(){return d},this.aceOptions.readOnly=this.disableCustomSql()}return c.prototype.setQuery=function(a,c){var d=this;return this._query()!==a&&a.type()===b.Data.Utils.SqlQueryType.tableQuery?(c&&c(!0),this._sqlTextProvider.getQuerySqlText(a).done(function(b){d._tableQueryString(b.sqlSelectStatement),d._query(a)}).always(function(){c&&c(!1)})):(this._query(a),$.Deferred().resolve().promise())},c.prototype.getQuery=function(){return this._query()},Object.defineProperty(c.prototype,"runQueryBuilderDisabled",{get:function(){return!1},enumerable:!0,configurable:!0}),c}();c.SelectStatementQueryControl=d}(c.Utils||(c.Utils={}))}(b.Wizard||(b.Wizard={}))}(a.Analytics||(a.Analytics={}))}(DevExpress||(DevExpress={}));var DevExpress;!function(a){!function(b){!function(c){!function(c){var d=function(c){function d(){var e=this;c.call(this),this.template="dxrd-procedures-control",this.storedProcedures=ko.observableArray([]),this.selectedProcedure=ko.observableArray([]),this.caption=function(){return a.Analytics.getLocalization("Select a stored procedure:","DataAccessUIStringId.StoredProcControl_Caption")},this.generateStoredProcedureDisplayName=function(a){return d.generateStoredProcedureDisplayName(a)},this.isNextDisabled=ko.pureComputed(function(){return!e._selectedProcedure||!e._needToProcessParameters(e._selectedProcedure)}),this.isFinishDisabled=ko.pureComputed(function(){return!e._selectedProcedure||e._needToProcessParameters(e._selectedProcedure)}),this.storedProcedures.subscribe(function(a){a?e._selectedProcedure?e._selectedProcedure=b.Utils.getFirstItemByPropertyValue(e.storedProcedures(),"name",e._selectedProcedure.name):e._query&&e._query.procName()?e._selectedProcedure=b.Utils.getFirstItemByPropertyValue(e.storedProcedures(),"name",e._query.procName()):e._selectedProcedure=a[0]:e._selectedProcedure=null})}return __extends(d,c),d.prototype._needToProcessParameters=function(a){return a.arguments.some(d._availableConvertToParameter)},d._availableConvertToParameter=function(a){return a.direction!==b.Data.DBStoredProcedureArgumentDirection.Out},Object.defineProperty(d.prototype,"_selectedProcedure",{get:function(){return this.selectedProcedure()[0]},set:function(a){this.selectedProcedure(a?[a]:[])},enumerable:!0,configurable:!0}),d.prototype.scrollActiveItem=function(a){var b=a.model,c=b.selectedProcedure.peek();a.component.scrollToItem(c[0])},d.generateStoredProcedureDisplayName=function(a){return 0===a.arguments.length?a.name:a.arguments.reduce(function(a,b,c,d){return a+=b.name+(c<d.length-1?", ":")")},a.name+"(")},d.prototype.setQuery=function(a){this._query=a,this._selectedProcedure=b.Utils.getFirstItemByPropertyValue(this.storedProcedures(),"name",a.procName())},d.prototype.getQuery=function(){var a=this;if(!this._selectedProcedure)return null;var c=new b.Data.StoredProcQuery({"@Name":this._query.name()||this._selectedProcedure.name,ProcName:this._selectedProcedure.name},this._query.parent);return this._selectedProcedure.arguments.forEach(function(e){d._availableConvertToParameter(e)&&c.parameters.push(b.Utils.getFirstItemByPropertyValue(a._query.parameters(),"name",e.name)||new b.Data.DataSourceParameter({"@Name":e.name,"@Type":b.Data.DBColumn.GetType(e.type)},null,b.Data.storedProcParameterSerializationsInfo(b.Data.DBColumn.GetType(e.type))))}),c},Object.defineProperty(d.prototype,"runQueryBuilderDisabled",{get:function(){return!0},enumerable:!0,configurable:!0}),d}(b.Utils.Disposable);c.StoredProceduresQueryControl=d}(c.Utils||(c.Utils={}))}(b.Wizard||(b.Wizard={}))}(a.Analytics||(a.Analytics={}))}(DevExpress||(DevExpress={}));var DevExpress;!function(a){!function(a){!function(b){!function(b){var c=function(){function a(a,b,c,d,e){var f=this;void 0===d&&(d=!1),this.name=a,this.displayName=b,this.specifics=c,this.checked=ko.pureComputed(function(){return f._checked()}),this.isList=!1,this._checked=ko.observable(d),this._afterCheckToggled=e||$.noop}return a.prototype.unChecked=function(){return!1===this.checked()},a.prototype.toggleChecked=function(){this.setChecked(!this.checked.peek()),this._afterCheckToggled(this)},a.prototype.setChecked=function(a){this._checked(a)},a}();b.TreeNodeBase=c;var d=function(a){function b(b,c,d,e,f,g){void 0===e&&(e=!1),void 0===f&&(f=null),a.call(this,b,c,d,e,g),this.name=b,this.displayName=c,this.specifics=d,this.hasQuery=!1,this.arguments=f}return __extends(b,a),b}(c);b.TreeLeafNode=d;var e=function(a){function b(b,c,d,e,f){var g=this;a.call(this,b,c,d,e,f),this.countChecked=ko.pureComputed(function(){for(var a=0,b=0;b<g.children().length;b++)if(!g.children()[b].unChecked()){if(a>1)break;a++}return a}),this.isList=!0,this.children=ko.observableArray([]),this.checked=ko.pureComputed({read:function(){if(!g.initialized())return g._checked();var a=0,b=0;return g.children().forEach(function(c){!0===c.checked()?a++:!1!==c.checked()&&b++}),(0!==a||0!==b)&&(a===g.children.peek().length||void 0)}})}return __extends(b,a),b.prototype.initialized=function(){return this.children().length>0},b.prototype.setChecked=function(a){this._checked(a),this.children.peek().forEach(function(b){b.setChecked(a)})},b.prototype.initializeChildren=function(a){this.children(a||[])},b}(c);b.TreeNode=e;var f=function(a){function b(b,c,d,e,f){var g=this;a.call(this,b,c,d,e,f),this.countChecked=ko.pureComputed(function(){var a=0;g.hasParamsToEdit(!1);for(var b=0;b<g.children().length;b++){var c=g.children()[b];if(!c.unChecked()){if(a>1)break;a++,c.arguments&&c.arguments.length>0&&g.hasParamsToEdit(!0),"query"===c.specifics&&g.hasParamsToEdit(!0)}}return a}),this.hasParamsToEdit=ko.observable(!1)}return __extends(b,a),b}(e);b.ParameterTreeNode=f;var g=function(b){function c(c,d,e,f,g,h){var i=this;b.call(this,c,d,e,f,h),this.addAction={clickAction:function(a){return i.disableCustomSql()?i.addQuery():i.showPopover()},imageClassName:"dxrd-image-add",imageTemplateName:"dxrd-svg-operations-add",templateName:"dx-treelist-action-with-popover",text:a.getLocalization("Add query","ASPxReportsStringId.ReportDesigner_SqlDSWizard_AddQuery")},this.itemClickAction=function(a){i.popoverVisible(!1),a.itemData.addAction()},this.popoverVisible=ko.observable(!1),this.addQuery=function(){g().showQbCallBack()},this.addCustomQuery=function(){g().showQbCallBack(null,!0)},this.disableCustomSql=function(){return g&&g().disableCustomSql}}return __extends(c,b),c.prototype.getActions=function(a){var b=[];return a.hasItems&&0===a.path.indexOf("queries")&&b.push(this.addAction),b},c.prototype.popoverListItems=function(){var b=this;return[{name:a.getLocalization("Run Query Builder","DataAccessUIStringId.Button_QueryBuilder"),addAction:function(){return b.addQuery()}},{name:a.getLocalization("Write Custom SQL","ASPxReportsStringId.ReportDesigner_SqlDSWizard_WriteCustomSQL"),addAction:function(){return b.addCustomQuery()}}]},c.prototype.showPopover=function(){this.popoverVisible(!0)},c}(f);b.QueriesTreeNode=g;var h=function(b){function c(c,d,e,f,g,h,i){var j=this;b.call(this,c,d,e,f,null,i),this.editAction={clickAction:function(a){return j.editQuery()},imageClassName:"dx-image-edit",imageTemplateName:"dxrd-svg-operations-edit",text:a.getLocalization("Edit query","ASPxReportsStringId.ReportDesigner_SqlDSWizard_EditQuery")},this.removeAction={clickAction:function(a){j.removeQuery({model:a.data})},imageClassName:"dxrd-image-recycle-bin",imageTemplateName:"dxrd-svg-operations-recycle_bin",text:a.getLocalization("Remove query","ASPxReportsStringId.ReportDesigner_SqlDSWizard_RemoveQuery")},this.parameters=g,this.removeQuery=function(a){h().deleteAction(a.model.name)},this.editQuery=function(a){h().showQbCallBack(j.name)},this.hasQuery=!0}return __extends(c,b),c.prototype.getActions=function(a){var b=[];return b.push(this.removeAction),b.push(this.editAction),b},c}(d);b.TreeQueryNode=h}(b.Utils||(b.Utils={}))}(a.Wizard||(a.Wizard={}))}(a.Analytics||(a.Analytics={}))}(DevExpress||(DevExpress={}));var DevExpress;!function(a){!function(a){!function(a){var b=function(){function a(a){this._steps=a.slice()}return a.prototype.getFirstPage=function(a){return this._goToFirstVisiblePage(!0,0,a,!0)},a.prototype.getNextPage=function(a,b){return this._goToFirstVisiblePage(!0,a+1,b,!1)},a.prototype.getPreviousPage=function(a,b){return this._goToFirstVisiblePage(!1,a-1,b,this._isPageFirst(a,b),!1)},a.prototype._isPageFirst=function(a,b){for(var c=a-1;c>=0;c--)if(this._steps[c].isVisible)return!1;return!0},a.prototype._isPageLast=function(a){return a===this._steps.length-1},a.prototype._goToFirstVisiblePage=function(a,b,c,d,e){var f=this,g=$.Deferred();if(b>=this._steps.length||b<0)return g.reject("Invalid page index").promise();var h=this._steps[b],i=h.beginAsync(c);return i?(i.done(function(){if(h.isVisible)void 0===e&&(e=f._isPageLast(b)),g.resolve({page:h,token:b,isFirst:d,isLast:e});else{h.commit(c);var i=f._goToFirstVisiblePage(a,b+(a?1:-1),c,d,e);i.done(function(a){return g.resolve(a)}),i.fail(function(a){return g.reject(a)})}}),i.fail(function(a){return g.reject(a)}),g.promise()):h.isVisible?(void 0===e&&(e=this._isPageLast(b)),g.resolve({page:h,token:b,isFirst:d,isLast:e}).promise()):(h.commit(c),this._goToFirstVisiblePage(a,b+(a?1:-1),c,d,e))},a}();a.LegacyPageDispathcer=b}(a.Wizard||(a.Wizard={}))}(a.Analytics||(a.Analytics={}))}(DevExpress||(DevExpress={}));var DevExpress;!function(a){!function(a){!function(a){var b=function(){function a(a,b){this.handler=a,this.isVisible=ko.observable(!0),this.isDisabled=ko.observable(!1),this.text=b}return a}();a.WizardAction=b}(a.Wizard||(a.Wizard={}))}(a.Analytics||(a.Analytics={}))}(DevExpress||(DevExpress={}));var DevExpress;!function(a){!function(b){var c=function(a){function b(){a.apply(this,arguments)}return __extends(b,a),b}(a.Analytics.Data.ConnectionOptions);b.ConnectionOptions=c,a.Analytics.Internal._defineProperty(a.Data,a.Analytics.Data,"ConnectionOptions");var d=function(a){function b(){a.apply(this,arguments)}return __extends(b,a),b}(a.Analytics.Data.CustomSqlQuery);b.CustomSqlQuery=d,a.Analytics.Internal._defineProperty(a.Data,a.Analytics.Data,"CustomSqlQuery"),b.customQuerySerializationsInfo=a.Analytics.Data.customQuerySerializationsInfo,a.Analytics.Internal._defineProperty(a.Data,a.Analytics.Data,"customQuerySerializationsInfo"),b.masterDetailRelationSerializationsInfo=a.Analytics.Data.masterDetailRelationSerializationsInfo,a.Analytics.Internal._defineProperty(a.Data,a.Analytics.Data,"masterDetailRelationSerializationsInfo");var e=function(a){function b(){a.apply(this,arguments)}return __extends(b,a),b}(a.Analytics.Data.MasterDetailRelation);b.MasterDetailRelation=e,a.Analytics.Internal._defineProperty(a.Data,a.Analytics.Data,"MasterDetailRelation");var f=function(a){function b(){a.apply(this,arguments)}return __extends(b,a),b}(a.Analytics.Data.SqlDataConnection);b.SqlDataConnection=f,a.Analytics.Internal._defineProperty(a.Data,a.Analytics.Data,"SqlDataConnection");var g=function(a){function b(){a.apply(this,arguments)}return __extends(b,a),b}(a.Analytics.Data.SqlDataSource);b.SqlDataSource=g,a.Analytics.Internal._defineProperty(a.Data,a.Analytics.Data,"SqlDataSource"),b.storedProcQuerySerializationsInfo=a.Analytics.Data.storedProcQuerySerializationsInfo,a.Analytics.Internal._defineProperty(a.Data,a.Analytics.Data,"storedProcQuerySerializationsInfo");var h=function(a){function b(){a.apply(this,arguments)}return __extends(b,a),b}(a.Analytics.Data.StoredProcQuery);b.StoredProcQuery=h,a.Analytics.Internal._defineProperty(a.Data,a.Analytics.Data,"StoredProcQuery"),b.tableQuerySerializationsInfo=a.Analytics.Data.tableQuerySerializationsInfo,a.Analytics.Internal._defineProperty(a.Data,a.Analytics.Data,"tableQuerySerializationsInfo");var i=function(a){function b(){a.apply(this,arguments)}return __extends(b,a),b}(a.Analytics.Data.TableQuery);b.TableQuery=i,a.Analytics.Internal._defineProperty(a.Data,a.Analytics.Data,"TableQuery"),b.dsParameterNameValidationRules=a.Analytics.Data.dsParameterNameValidationRules,a.Analytics.Internal._defineProperty(a.Data,a.Analytics.Data,"dsParameterNameValidationRules"),b.parameterValueSerializationsInfo=a.Analytics.Data.parameterValueSerializationsInfo,a.Analytics.Internal._defineProperty(a.Data,a.Analytics.Data,"parameterValueSerializationsInfo"),b.dsParameterSerializationInfo=a.Analytics.Data.dsParameterSerializationInfo,a.Analytics.Internal._defineProperty(a.Data,a.Analytics.Data,"dsParameterSerializationInfo"),b.storedProcParameterSerializationsInfo=a.Analytics.Data.storedProcParameterSerializationsInfo,a.Analytics.Internal._defineProperty(a.Data,a.Analytics.Data,"storedProcParameterSerializationsInfo"),b.integerValueConverter=a.Analytics.Data.integerValueConverter,a.Analytics.Internal._defineProperty(a.Data,a.Analytics.Data,"integerValueConverter"),b.floatValueConverter=a.Analytics.Data.floatValueConverter,a.Analytics.Internal._defineProperty(a.Data,a.Analytics.Data,"floatValueConverter");var j=function(a){function b(){a.apply(this,arguments)}return __extends(b,a),b}(a.Analytics.Data.DataSourceParameter);b.DataSourceParameter=j,a.Analytics.Internal._defineProperty(a.Data,a.Analytics.Data,"DataSourceParameter"),b.DBColumnType=a.Analytics.Data.DBColumnType,a.Analytics.Internal._defineProperty(a.Data,a.Analytics.Data,"DBColumnType");var k=function(a){function b(){a.apply(this,arguments)}return __extends(b,a),b}(a.Analytics.Data.DBColumn);b.DBColumn=k,a.Analytics.Internal._defineProperty(a.Data,a.Analytics.Data,"DBColumn");var l=function(a){function b(){a.apply(this,arguments)}return __extends(b,a),b}(a.Analytics.Data.DBForeignKey);b.DBForeignKey=l,a.Analytics.Internal._defineProperty(a.Data,a.Analytics.Data,"DBForeignKey");var m=function(a){function b(){a.apply(this,arguments)}return __extends(b,a),b}(a.Analytics.Data.DBSchema);b.DBSchema=m,a.Analytics.Internal._defineProperty(a.Data,a.Analytics.Data,"DBSchema"),b.getDBSchemaCallback=a.Analytics.Data.getDBSchemaCallback,a.Analytics.Internal._defineProperty(a.Data,a.Analytics.Data,"getDBSchemaCallback");var n=function(a){function b(){a.apply(this,arguments)}return __extends(b,a),b}(a.Analytics.Data.DBSchemaProvider);b.DBSchemaProvider=n,a.Analytics.Internal._defineProperty(a.Data,a.Analytics.Data,"DBSchemaProvider");var o=function(a){function b(){a.apply(this,arguments)}return __extends(b,a),b}(a.Analytics.Data.DBStoredProcedure);b.DBStoredProcedure=o,a.Analytics.Internal._defineProperty(a.Data,a.Analytics.Data,"DBStoredProcedure"),b.DBStoredProcedureArgumentDirection=a.Analytics.Data.DBStoredProcedureArgumentDirection,a.Analytics.Internal._defineProperty(a.Data,a.Analytics.Data,"DBStoredProcedureArgumentDirection");var p=function(a){function b(){a.apply(this,arguments)}return __extends(b,a),b}(a.Analytics.Data.DBStoredProcedureArgument);b.DBStoredProcedureArgument=p,a.Analytics.Internal._defineProperty(a.Data,a.Analytics.Data,"DBStoredProcedureArgument");var q=function(a){function b(){a.apply(this,arguments)}return __extends(b,a),b}(a.Analytics.Data.DBTable);b.DBTable=q,a.Analytics.Internal._defineProperty(a.Data,a.Analytics.Data,"DBTable");var r=function(a){function b(){a.apply(this,arguments)}return __extends(b,a),b}(a.Analytics.Data.ResultSet);b.ResultSet=r,a.Analytics.Internal._defineProperty(a.Data,a.Analytics.Data,"ResultSet");var s=function(a){function b(){a.apply(this,arguments)}return __extends(b,a),b}(a.Analytics.Data.ResultTable);b.ResultTable=s,a.Analytics.Internal._defineProperty(a.Data,a.Analytics.Data,"ResultTable"),b.SqlQueryType=a.Analytics.Data.Utils.SqlQueryType,a.Analytics.Internal._defineProperty(a.Data,a.Analytics.Data.Utils,"SqlQueryType"),b.generateQueryUniqueName=a.Analytics.Data.Utils.generateQueryUniqueName,a.Analytics.Internal._defineProperty(a.Data,a.Analytics.Data.Utils,"generateQueryUniqueName");var t=function(a){function b(){a.apply(this,arguments)}return __extends(b,a),b}(a.QueryBuilder.Widgets.KeyColumnSurface);b.KeyColumnSurface=t,a.Analytics.Internal._defineProperty(a.Data,a.QueryBuilder.Widgets,"KeyColumnSurface");var u=function(a){function b(){a.apply(this,arguments)}return __extends(b,a),b}(a.QueryBuilder.Widgets.MasterDetailEditor);b.MasterDetailEditor=u,a.Analytics.Internal._defineProperty(a.Data,a.QueryBuilder.Widgets,"MasterDetailEditor");var v=function(a){function b(){a.apply(this,arguments)}return __extends(b,a),b}(a.QueryBuilder.Widgets.MasterDetailEditorPopupManager);b.MasterDetailEditorPopupManager=v,a.Analytics.Internal._defineProperty(a.Data,a.QueryBuilder.Widgets,"MasterDetailEditorPopupManager");var w=function(a){function b(){a.apply(this,arguments)}return __extends(b,a),b}(a.QueryBuilder.Widgets.MasterDetailRelationSurface);b.MasterDetailRelationSurface=w,a.Analytics.Internal._defineProperty(a.Data,a.QueryBuilder.Widgets,"MasterDetailRelationSurface");var x=function(a){function b(){a.apply(this,arguments)}return __extends(b,a),b}(a.QueryBuilder.Widgets.MasterQuerySurface);b.MasterQuerySurface=x,a.Analytics.Internal._defineProperty(a.Data,a.QueryBuilder.Widgets,"MasterQuerySurface")}(a.Data||(a.Data={}))}(DevExpress||(DevExpress={}));var DevExpress;!function(a){!function(b){!function(b){var c=function(a){function b(){a.apply(this,arguments)}return __extends(b,a),b}(a.QueryBuilder.Internal.ColumnDragHandler);b.ColumnDragHandler=c,a.Analytics.Internal._defineProperty(a.Designer.QueryBuilder,a.QueryBuilder.Internal,"ColumnDragHandler");var d=function(a){function b(){a.apply(this,arguments)}return __extends(b,a),b}(a.QueryBuilder.Internal.DbObjectDragDropHandler);b.DbObjectDragDropHandler=d,a.Analytics.Internal._defineProperty(a.Designer.QueryBuilder,a.QueryBuilder.Internal,"DbObjectDragDropHandler"),b.allColumnsSerializationInfo=a.QueryBuilder.Elements.allColumnsSerializationInfo,a.Analytics.Internal._defineProperty(a.Designer.QueryBuilder,a.QueryBuilder.Elements,"allColumnsSerializationInfo");var e=function(a){function b(){a.apply(this,arguments)}return __extends(b,a),b}(a.QueryBuilder.Elements.AllColumnsViewModel);b.AllColumnsViewModel=e,a.Analytics.Internal._defineProperty(a.Designer.QueryBuilder,a.QueryBuilder.Elements,"AllColumnsViewModel");var f=function(a){function b(){a.apply(this,arguments)}return __extends(b,a),b}(a.QueryBuilder.Elements.AllColumnsSurface);b.AllColumnsSurface=f,a.Analytics.Internal._defineProperty(a.Designer.QueryBuilder,a.QueryBuilder.Elements,"AllColumnsSurface"),b.ColumnType=a.QueryBuilder.Elements.ColumnType,a.Analytics.Internal._defineProperty(a.Designer.QueryBuilder,a.QueryBuilder.Elements,"ColumnType"),b.columnExpressionSerializationsInfo=a.QueryBuilder.Elements.columnExpressionSerializationsInfo,a.Analytics.Internal._defineProperty(a.Designer.QueryBuilder,a.QueryBuilder.Elements,"columnExpressionSerializationsInfo");var g=function(a){function b(){a.apply(this,arguments)}return __extends(b,a),b}(a.QueryBuilder.Elements.ColumnExpression);b.ColumnExpression=g,a.Analytics.Internal._defineProperty(a.Designer.QueryBuilder,a.QueryBuilder.Elements,"ColumnExpression");var h=function(a){function b(){a.apply(this,arguments)}return __extends(b,a),b}(a.QueryBuilder.Utils.ColumnExpressionCollectionHelper);b.ColumnExpressionCollectionHelper=h,a.Analytics.Internal._defineProperty(a.Designer.QueryBuilder,a.QueryBuilder.Utils,"ColumnExpressionCollectionHelper"),b.AggregationType=a.QueryBuilder.Elements.AggregationType,a.Analytics.Internal._defineProperty(a.Designer.QueryBuilder,a.QueryBuilder.Elements,"AggregationType"),b.columnSerializationInfo=a.QueryBuilder.Elements.columnSerializationInfo,a.Analytics.Internal._defineProperty(a.Designer.QueryBuilder,a.QueryBuilder.Elements,"columnSerializationInfo");var i=function(a){function b(){a.apply(this,arguments)}return __extends(b,a),b}(a.QueryBuilder.Elements.ColumnViewModel);b.ColumnViewModel=i,a.Analytics.Internal._defineProperty(a.Designer.QueryBuilder,a.QueryBuilder.Elements,"ColumnViewModel");var j=function(a){function b(){a.apply(this,arguments)}return __extends(b,a),b}(a.QueryBuilder.Elements.ColumnSurface);b.ColumnSurface=j,a.Analytics.Internal._defineProperty(a.Designer.QueryBuilder,a.QueryBuilder.Elements,"ColumnSurface"),b.ConditionType=a.QueryBuilder.Elements.ConditionType,a.Analytics.Internal._defineProperty(a.Designer.QueryBuilder,a.QueryBuilder.Elements,"ConditionType"),b.joinConditionSerializationInfo=a.QueryBuilder.Elements.joinConditionSerializationInfo,a.Analytics.Internal._defineProperty(a.Designer.QueryBuilder,a.QueryBuilder.Elements,"joinConditionSerializationInfo");var k=function(a){function b(){a.apply(this,arguments)}return __extends(b,a),b}(a.QueryBuilder.Elements.JoinConditionViewModel);b.JoinConditionViewModel=k,a.Analytics.Internal._defineProperty(a.Designer.QueryBuilder,a.QueryBuilder.Elements,"JoinConditionViewModel");var l=function(a){function b(){a.apply(this,arguments)}return __extends(b,a),b}(a.QueryBuilder.Elements.JoinConditionSurface);b.JoinConditionSurface=l,a.Analytics.Internal._defineProperty(a.Designer.QueryBuilder,a.QueryBuilder.Elements,"JoinConditionSurface");var m=function(a){function b(){a.apply(this,arguments)}return __extends(b,a),b}(a.QueryBuilder.Elements.QueryElementBaseViewModel);b.QueryElementBaseViewModel=m,a.Analytics.Internal._defineProperty(a.Designer.QueryBuilder,a.QueryBuilder.Elements,"QueryElementBaseViewModel");var n=function(a){function b(){a.apply(this,arguments)}return __extends(b,a),b}(a.QueryBuilder.Elements.QueryElementBaseSurface);b.QueryElementBaseSurface=n,a.Analytics.Internal._defineProperty(a.Designer.QueryBuilder,a.QueryBuilder.Elements,"QueryElementBaseSurface");var o=function(a){function b(){a.apply(this,arguments)}return __extends(b,a),b}(a.QueryBuilder.Elements.QueryViewModel);b.QueryViewModel=o,a.Analytics.Internal._defineProperty(a.Designer.QueryBuilder,a.QueryBuilder.Elements,"QueryViewModel"),b.querySerializationsInfo=a.QueryBuilder.Elements.querySerializationsInfo,a.Analytics.Internal._defineProperty(a.Designer.QueryBuilder,a.QueryBuilder.Elements,"querySerializationsInfo");var p=function(a){function b(){a.apply(this,arguments)}return __extends(b,a),b}(a.QueryBuilder.Elements.QuerySurface);b.QuerySurface=p,a.Analytics.Internal._defineProperty(a.Designer.QueryBuilder,a.QueryBuilder.Elements,"QuerySurface"),b.relationSerializationInfo=a.QueryBuilder.Elements.relationSerializationInfo,a.Analytics.Internal._defineProperty(a.Designer.QueryBuilder,a.QueryBuilder.Elements,"relationSerializationInfo");var q=function(a){function b(){a.apply(this,arguments)}return __extends(b,a),b}(a.QueryBuilder.Elements.RelationViewModel);b.RelationViewModel=q,a.Analytics.Internal._defineProperty(a.Designer.QueryBuilder,a.QueryBuilder.Elements,"RelationViewModel");var r=function(a){function b(){a.apply(this,arguments)}return __extends(b,a),b}(a.QueryBuilder.Elements.RelationSurface);b.RelationSurface=r,a.Analytics.Internal._defineProperty(a.Designer.QueryBuilder,a.QueryBuilder.Elements,"RelationSurface"),b.tableSerializationInfo=a.QueryBuilder.Elements.tableSerializationInfo,a.Analytics.Internal._defineProperty(a.Designer.QueryBuilder,a.QueryBuilder.Elements,"tableSerializationInfo");var s=function(a){function b(){a.apply(this,arguments)}return __extends(b,a),b}(a.QueryBuilder.Elements.TableViewModel);b.TableViewModel=s,a.Analytics.Internal._defineProperty(a.Designer.QueryBuilder,a.QueryBuilder.Elements,"TableViewModel");var t=function(a){function b(){a.apply(this,arguments)}return __extends(b,a),b}(a.QueryBuilder.Elements.TableSurface);b.TableSurface=t,a.Analytics.Internal._defineProperty(a.Designer.QueryBuilder,a.QueryBuilder.Elements,"TableSurface"),b.controlsFactory=a.QueryBuilder.Utils.controlsFactory,a.Analytics.Internal._defineProperty(a.Designer.QueryBuilder,a.QueryBuilder.Utils,"controlsFactory"),b.registerControls=a.QueryBuilder.Utils.registerControls,a.Analytics.Internal._defineProperty(a.Designer.QueryBuilder,a.QueryBuilder.Utils,"registerControls");var u=function(a){function b(){a.apply(this,arguments)}return __extends(b,a),b}(a.QueryBuilder.Utils.QueryBuilderTreeListController);b.QueryBuilderTreeListController=u,a.Analytics.Internal._defineProperty(a.Designer.QueryBuilder,a.QueryBuilder.Utils,"QueryBuilderTreeListController");var v=function(a){function b(){a.apply(this,arguments)}return __extends(b,a),b}(a.QueryBuilder.Utils.RequestWrapper);b.RequestWrapper=v,a.Analytics.Internal._defineProperty(a.Designer.QueryBuilder,a.QueryBuilder.Utils,"RequestWrapper"),b.editorTemplates=a.QueryBuilder.Widgets.editorTemplates,a.Analytics.Internal._defineProperty(a.Designer.QueryBuilder,a.QueryBuilder.Widgets,"editorTemplates");var w=function(a){function b(){a.apply(this,arguments)}return __extends(b,a),b}(a.QueryBuilder.Widgets.UndoEditor);b.UndoEditor=w,a.Analytics.Internal._defineProperty(a.Designer.QueryBuilder,a.QueryBuilder.Widgets,"UndoEditor");var x=function(a){function b(){a.apply(this,arguments)}return __extends(b,a),b}(a.QueryBuilder.Widgets.GroupFilterEditorSerializer);b.GroupFilterEditorSerializer=x,a.Analytics.Internal._defineProperty(a.Designer.QueryBuilder,a.QueryBuilder.Widgets,"GroupFilterEditorSerializer");var y=function(a){function b(){a.apply(this,arguments)}return __extends(b,a),b}(a.QueryBuilder.Widgets.OperandParameterQBSurface);b.OperandParameterQBSurface=y,a.Analytics.Internal._defineProperty(a.Designer.QueryBuilder,a.QueryBuilder.Widgets,"OperandParameterQBSurface");var z=function(a){function b(){a.apply(this,arguments)}return __extends(b,a),b}(a.QueryBuilder.Widgets.OperandPropertyQBSurface);b.OperandPropertyQBSurface=z,a.Analytics.Internal._defineProperty(a.Designer.QueryBuilder,a.QueryBuilder.Widgets,"OperandPropertyQBSurface"),b.isAggregatedExpression=a.QueryBuilder.Widgets.isAggregatedExpression,a.Analytics.Internal._defineProperty(a.Designer.QueryBuilder,a.QueryBuilder.Widgets,"isAggregatedExpression");var A=function(a){function b(){a.apply(this,arguments)}return __extends(b,a),b}(a.QueryBuilder.Widgets.QueryBuilderObjectsProvider);b.QueryBuilderObjectsProvider=A,a.Analytics.Internal._defineProperty(a.Designer.QueryBuilder,a.QueryBuilder.Widgets,"QueryBuilderObjectsProvider"),b.ActionId=a.QueryBuilder.ActionId,a.Analytics.Internal._defineProperty(a.Designer.QueryBuilder,a.QueryBuilder,"ActionId"),b.HandlerUri=a.QueryBuilder.HandlerUri,a.Analytics.Internal._defineProperty(a.Designer.QueryBuilder,a.QueryBuilder,"HandlerUri"),b.updateQueryBuilderSurfaceContentSize=a.QueryBuilder.updateQueryBuilderSurfaceContentSize,a.Analytics.Internal._defineProperty(a.Designer.QueryBuilder,a.QueryBuilder,"updateQueryBuilderSurfaceContentSize"),b.createIsLoadingFlag=a.QueryBuilder.createIsLoadingFlag,a.Analytics.Internal._defineProperty(a.Designer.QueryBuilder,a.QueryBuilder,"createIsLoadingFlag"),b.isJoinsResolvingDisabled=a.QueryBuilder.isJoinsResolvingDisabled,a.Analytics.Internal._defineProperty(a.Designer.QueryBuilder,a.QueryBuilder,"isJoinsResolvingDisabled"),b.createQueryBuilder=a.QueryBuilder.createQueryBuilder,a.Analytics.Internal._defineProperty(a.Designer.QueryBuilder,a.QueryBuilder,"createQueryBuilder"),b.name=a.QueryBuilder.name,a.Analytics.Internal._defineProperty(a.Designer.QueryBuilder,a.QueryBuilder,"name"),b.alias=a.QueryBuilder.alias,a.Analytics.Internal._defineProperty(a.Designer.QueryBuilder,a.QueryBuilder,"alias"),b.text=a.QueryBuilder.text,a.Analytics.Internal._defineProperty(a.Designer.QueryBuilder,a.QueryBuilder,"text"),b.selected=a.QueryBuilder.selected,a.Analytics.Internal._defineProperty(a.Designer.QueryBuilder,a.QueryBuilder,"selected"),b.size=a.QueryBuilder.size,a.Analytics.Internal._defineProperty(a.Designer.QueryBuilder,a.QueryBuilder,"size"),b.location=a.QueryBuilder.location,a.Analytics.Internal._defineProperty(a.Designer.QueryBuilder,a.QueryBuilder,"location"),b.sizeLocation=a.QueryBuilder.sizeLocation,a.Analytics.Internal._defineProperty(a.Designer.QueryBuilder,a.QueryBuilder,"sizeLocation"),b.unknownSerializationsInfo=a.QueryBuilder.unknownSerializationsInfo,a.Analytics.Internal._defineProperty(a.Designer.QueryBuilder,a.QueryBuilder,"unknownSerializationsInfo")}(b.QueryBuilder||(b.QueryBuilder={}))}(a.Designer||(a.Designer={}))}(DevExpress||(DevExpress={}));var DevExpress;!function(a){!function(b){!function(b){!function(b){var c=function(a){function b(){a.apply(this,arguments)}return __extends(b,a),b}(a.Analytics.Wizard.CommonParametersPage);b.CommonParametersPage=c,a.Analytics.Internal._defineProperty(a.Designer.Report.Wizard,a.Analytics.Wizard,"CommonParametersPage");var d=function(a){function b(){a.apply(this,arguments)}return __extends(b,a),b}(a.Analytics.Wizard.LegacyPageDispathcer);b.LegacyPageDispathcer=d,a.Analytics.Internal._defineProperty(a.Designer.Report.Wizard,a.Analytics.Wizard,"LegacyPageDispathcer");var e=function(a){function b(){a.apply(this,arguments)}return __extends(b,a),b}(a.Analytics.Wizard.WizardAction);b.WizardAction=e,a.Analytics.Internal._defineProperty(a.Designer.Report.Wizard,a.Analytics.Wizard,"WizardAction");var f=function(a){function b(){a.apply(this,arguments)}return __extends(b,a),b}(a.Analytics.Wizard.WizardViewModel);b.WizardViewModel=f,a.Analytics.Internal._defineProperty(a.Designer.Report.Wizard,a.Analytics.Wizard,"WizardViewModel");var g=function(a){function b(){a.apply(this,arguments)}return __extends(b,a),b}(a.Analytics.Wizard.WizardPage);b.WizardPage=g,a.Analytics.Internal._defineProperty(a.Designer.Report.Wizard,a.Analytics.Wizard,"WizardPage");var h=function(a){function b(){a.apply(this,arguments)}return __extends(b,a),b}(a.Analytics.Wizard.MultiQueryConfigurePage);b.MultiQueryConfigurePage=h,a.Analytics.Internal._defineProperty(a.Designer.Report.Wizard,a.Analytics.Wizard,"MultiQueryConfigurePage");var i=function(a){function b(){a.apply(this,arguments)}return __extends(b,a),b}(a.Analytics.Wizard.MasterDetailRelationsPage);b.MasterDetailRelationsPage=i,a.Analytics.Internal._defineProperty(a.Designer.Report.Wizard,a.Analytics.Wizard,"MasterDetailRelationsPage");var j=function(a){function b(){a.apply(this,arguments)}return __extends(b,a),b}(a.Analytics.Wizard.MultiQueryConfigureParametersPage);b.MultiQueryConfigureParametersPage=j,a.Analytics.Internal._defineProperty(a.Designer.Report.Wizard,a.Analytics.Wizard,"MultiQueryConfigureParametersPage");var k=function(a){function b(){a.apply(this,arguments)}return __extends(b,a),b}(a.Analytics.Wizard.MultiQueryDataSourceWizard);b.MultiQueryDataSourceWizard=k,a.Analytics.Internal._defineProperty(a.Designer.Report.Wizard,a.Analytics.Wizard,"MultiQueryDataSourceWizard");var l=function(a){function b(){a.apply(this,arguments)}return __extends(b,a),b}(a.Analytics.Wizard.MultiQueryDataSourceWizardModel);b.MultiQueryDataSourceWizardModel=l,a.Analytics.Internal._defineProperty(a.Designer.Report.Wizard,a.Analytics.Wizard,"MultiQueryDataSourceWizardModel");var m=function(a){function b(){a.apply(this,arguments)}return __extends(b,a),b}(a.Analytics.Wizard.ConfigureParametersPage);b.ConfigureParametersPage=m,a.Analytics.Internal._defineProperty(a.Designer.Report.Wizard,a.Analytics.Wizard,"ConfigureParametersPage");var n=function(a){function b(){a.apply(this,arguments)}return __extends(b,a),b}(a.Analytics.Wizard.CreateQueryPage);b.CreateQueryPage=n,a.Analytics.Internal._defineProperty(a.Designer.Report.Wizard,a.Analytics.Wizard,"CreateQueryPage");var o=function(a){function b(){a.apply(this,arguments)}return __extends(b,a),b}(a.Analytics.Wizard.SqlDataSourceWizardModel);b.SqlDataSourceWizardModel=o,a.Analytics.Internal._defineProperty(a.Designer.Report.Wizard,a.Analytics.Wizard,"SqlDataSourceWizardModel");var p=function(a){function b(){a.apply(this,arguments)}return __extends(b,a),b}(a.Analytics.Wizard.SelectConnectionString);b.SelectConnectionString=p,a.Analytics.Internal._defineProperty(a.Designer.Report.Wizard,a.Analytics.Wizard,"SelectConnectionString");var q=function(a){function b(){a.apply(this,arguments)}return __extends(b,a),b}(a.Analytics.Wizard.SqlDataSourceWizard);b.SqlDataSourceWizard=q,a.Analytics.Internal._defineProperty(a.Designer.Report.Wizard,a.Analytics.Wizard,"SqlDataSourceWizard");var r=function(a){function b(){a.apply(this,arguments)}return __extends(b,a),b}(a.Analytics.Wizard.Utils.ParametersTreeListItem);b.ParametersTreeListItem=r,a.Analytics.Internal._defineProperty(a.Designer.Report.Wizard,a.Analytics.Wizard.Utils,"ParametersTreeListItem");var s=function(a){function b(){a.apply(this,arguments)}return __extends(b,a),b}(a.Analytics.Wizard.Utils.ParametersTreeListRootItem);b.ParametersTreeListRootItem=s,a.Analytics.Internal._defineProperty(a.Designer.Report.Wizard,a.Analytics.Wizard.Utils,"ParametersTreeListRootItem");var t=function(a){function b(){a.apply(this,arguments)}return __extends(b,a),b}(a.Analytics.Wizard.Utils.ParametersTreeListController);b.ParametersTreeListController=t,a.Analytics.Internal._defineProperty(a.Designer.Report.Wizard,a.Analytics.Wizard.Utils,"ParametersTreeListController");var u=function(a){function b(){a.apply(this,arguments)}return __extends(b,a),b}(a.Analytics.Wizard.Utils.DBSchemaItemsProvider);b.DBSchemaItemsProvider=u,a.Analytics.Internal._defineProperty(a.Designer.Report.Wizard,a.Analytics.Wizard.Utils,"DBSchemaItemsProvider");var v=function(a){function b(){a.apply(this,arguments)}return __extends(b,a),b}(a.Analytics.Wizard.Utils.DBSchemaTreeListController);b.DBSchemaTreeListController=v,a.Analytics.Internal._defineProperty(a.Designer.Report.Wizard,a.Analytics.Wizard.Utils,"DBSchemaTreeListController");var w=function(a){function b(){a.apply(this,arguments)}return __extends(b,a),b}(a.Analytics.Wizard.Utils.QueryBuilderPopup);b.QueryBuilderPopup=w,a.Analytics.Internal._defineProperty(a.Designer.Report.Wizard,a.Analytics.Wizard.Utils,"QueryBuilderPopup");var x=function(a){function b(){a.apply(this,arguments)}return __extends(b,a),b}(a.Analytics.Wizard.Utils.SelectQuerySqlTextProvider);b.SelectQuerySqlTextProvider=x,a.Analytics.Internal._defineProperty(a.Designer.Report.Wizard,a.Analytics.Wizard.Utils,"SelectQuerySqlTextProvider");var y=function(a){function b(){a.apply(this,arguments)}return __extends(b,a),b}(a.Analytics.Wizard.Utils.SelectStatementQueryControl);b.SelectStatementQueryControl=y,a.Analytics.Internal._defineProperty(a.Designer.Report.Wizard,a.Analytics.Wizard.Utils,"SelectStatementQueryControl");var z=function(a){function b(){a.apply(this,arguments)}return __extends(b,a),b}(a.Analytics.Wizard.Utils.StoredProceduresQueryControl);b.StoredProceduresQueryControl=z,a.Analytics.Internal._defineProperty(a.Designer.Report.Wizard,a.Analytics.Wizard.Utils,"StoredProceduresQueryControl");var A=function(a){function b(){a.apply(this,arguments)}return __extends(b,a),b}(a.Analytics.Wizard.Utils.TreeNodeBase);b.TreeNodeBase=A,a.Analytics.Internal._defineProperty(a.Designer.Report.Wizard,a.Analytics.Wizard.Utils,"TreeNodeBase");var B=function(a){function b(){a.apply(this,arguments)}return __extends(b,a),b}(a.Analytics.Wizard.Utils.TreeLeafNode);b.TreeLeafNode=B,a.Analytics.Internal._defineProperty(a.Designer.Report.Wizard,a.Analytics.Wizard.Utils,"TreeLeafNode");var C=function(a){function b(){a.apply(this,arguments)}return __extends(b,a),b}(a.Analytics.Wizard.Utils.TreeNode);b.TreeNode=C,a.Analytics.Internal._defineProperty(a.Designer.Report.Wizard,a.Analytics.Wizard.Utils,"TreeNode");var D=function(a){function b(){a.apply(this,arguments)}return __extends(b,a),b}(a.Analytics.Wizard.Utils.ParameterTreeNode);b.ParameterTreeNode=D,a.Analytics.Internal._defineProperty(a.Designer.Report.Wizard,a.Analytics.Wizard.Utils,"ParameterTreeNode");var E=function(a){function b(){a.apply(this,arguments)}return __extends(b,a),b}(a.Analytics.Wizard.Utils.QueriesTreeNode);b.QueriesTreeNode=E,a.Analytics.Internal._defineProperty(a.Designer.Report.Wizard,a.Analytics.Wizard.Utils,"QueriesTreeNode");var F=function(a){function b(){a.apply(this,arguments)}return __extends(b,a),b}(a.Analytics.Wizard.Utils.TreeQueryNode);b.TreeQueryNode=F,a.Analytics.Internal._defineProperty(a.Designer.Report.Wizard,a.Analytics.Wizard.Utils,"TreeQueryNode")}(b.Wizard||(b.Wizard={}))}(b.Report||(b.Report={}))}(a.Designer||(a.Designer={}))}(DevExpress||(DevExpress={}));var DevExpress;!function(a){!function(b){!function(b){b.expressionFunctions=function(b){return a.Analytics.Widgets.Internal.insertInFunctionDisplay(b)}({String:{CreateTable:[{paramCount:1,text:"CreateTable(, )",displayName:"CreateTable(Column1, ..., ColumnN)",descriptionStringId:"ExpressionEditorStringId.Function_CreateTable"}]}})}(b.Widgets||(b.Widgets={}))}(a.QueryBuilder||(a.QueryBuilder={}))}(DevExpress||(DevExpress={}));var DevExpress;!function(a){!function(b){!function(c){var d=function(d){function e(e){var f=this;d.call(this),this.handlers.changeParameter=function(b,c){return{data:new a.Analytics.Widgets.Internal.FilterEditorAddOn(b,c,"changeParameter","items","dxqb-filtereditor-parameterspopup"),templateName:"dxqb-filtereditor-changeparameter"}},this.mapper.Parameter=c.OperandParameterQBSurface,this.mapper.Property=c.OperandPropertyQBSurface,e===b.Elements.ParametersMode.ReadWrite&&(this.canCreateParameters=!0,this.newParameters=ko.observableArray([]),this.onEditorFocusOut=function(b){if(b){var c=f.newParameters(),d=[];if(a.Analytics.Criteria.Utils.criteriaForEach(b,function(b){if(b instanceof a.Analytics.Criteria.OperandParameter){var e=c.filter(function(a){return a.name()===b.parameterName})[0];e&&d.push(e)}}),0===d.length)return void f.newParameters.splice(0);for(var e=c.filter(function(a){return-1===d.indexOf(a)}),g=0;g<e.length;g++){var h=c.indexOf(e[g]);-1!==h&&c.splice(h,1)}f.newParameters.valueHasMutated()}},this.onClosing=function(){f.newParameters([])}),this.canSelectLists=!1,this.getDisplayPropertyName=function(){return $.Deferred().resolve("").promise()}}return __extends(e,d),e}(a.Analytics.Widgets.FilterEditorHelper);c.QBFilterEditorHelper=d}(b.Widgets||(b.Widgets={}))}(a.QueryBuilder||(a.QueryBuilder={}))}(DevExpress||(DevExpress={}));var DevExpress;!function(a){!function(b){!function(c){var d=function(d){function e(a,b,c,e){d.call(this,a,b,c,e)}return __extends(e,d),e.prototype.initializeFilterStringHelper=function(d,e,f){var g=this,h=new c.QBFilterEditorHelper(e);if(h.canChoiceParameters=e!==b.Elements.ParametersMode.Disabled,f&&(h.serializer=f),e===b.Elements.ParametersMode.ReadWrite)h.parameters=ko.computed(function(){return[].concat(d(),h.newParameters())}),h.onSave=function(a){var b=h.newParameters();d.push.apply(d,b),h.newParameters([])};else{e===b.Elements.ParametersMode.Read&&(h.parameters=d);var i=h.criteriaTreeValidator._checkRightPart;h.criteriaTreeValidator._checkRightPart=function(c){if(!(c instanceof a.Analytics.Criteria.OperandParameter))return i.apply(g,[c]);if(e===b.Elements.ParametersMode.Disabled)return!1;if(e===b.Elements.ParametersMode.Read){var f=c.parameterName;return 0!==d.peek().filter(function(a){return a.name()===f}).length}}}this.helper=h},e}(a.Analytics.Widgets.FilterStringOptions);c.QBFilterStringOptions=d}(b.Widgets||(b.Widgets={}))}(a.QueryBuilder||(a.QueryBuilder={}))}(DevExpress||(DevExpress={}));var DevExpress;if(function(a){!function(b){!function(b){a.Analytics.Widgets.Internal.SvgTemplatesEngine.addTemplates({"dxdd-connection-line":'<svg class="dxdd-connection-line" style="width:100%; height: 100%">        <line class="dxd-qb-relationship-line-color" data-bind="attr: { x1: startPoint().relativeX, y1: startPoint().relativeY, x2: endPoint().relativeX, y2: endPoint().relativeY }" />    </svg>',"dxdd-connecting-point":'<div class="dxdd-connecting-point" data-bind="styleunit: position, trackCursor: underCursor, style: { \'marginLeft\': -3 * _context.zoom() + \'px\', \'marginTop\': -3 * _context.zoom() + \'px\' }, draggable: $root.connectingPointDragHandler">        <svg style="width:100%; height: 100%">            <line x1="0" y1="0" x2="100%" y2="100%" />            <line x1=0 y1="100%" x2="100%" y2="0" />        </svg>    </div>',"dxdd-connection-point-selection":'<div class="dxrd-control" data-bind="draggable: $root.connectionPointDragHandler, styleunit: { top: relativeY, left: relativeX }">    </div>',"dxdd-connector":'<div class="dxdd-connector" data-bind="styleunit: position, trackCursor: underCursor">        \x3c!-- ko template: { name: \'dxdd-connection-line\' } --\x3e        \x3c!-- /ko --\x3e    </div>',"dxdd-connector-selection":"<div class=\"dxdd-connector\" data-bind=\"styleunit: position, dxAction: function() {}, draggable: $root.dragHandler\">        \x3c!-- ko template: { name: 'dxdd-connection-line' } --\x3e        \x3c!-- /ko --\x3e        \x3c!-- ko with: startPoint --\x3e        \x3c!-- ko template: { name: 'dxdd-connection-point-selection' } --\x3e        \x3c!-- /ko --\x3e        \x3c!-- /ko --\x3e        \x3c!-- ko with: endPoint --\x3e        \x3c!-- ko template: { name: 'dxdd-connection-point-selection' } --\x3e        \x3c!-- /ko --\x3e        \x3c!-- /ko --\x3e    </div>","dxdd-routed-connection-line":'<svg class="dxdd-connection-line">        \x3c!-- ko if: showArrow --\x3e        <defs>            <marker data-bind="attr: { id: \'dxqb-arrow_\' + connectorID() }" viewBox="0 0 5 10" refX="5" refY="5"                    markerUnits="userSpaceOnUse" orient="auto"                    markerWidth="14" markerHeight="14">                <polyline class="dxd-qb-relationship-line-color" points="0,0 5,5 0,10" />            </marker>        </defs>        \x3c!-- /ko --\x3e        <polyline class="dxd-qb-relationship-line-color" fill="none" data-bind="attr: { points: routePointsSet, \'marker-end\': showArrow() ? \'url(#dxqb-arrow_\' + connectorID() + \')\' : \'\' }, updateConnectorArrow: $data" />    </svg>',"dxdd-routed-connector":'<div class="dxdd-connector" data-bind="styleunit: position, visible: isVisible">        \x3c!-- ko template: { name: \'dxdd-routed-connection-line\' } --\x3e        \x3c!-- /ko --\x3e        \x3c!-- ko foreach: routeLineWrappers --\x3e        <div data-bind="styleunit: position" style="position: absolute;">            \x3c!-- ko with: $parent --\x3e            <div class="dxd-selectable" data-bind="trackCursor: underCursor, click: $root.selectItemProperties" style="position: relative; width: 100%; height: 100%;"></div>            \x3c!-- /ko --\x3e        </div>        \x3c!-- /ko --\x3e    </div>',"dxdd-routed-connector-selection":'<div class="dxdd-connector dxrd-selected dxd-state-selected" data-bind="styleunit: position, dxAction: function() {}, visible: isVisible">        \x3c!-- ko template: { name: \'dxdd-routed-connection-line\' } --\x3e        \x3c!-- /ko --\x3e        \x3c!-- ko foreach: routeLineWrappers --\x3e        \x3c!-- ko ifnot: isLocked --\x3e        <div data-bind="styleunit: position, style: { cursor: isVerticalLine ? \'ew-resize\' : \'ns-resize\' }, routeLineDraggable: { starting: $root.resizeHandler.starting, stopped: function() { resizeStopped(); $root.resizeHandler.stopped(); }, forceResize: resizeHandler }" style="position: absolute;">        </div>        \x3c!-- /ko --\x3e        \x3c!-- ko if: isLocked --\x3e        <div data-bind="styleunit: position" style="position: absolute;">        </div>        \x3c!-- /ko --\x3e        \x3c!-- /ko --\x3e        \x3c!-- ko with: startPoint --\x3e        \x3c!-- ko template: { name: \'dxdd-connection-point-selection\' } --\x3e        \x3c!-- /ko --\x3e        \x3c!-- /ko --\x3e        \x3c!-- ko with: endPoint --\x3e        \x3c!-- ko template: { name: \'dxdd-connection-point-selection\' } --\x3e        \x3c!-- /ko --\x3e        \x3c!-- /ko --\x3e    </div>',"dx-diagram-element":'<div class="dxrd-control dxd-selectable" data-bind="styleunit: position, trackCursor: underCursor">        <div class="dxrd-control-content-main" data-bind="styleunit: { lineHeight: positionLineHeightWithoutMargins }, style: css">            <div data-bind="template: contenttemplate, styleunit: { \'height\': positionLineHeightWithoutMargins, \'width\': positionWidthWithoutMargins }">            </div>        </div>    </div>',"dx-diagram-element-selection":'<div class="dxrd-control" data-bind="event: { dblclick: $root.inlineTextEdit.show }, css: {\'dxrd-selected\': selected, \'dxrd-focused\': focused }, resizable: $root.resizeHandler, draggable: $root.dragHandler, styleunit: position, trackCursor: underCursor">        \x3c!-- ko if: !$root.inlineTextEdit.visible() --\x3e        <div class="dxrd-control-content-main" data-bind="styleunit: { lineHeight: positionLineHeightWithoutMargins }, style: css">            <div data-bind="template: contenttemplate, styleunit: { \'height\': positionLineHeightWithoutMargins, \'width\': positionWidthWithoutMargins}">            </div>        </div>        \x3c!-- /ko --\x3e        \x3c!-- ko if: $root.inlineTextEdit.visible --\x3e        \x3c!-- ko with: $root.inlineTextEdit --\x3e        <div class="inline-text-edit" data-bind="dxTextArea: { value: text, onKeyUp: keypressAction, valueChangeEvent: \'keyup\' }"></div>        \x3c!-- /ko --\x3e        \x3c!-- /ko --\x3e    </div>',"dx-diagram-element-content":'<div style="width: 100%; height: 100%; border: 1px solid black">        <div data-bind="text: getControlModel().text"></div>    </div>',"dxdd-element-content-with-connecting-points":'<div style="width: 100%; height: 100%; overflow: hidden">        <svg style="top:0; left: 0; width: 100%; height: 100%; stroke: black; fill: transparent; stroke-width: 1">            \x3c!-- ko if: getControlModel().type() === \'Ellipse\' --\x3e            <ellipse cx="50%" cy="50%" rx="50%" ry="50%" />            \x3c!-- /ko --\x3e            \x3c!-- ko if: getControlModel().type() === \'Condition\' --\x3e            <line x1="50%" y1="0" x2="100%" y2="50%" />            <line x1="100%" y1="50%" x2="50%" y2="100%" />            <line x1="50%" y1="100%" x2="0" y2="50%" />            <line x1="0" y1="50%" x2="50%" y2="0" />            \x3c!-- /ko --\x3e            \x3c!-- ko if: !getControlModel().type() --\x3e            <rect height="100%" width="100%" />            \x3c!-- /ko --\x3e            <text x="50%" y="50%" alignment-baseline="middle" style="text-anchor: middle; cursor:default;" data-bind="text: getControlModel().text"></text>        </svg>        \x3c!-- ko foreach: connectingPoints --\x3e        \x3c!-- ko template: \'dxdd-connecting-point\' --\x3e        \x3c!-- /ko --\x3e        \x3c!-- /ko --\x3e    </div>',"dx-diagram-surface":'<div class="dxrd-surface" style="height: 100%; display:inline-block;" data-bind="styleunit: { \'width\': Math.min(pageWidth(), $root.surfaceSize()) }, click: function(_, e) { $root.selection.clickHandler(null, e); e.stopPropagation(); }, keyDownActions: $root.actionLists">        <div class="dxrd-viewport" style="overflow:auto;width:inherit;height:inherit;" data-bind="styleunit: { minWidth: Math.min(pageWidth(), $root.surfaceSize()), maxWidth: pageWidth(),  maxHeight: pageHeight() + 20 }">            <div data-bind="selectable: { selection: $root.selection, zoom: zoom }">                <div class="dxrd-ghost-containment">                    <div class="dxrd-ghost-container" style="background: white;position: relative;" data-bind="styleunit: { \'width\': pageWidth(), \'height\': pageHeight() }, trackCursor: underCursor">                        \x3c!-- ko foreach: controls --\x3e                        \x3c!-- ko template: { name: isSelected() ? selectiontemplate : template } --\x3e                        \x3c!-- /ko --\x3e                        \x3c!-- /ko --\x3e                        <div class="dxrd-drag-helper-source" data-bind="styleunit: { top: $root.dragHelperContent.top, left: $root.dragHelperContent.left, width: $root.dragHelperContent.width, height: $root.dragHelperContent.height }" style="display:none">                            \x3c!-- ko foreach: $root.dragHelperContent.controls --\x3e                            <div class="dxrd-drag-helper-item" data-bind="styleunit: $data"></div>                            \x3c!-- /ko --\x3e                        </div>                    </div>                </div>            </div>        </div>    </div>',"dxqb-joincondition":'<div class="dxdd-connector" data-bind="styleunit: position, trackCursor: underCursor">        <svg style="width:100%; height: 100%">            <line data-bind="attr: { x1: startPoint.x, y1: startPoint.y, x2: endPoint.x, y2: endPoint.y }" />        </svg>    </div>',"dx-query-surface":'<div class="dxrd-surface" style="display:inline-block;" data-bind="styleunit: { \'width\': $root.surfaceSize }, click: function(_, e) { $root.selection.clickHandler(null, e); e.stopPropagation(); }, keyDownActions: $root.actionLists">        <div class="dxrd-viewport" style="width:inherit;height:inherit;">            <div data-bind="dxScrollView: { direction: \'both\', showScrollbar: \'onHover\', scrollByContent: false, scrollByThumb: true, bounceEnabled: false, useNative: false, height: \'100%\' }">                <div style="height:100%;">                    <div class="dxrd-ghost-containment" style="height:100%;">                        <div class="dxrd-ghost-container dxqb-ghost-container" data-bind="styleunit: { \'minWidth\': pageWidth, \'minHeight\': pageHeight }, trackCursor: underCursor">                            <div class="dxqb-main" data-bind="trackCursor: underCursor, style: { \'z-index\' : $parent.dragDropStarted() ? 2 : null }">                                \x3c!-- ko if: tables().length === 0--\x3e                                <div class="dxqb-placeholder dxd-empty-area-placeholder-text-color dxd-text-info" data-bind="text: placeholder()"></div>                                \x3c!-- /ko --\x3e                                \x3c!-- ko foreach: relations --\x3e                                \x3c!-- ko foreach: conditions --\x3e                                \x3c!-- ko if: !isSelected()--\x3e                                \x3c!-- ko template: template --\x3e                                \x3c!-- /ko --\x3e                                \x3c!-- /ko --\x3e                                \x3c!-- /ko --\x3e                                \x3c!-- /ko --\x3e                                \x3c!-- ko foreach: tables --\x3e                                \x3c!-- ko template: template --\x3e                                \x3c!-- /ko --\x3e                                \x3c!-- /ko --\x3e                                \x3c!-- ko foreach: relations --\x3e                                \x3c!-- ko foreach: conditions --\x3e                                \x3c!-- ko if: isSelected()--\x3e                                \x3c!-- ko template: selectiontemplate --\x3e                                \x3c!-- /ko --\x3e                                \x3c!-- /ko --\x3e                                \x3c!-- /ko --\x3e                                \x3c!-- /ko --\x3e                                \x3c!-- ko with: $root.columnDragHandler.dragDropConnector --\x3e                                <svg class="dxdd-connection-line-draggable" data-bind="styleunit: { top: position.top(), left: position.left() }">                                    \x3c!-- ko foreach: routePoints --\x3e                                    \x3c!-- ko if: $index() < ($parent.routePoints().length - 1) --\x3e                                    <line class="dxd-qb-relationship-line-color" fill="none" data-bind="attr: {x1 : $data.x, y1: $data.y, x2: $parent.routePoints()[$index()+1].x, y2: $parent.routePoints()[$index()+1].y }"></line>                                    \x3c!-- /ko --\x3e                                    \x3c!-- /ko --\x3e                                </svg>                                \x3c!-- /ko --\x3e                                <div class="dxrd-drag-helper-source" data-bind="styleunit: { top: $root.dragHelperContent.top, left: $root.dragHelperContent.left, width: $root.dragHelperContent.width, height: $root.dragHelperContent.height }" style="display:none">                                    \x3c!-- ko foreach: $root.dragHelperContent.controls --\x3e                                    <div class="dxrd-drag-helper-item" data-bind="styleunit: { left: $data.left, top: $data.top, width: $data.width, height: $data.height  }"></div>                                    \x3c!-- /ko --\x3e                                </div>                            </div>                        </div>                    </div>                </div>            </div>        </div>    </div>',"dxqb-relation":"\x3c!-- ko foreach: conditions --\x3e    \x3c!-- ko template: { name: isSelected() ? selectiontemplate : template } --\x3e    \x3c!-- /ko --\x3e    \x3c!-- /ko --\x3e","dxqb-table-field":'<div class="dx-border-inheritor dxd-border-accented">        <div class="dxqb-table-field dxd-qb-table-field-border-color dxd-qb-table-field-back-color dxd-back-highlighted dxd-qb-table-field-separator-color dxd-border-primary" data-bind="trackCursor: underCursor, draggable: $root.columnDragHandler, css: cssClasses($root.surface(), $root.columnDragHandler, $parent), click: $root.selectItemProperties">            <div class="dxqb-table-field-background dxd-back-accented"></div>            <div class="dxqb-table-field-checkbox-wrapper">                <div class="dxqb-table-field-checkbox" data-bind="dxCheckBox: { value: selectedWrapper }, click: function(surface, e) { surface.toggleSelected(); e.stopPropagation(); return true;  }"></div>            </div>            <div class="dxqb-table-field-content dxd-text-primary" data-bind="attr: { title: getControlModel().actualName }">                <div class="dxqb-table-field-state">                    \x3c!-- ko if:  $data.isAscending() --\x3e                    <div class="dxqb-image-field-state dxqb-image-field-sorting-asc">\x3c!-- ko template: \'dxrd-svg-queryBuilder-sorting_asc\' --\x3e\x3c!-- /ko --\x3e</div>                    \x3c!-- /ko --\x3e                    \x3c!-- ko if:  $data.isDescending() --\x3e                    <div class="dxqb-image-field-state dxqb-image-field-sorting-desc">\x3c!-- ko template: \'dxrd-svg-queryBuilder-sorting_desc\' --\x3e\x3c!-- /ko --\x3e</div>                    \x3c!-- /ko --\x3e                    \x3c!-- ko if: $data.getControlModel().groupBy --\x3e                    <div class="dxqb-image-field-state dxqb-image-field-group-by">\x3c!-- ko template: \'dxrd-svg-queryBuilder-group_by\' --\x3e\x3c!-- /ko --\x3e</div>                    \x3c!-- /ko --\x3e                    \x3c!-- ko if: $data.isAggregate() --\x3e                    <div class="dxqb-image-field-state dxqb-image-field-aggregate">\x3c!-- ko template: \'dxrd-svg-queryBuilder-aggregate\' --\x3e\x3c!-- /ko --\x3e</div>                    \x3c!-- /ko --\x3e                </div>                <div class="dxqb-table-field-caption">                    <div class="dxqb-table-field-text dxd-qb-table-field-text-color" data-bind="text: getControlModel().actualName"></div>                </div>            </div>        </div>    </div>',"dxqb-table-asterisk-field":'<div class="dx-border-inheritor dxd-border-accented">        <div class="dxqb-table-field dxd-qb-table-field-border-color dxd-qb-table-field-back-color dxd-back-highlighted dxd-border-primary" data-bind="trackCursor: underCursor, css: cssClasses(), click: $root.selectItemProperties">            <div class="dxqb-table-field-background dxd-back-accented"></div>            <div class="dxqb-table-field-checkbox-wrapper">                <div class="dxqb-table-field-checkbox" data-bind="dxCheckBox: { value: selectedWrapper }, click: function(surface, e) { surface.toggleSelected(); e.stopPropagation(); return true;  }"></div>            </div>            <div class="dxqb-table-field-content dxd-text-primary" data-bind="attr: { title: getControlModel().name }">                <div class="dxqb-table-field-caption">                    <div class="dxqb-table-field-text dxd-qb-table-field-text-color" data-bind="text: getControlModel().name"></div>                </div>            </div>        </div>    </div>',"dxqb-table-main":'\x3c!-- ko if: $data.isSelected() --\x3e    <div class="dxqb-table-resize-ghost" data-bind="resizable: resizable($root.resizeHandler, $element), styleunit: position"></div>    \x3c!-- /ko --\x3e    <div class="dxrd-control" data-bind="css: {\'dxrd-selected\': selected, \'dxrd-focused\': focused }, draggable: $root.dragHandler, styleunit: position, trackCursor: underCursor, click: $root.selectItemProperties">        <div class="dxrd-control-content-main dxd-qb-table-back-color dxd-back-primary2" data-bind="styleunit: { lineHeight: position.lineHeight }, style: css">            <div class="dxqb-table-background dxd-back-accented"></div>            <div class="dx-background-inheritor dxd-back-accented">                <div class="dxqb-table-border dxd-qb-table-border-color dxd-back-highlighted dxd-state-active dxd-state-no-hover"></div>            </div>            <div data-bind="template: contenttemplate, styleunit: { \'height\': position.lineHeight, \'width\': position.width }">            </div>        </div>    </div>',"dxqb-table":'<div class="dxqb-table dxd-qb-table-back-color dxd-back-primary2">        <div class="dx-border-inheritor dxd-border-accented">            <div class="dxqb-table-head-field dxd-qb-table-field-border-color dxd-qb-table-field-back-color dxd-back-highlighted dxd-border-primary">                <div class="dxqb-table-checkbox-all">                    <div data-bind="dxCheckBox: { value: selectedWrapper }, click: function(surface, e) {                    $root.undoEngine().start();                    surface.toggleSelected();                    $root.undoEngine().end();                    e.stopPropagation(); return true;                }"></div>                </div>                <div class="dxqb-table-title dxd-text-primary" data-bind="text: getControlModel().actualName, style: { cursor: selected() ? \'move\' : \'default\' }"></div>            </div>        </div>        <div class="dxqb-table-content">            <div class="dxqb-tableFields-wrapper">                \x3c!-- ko ifnot: $data.isInitialized() --\x3e                <div class="dxqb-table-loading">                    <div class="dxqb-table-loading-text dxd-text-primary" data-bind="text: $root.columnsLoadingMsg()"></div>                </div>                \x3c!-- /ko --\x3e                \x3c!-- ko if: $data.isInitialized() --\x3e                \x3c!-- ko template: { name: asterisk.template, data: asterisk } --\x3e                \x3c!-- /ko --\x3e                \x3c!-- ko foreach: columns --\x3e                \x3c!-- ko lazy: { template: $data.template  }--\x3e                \x3c!-- /ko --\x3e                \x3c!-- /ko --\x3e                \x3c!-- /ko --\x3e            </div>        </div>    </div>',"dxrd-masterDetail-editor":"\x3c!-- ko if: $data --\x3e    <div>        <div class=\"dx-filtereditor\" data-bind=\"dxPopup: { showTitle: true, width: '95%', height: '95%', title: title(), visible: popupVisible,                 toolbarItems: buttonItems, showCloseButton: true, container: $root.getPopupContainer($element), position: { of: $root.getPopupContainer($element) },             }\">            <div class=\"dx-filtereditor-tree dxd-border-secondary\" data-bind=\"dxScrollView: { showScrollbar: 'onHover', direction: 'both' }\" style=\"cursor: default\">                \x3c!-- ko foreach: masterQueries --\x3e                <div class=\"criteria-operator-group\">                    <div class=\"criteria-operator-group-item\">                        <div class=\"criteria-operator-text dxd-filter-editor-text-color criteria-operator-item-group dxd-filter-editor-group-back-color stylized\" data-bind=\"text: queryName\"></div>                        <div data-bind=\"service: { name: 'createRelation' }\"></div>                    </div>                    <div class=\"criteria-operator-content\">                        \x3c!-- ko template: { name: 'dx-masterDetail-editor-relation', foreach: relations }--\x3e                        \x3c!-- /ko --\x3e                    </div>                </div>                \x3c!-- /ko --\x3e            </div>        </div>        <div class=\"dx-selectbox-popup-wrapper dx-dropdownlist-popup-wrapper dx-filtereditor-criteriaoperator-popup dx-dropdowneditor-overlay\" data-bind=\"dxPopupWithAutoHeight: { width: '170px', height: '300px', focusStateEnabled: false,        position: $root.rtl ? { my: 'right top', at: 'right bottom', of: popupService.target } : { my: 'left top', at: 'left bottom', of: popupService.target },        container: '.dx-designer-viewport',        target: popupService.target,        showTitle: false,        showCloseButton: false,        animation: {},        closeOnOutsideClick: true,        shading: false,        visible: popupService.visible }\">            \x3c!-- ko with: popupService--\x3e            \x3c!-- ko with: data --\x3e            \x3c!-- ko template: template--\x3e            \x3c!-- /ko --\x3e            \x3c!-- /ko --\x3e            \x3c!-- /ko --\x3e        </div>    </div>    \x3c!-- /ko --\x3e","dx-masterDetail-editor-keyColumn":'<div class="criteria-operator-text dxd-filter-editor-text-color criteria-operator-item-field dxd-filter-editor-field-back-color stylized" data-bind="text: queryName"></div>    <div class="criteria-operator-text dxd-filter-editor-text-color">.</div>    <div class="criteria-operator-text dxd-filter-editor-text-color">        <div data-bind="service: { name: \'setColumn\' }"></div>    </div>',"dx-masterDetail-editor-relation":'<div class="criteria-operator-group">        <div class="criteria-operator-group-item">            <div class="criteria-operator-action" data-bind="dxAction: function() {  $parent.remove($data); }">                <div class="criteria-operator-action-image dx-image-filtereditor-remove">\x3c!-- ko template: \'dxrd-svg-filtereditor-remove\' --\x3e\x3c!-- /ko --\x3e</div>            </div>            <div class="criteria-operator-item" data-bind="visible: isEditable">                <div class="criteria-operator-item-editor" data-bind="dxTextBox: { value: relationName, onFocusOut: function() { isEditable(false); } }, focus: { on: isEditable }"></div>            </div>            <div class="criteria-operator-text dxd-filter-editor-text-color criteria-operator-item-value dxd-filter-editor-value-back-color" data-bind="visible: !isEditable()">                <div class="criteria-operator-text dxd-filter-editor-text-color clickable" data-bind="text: relationName, click: function() { isEditable(true); }"></div>            </div>            <div class="criteria-operator-action" data-bind="dxAction: create">                <div class="criteria-operator-action-image dx-image-filtereditor-add">\x3c!-- ko template: \'dxrd-svg-filtereditor-add\' --\x3e\x3c!-- /ko --\x3e</div>            </div>        </div>        <div class="criteria-operator-content">            \x3c!-- ko foreach: keyColumns --\x3e            <div class="criteria-operator-group">                <div class="criteria-operator-group-item">                    <div class="criteria-operator-action" data-bind="dxAction: function() {  $parent.remove($data); }">                        <div class="criteria-operator-action-image dx-image-filtereditor-remove">\x3c!-- ko template: \'dxrd-svg-filtereditor-remove\' --\x3e\x3c!-- /ko --\x3e</div>                    </div>                    \x3c!-- ko template: { name: \'dx-masterDetail-editor-keyColumn\', data: master } --\x3e                    \x3c!-- /ko --\x3e                    <div class="criteria-operator-text dxd-filter-editor-text-color"> = </div>                    \x3c!-- ko template: { name: \'dx-masterDetail-editor-keyColumn\', data: detail } --\x3e                    \x3c!-- /ko --\x3e                </div>            </div>            \x3c!-- /ko --\x3e        </div>    </div>',"dx-masterdetail-editor-setColumn":"<div class=\"criteria-operator-text dxd-filter-editor-text-color clickable criteria-operator-item-field dxd-filter-editor-field-back-color\" data-bind=\"text: target.column() || target.selectColumnText(), dxAction: showPopup, css: { 'dxd-state-selected': target.isSelected, 'default': !target.column() }\"></div>","dxqb-data-preview":'<div style="height: 100%" data-bind="dxdTableView: $data.value"></div>',"dxqb-popup":'<div class="dxqb-preview" data-bind="dxPopup: {                animation: {                    show: { type: \'fade\', from: 0, to: 1, duration: 700 },                    hide: { type: \'fade\', from: 1, to: 0, duration: 700 }                },                visible: isVisible,                title: title(),                showTitle: true,                resizeEnabled: true,                shading: true,                shadingColor: \'transparent\',                fullScreen: false,                width: 800,                height: 544,                container: container($element),                position: { of: container($element) },                onHidden: function() { $data.data.value(null) },                focusStateEnabled: false            }">        <div class="dxqb-preview-popup-content">            \x3c!-- ko if: data && !isLoading() --\x3e            \x3c!-- ko template: { name: template, data: data } --\x3e            \x3c!-- /ko --\x3e            \x3c!-- /ko --\x3e            \x3c!-- ko if: isLoading --\x3e            <div style="text-align: center; padding-top: 25%;">                <div data-bind="dxLoadIndicator: { visible: true }"></div>            </div>            \x3c!-- /ko --\x3e        </div>        <div class="dxqb-preview-popup-buttons dxd-border-secondary">            <div class="dxqb-preview-popup-button" data-bind="dxButton: { text: okButtonText(), onClick: okButtonHandler, disabled: isLoading }"></div>        </div>    </div>',"dxqb-selectstatment-preview":'<div class="dxqb-show-query-string-content dx-widget">        \x3c!-- ko if: !aceAvailable --\x3e        <div class="dxrd-show-query-string-editor" data-bind="dxTextArea: { value: value, valueChangeEvent: \'keyup\', readOnly: true }"></div>        \x3c!-- /ko --\x3e        \x3c!-- ko if: aceAvailable --\x3e        <div class="dxrd-show-query-string-editor">            <div class="dxrd-show-query-string-editor-content">                <div class="dx-sql_editor dx-disabled-ace dxd-back-primary2" data-bind="dxAceEditor: { value: value, options: aceOptions, additionalOptions: additionalOptions }"></div>            </div>        </div>        \x3c!-- /ko --\x3e    </div>',"dxd-tableview":'<div class="dxd-tableview">        <div class="dxd-tableview-titles">            <table>                <tbody>                    <tr>                        \x3c!-- ko foreach: rtl ? data.schema.reverse() : data.schema --\x3e                        <td data-bind="attr: { class: \'dxd-tableview-title-cell dxd-border-secondary dxd-tableview-resizable\' }">                            <div class="dxd-tableview-cell-text dxd-qb-data-preview-cell-text-color dxd-text-info" data-bind="text: name"></div>                        </td>                        \x3c!-- /ko --\x3e                    </tr>                </tbody>            </table>        </div>        \x3c!-- ko if: data.values --\x3e        <div class="dxd-tableview-data" data-bind="dxScrollView: { direction: \'both\', scrollByContent: false, showScrollbar: \'always\', scrollByThumb: true, bounceEnabled: false, useNative: false }">            <table>                <tbody>                    \x3c!-- ko foreach: data.values --\x3e                    <tr>                        \x3c!-- ko foreach: $parent.rtl ? $data.reverse() : $data --\x3e                        <td class="dxd-tableview-cell dxd-border-secondary">                            \x3c!-- ko ifnot: $parents[1].isImage($index()) --\x3e                            <div data-bind="text: $data, attr: { class: \'dxd-tableview-cell-text dxd-text-primary dxd-tableview-resizable\' + $index() }"></div>                            \x3c!-- /ko --\x3e                            \x3c!-- ko if: $parents[1].isImage($index()) --\x3e                            \x3c!-- ko if: $parents[1].isImageTooLarge($data) --\x3e                            <div data-bind="text: $parents[1].getImageTooLargeText($data), attr: { class: \'dxd-tableview-cell-text dxd-text-primary dxd-tableview-resizable\' + $index() }"></div>                            \x3c!-- /ko --\x3e                            \x3c!-- ko ifnot: $parents[1].isImageTooLarge($data) --\x3e                            <div data-bind="attr: { class: \'dxd-tableview-cell-text dxd-text-primary dxd-tableview-resizable\' + $index() }">                                <img data-bind="attr: { src: \'data:image/bmp;base64,\' + $data }" />                            </div>                            \x3c!-- /ko --\x3e                            \x3c!-- /ko --\x3e                        </td>                        \x3c!-- /ko --\x3e                    </tr>                    \x3c!-- /ko --\x3e                    <tr class="dxd-tableview-data-fakerow">                        \x3c!-- ko foreach: data.values[0] --\x3e                        <td class="dxd-tableview-cell dxd-border-secondary">                            <div data-bind="attr: { class: \'dxd-tableview-cell-text dxd-text-primary dxd-tableview-resizable\' + $index() }"></div>                        </td>                        \x3c!-- /ko --\x3e                    </tr>                </tbody>            </table>        </div>        \x3c!-- /ko --\x3e        \x3c!-- ko ifnot: data.values --\x3e        <div class="dxd-tableview-empty-message" data-bind="text: noDataText()" />        \x3c!-- /ko --\x3e    </div>',"dxqb-fieldlist-wrapper":'<div id="tree" data-bind="treelist: treeListOptions" style="width:100%; height: 100%;"></div>',"dxqb-properties-wrapper":'<div class="dxrd-properties-wrapper" data-bind="visible: active() && visible()">        <div style="height:100%" class="dxd-text-primary">            \x3c!-- ko with: model --\x3e            <div class="dxrd-properties-grid dxd-border-primary" data-bind="dxScrollView: { showScrollbar: \'onHover\', useNative: false, scrollByThumb: true }" style="top: 0px;">                <div>                    \x3c!-- ko foreach: groups --\x3e                    <div class="dx-fieldset" data-bind="visible: visible">                        <div data-bind="dxdAccordion: { collapsed: collapsed }">                            <div class="dxrd-group-header dx-accordion-header" data-bind="css: { \'dxrd-group-header-collapsed dxd-border-primary\': collapsed() }">                                <div class="dx-collapsing-image" data-bind="template: \'dxrd-svg-collapsed\', css: { \'dx-image-expanded\': !collapsed() }" style="display:inline-block;"></div>                                <span class="dxrd-group-header-text" data-bind="text: displayName()"></span>                            </div>                            <div class="dx-accordion-content dxd-back-primary">                                \x3c!-- ko ifnot: editorsCreated --\x3e                                <div class="dx-accordion-content-loading-panel">                                    <div data-bind="dxLoadIndicator: { visible: !editorsCreated() }"></div>                                </div>                                \x3c!-- /ko --\x3e                                \x3c!-- ko if: $data.editorsRendered() --\x3e                                <div data-bind="visible: editorsCreated">                                    <div class="dx-editors">                                        \x3c!-- ko foreach: editors --\x3e                                        \x3c!-- ko template: editorTemplate --\x3e                                        \x3c!-- /ko --\x3e                                        \x3c!-- ko if: ($index() === $parent.editors().length - 1 && $parent.editorsCreated(true)) --\x3e                                        \x3c!-- /ko --\x3e                                        \x3c!-- /ko --\x3e                                    </div>                                </div>                                \x3c!-- /ko --\x3e                            </div>                        </div>                    </div>                    \x3c!-- /ko --\x3e                </div>            </div>            \x3c!-- /ko --\x3e        </div>    </div>',"dxqb-propertygrid":'\x3c!-- ko with: value --\x3e    <div class="dx-fieldset dxqb-selected-properties">        \x3c!-- ko foreach: properties.getEditors() --\x3e        \x3c!-- ko template: editorTemplate --\x3e        \x3c!-- /ko --\x3e        \x3c!-- /ko --\x3e    </div>    \x3c!-- /ko --\x3e',"dxqb-fieldspanel":'\x3c!-- ko with: value --\x3e    <div class="dxqb-right-panel-search-box" data-bind="dxTextBox: { value: searchName, valueChangeEvent: \'keyup\', placeholder: searchPlaceholder(), showClearButton: true  }"></div>    <div class="dxqb-right-panel-fields" data-bind="dxScrollView: { showScrollbar: \'onHover\', scrollByContent: false, scrollByThumb: true, bounceEnabled: false, useNative: false }">        \x3c!-- ko template: { name: "dxqb-fieldlist-wrapper", data: fieldListModel } --\x3e        \x3c!-- /ko --\x3e    </div>    \x3c!-- /ko --\x3e',"dxqb-parameterspanel":'\x3c!-- ko with: value --\x3e    <div class="dxqb-right-panel-parameters" data-bind="dxScrollView: { showScrollbar: \'onHover\', scrollByContent: false, scrollByThumb: true, bounceEnabled: false, useNative: false }">        <div style="width: 100%" data-bind="dxCollectionEditor: $data"></div>    </div>    \x3c!-- /ko --\x3e',"dxqb-collectioneditor-template":'<div class="dxrd-accordion-collection-item" data-bind="dxdAccordion: { collapsed: collapsed }">        <div class="dxrd-group-header dx-accordion-header">            <div>                <div class="propertygrid-editor-collapsed dx-collapsing-image" data-bind="css: { \'dx-image-expanded\': !collapsed() }, template: \'dxrd-svg-collapsed\'"></div>                <div class="dx-group-header-font" data-bind="text: $root.getLocalization($parent.name), attr: { title: $root.getLocalization($parent.name) }"></div>            </div>        </div>        <div class="dx-accordion-content">            <div data-bind="dxPropertyGrid: { target: value, level: 1, parentDisabled: editor.disabled }"></div>        </div>    </div>',"dxqb-toolbar":'<div class="dxrd-toolbar-wrapper dxd-toolbar-back-color" data-bind="click: $root.findControl">        <div class="dxqb-toolbar-background dxd-back-primary2"></div>        <div class="dxrd-toolbar" data-bind="template: {name: \'dxqb-toolbar-items\', data: actionLists.toolbarItems }"></div>    </div>',"dxqb-toolbar-items":'\x3c!-- ko foreach: $data --\x3e    \x3c!-- ko if: $data.templateName --\x3e    \x3c!-- ko template: templateName  --\x3e    \x3c!-- /ko --\x3e    \x3c!-- /ko --\x3e    \x3c!-- ko if: !$data.templateName --\x3e    <div class="dxrd-toolbar-item" data-bind="visible: visible">        <div class="dxqb-toolbar-item-container">            <div class="dxqb-toolbar-item-background dxd-back-secondary"></div>            <div data-bind="template: {name: ko.unwrap($data.imageTemplateName), if: !!ko.unwrap($data.imageTemplateName)}, attr: { class: \'dxrd-toolbar-item-image dxd-button-back-color dxd-state-normal dxd-back-highlighted \' + (ko.unwrap($data.imageClassName) || \'\'), title: $data.displayText && $data.displayText() || text }, dxAction: function() { if((typeof $data.disabled === \'function\') && !disabled() || !disabled) { clickAction($root.model && $root.model()); } }, css: {\'dxrd-disabled-button\': disabled, \'dxd-state-active\': $data.selected }"> </div>                    </div>        <div class="dxrd-toolbar-item-separator dxd-toolbar-separator-color dxd-border-secondary" data-bind="visible: $data.hasSeparator"></div>    </div>    \x3c!-- /ko --\x3e    \x3c!-- /ko --\x3e',"dxqb-property-editor":'<div class="dxrd-editor" data-bind="visible: visible">        <div class="dxrd-editor-header">            <div class="dx-field dxd-back-primary">                <div class="dx-field-label dxd-text-primary">                    <div class="propertygrid-editor-displayName" data-bind="text: displayName, attr: { \'title\': displayName }"></div>                </div>                <div class="dx-field-value">                    <div data-bind="service: { name: \'createEditorAddOn\' }"></div>                    \x3c!-- ko lazy: { template: templateName } --\x3e                    \x3c!-- /ko --\x3e                </div>            </div>        </div>    </div>',"dxqb-expressionstring":'\x3c!-- ko if: $data.value() --\x3e    <div data-bind="dxExpressionEditor: getOptions({ options: value, fieldListProvider: $root.parametersBindingsProvider, displayNameProvider: $root.displayNameProvider && $root.displayNameProvider() })"></div>    \x3c!-- /ko --\x3e',"dxqb-filtereditor-changeparameter":'<div class="criteria-operator-item" data-bind="visible: target.isEditable">        <div class="criteria-operator-item" data-bind="dxTextBox: { value: target._parameterName, onFocusOut: function() { target.createParameter(); target.isEditable(false); } }"></div>    </div>    <div class="criteria-operator-text dxd-filter-editor-text-color clickable " data-bind="text: target.parameterName, dxAction: showPopup, css: { \'dxd-state-selected\': target.isSelected, \'default\': target.isDefaultTextDisplayed() }, visible: $data.target.isEditable() === false"></div>',"dxqb-filtereditor-propertiespopup":'<div class="dx-widget" data-bind="dxScrollView: { showScrollbar: \'onHover\' }">        \x3c!-- ko foreach: data --\x3e        <div data-bind="dxdAccordion: { collapsed: collapsed }">            <div class="dx-accordion-header">                <div class="dx-filtereditor-popup-item dxd-list-item-back-color dx-item dx-list-item dxd-back-highlighted">                    <div class="dx-collapsing-image" data-bind="template: \'dxrd-svg-collapsed\', css: { \'dx-image-expanded\': !collapsed() }" style="display:inline-block;  margin-left: 5px;"></div>                    <span class="dx-item-content dx-list-item-content" style="padding-left: 17px" data-bind="text: name"></span>                </div>            </div>            <div class="dx-accordion-content dxd-back-primary">                \x3c!-- ko foreach: items --\x3e                <div class="dx-filtereditor-popup-item dx-item dx-list-item dxd-list-item-back-color dxd-back-highlighted">                    <span class="dx-item-content dx-list-item-content" style="padding-left: 17px" data-bind="text: name, attr: { \'title\': name }, click: function() { $parents[1].click($data); }"></span>                </div>                \x3c!--/ko --\x3e            </div>        </div>        \x3c!--/ko --\x3e    </div>',"dxqb-filtereditor-parameterspopup":'<div class="dx-widget" data-bind="dxScrollView: { showScrollbar: \'onHover\' }">        \x3c!-- ko if: $parent.viewModel.canCreateParameters --\x3e        <div class="dx-filtereditor-popup-item dx-item dx-list-item dxd-list-item-back-color dxd-back-highlighted">            <span class="dx-item-content dx-list-item-content" data-bind="text: $parent.viewModel.defaultDisplay(), click: function() { $parent.viewModel.isEditable(true); $parent.viewModel._parameterName(\'\'); $parent.visible(false); }"></span>        </div>        \x3c!-- /ko --\x3e        \x3c!-- ko foreach: data --\x3e        <div class="dx-filtereditor-popup-item dx-item dx-list-item dxd-list-item-back-color dxd-back-highlighted">            <span class="dx-item-content dx-list-item-content" data-bind="text: name, click: function() { $parent.click($data); } "></span>        </div>        \x3c!-- /ko --\x3e    </div>',"dxqb-treelist-item-with-search":'<div data-bind="visible: visible">        \x3c!-- ko template: "dxqb-treelist-header-item-with-search" --\x3e        \x3c!-- /ko --\x3e    </div>',"dxqb-treelist-header-item-with-search":'<div class="dx-treelist-item dxd-list-item-back-color dxd-back-highlighted" data-bind="event: { dblclick: function() { $data.dblClickHandler ? $data.dblClickHandler($data) : $data.toggleCollapsed() } }, styleunit: padding, css: { \'dx-treelist-item-selected dxd-state-selected\': isSelected() || isMultiSelected() }">        <div class="dx-treelist-collapsedbutton"></div>        <div class="dx-treelist-caption">            <div class="dx-treelist-selectedcontent" data-bind="click: toggleSelected,  draggable: isDraggable ? dragDropHandler : null">                <div class="dx-treelist-image" data-bind="css: $data.imageClassName, template: {name: $data.imageTemplateName, if: !!ko.unwrap($data.imageTemplateName)}, attr: { title: text }"> </div>                <div class="dx-treelist-text-wrapper">                    \x3c!-- ko if: treeListController && !!$data.treeListController.searchName --\x3e                    <div class="dx-treelist-text dxdr-highlighted-search-text" data-bind="searchHighlighting: { text: text, textToSearch: treeListController.searchName }, attr: { title: text }"></div>                    \x3c!-- /ko --\x3e                </div>            </div>        </div>    </div>',"dxrd-wizard-add-queries-page":'<div class="dxrd-wizard-page dxrd-wizard-add-queries-page">        <div class="dxrd-wizard-dataMember dxd-border-secondary" data-bind="dxScrollView: { showScrollbar: \'onHover\', height: scrollViewHeight }">            <div data-bind="treelist: fieldListModel" style="width:100%; height: 100%;"></div>        </div>        \x3c!-- ko ifnot: $data.disableCustomSql --\x3e        \x3c!-- ko template: { name: \'dxqb-popup-selectStatment\', data: popupSelectStatment } --\x3e        \x3c!-- /ko --\x3e        \x3c!-- /ko --\x3e        \x3c!-- ko template: { name: \'dxrd-querybuilder-popup\', data: popupQueryBuilder } --\x3e        \x3c!-- /ko --\x3e        <div class="dxrd-wizard-load-panel dxd-text-primary" data-bind="dxLoadPanel: loadPanelViewModel($element)">        </div>    </div>',"dxrd-configure-query-parameters-page":'<div class="dxrd-wizard-page dxrd-configure-query-parameters-page">        <div class="dxrd-wizard-dataMember dxd-border-secondary" data-bind="dxScrollView: { showScrollbar: \'onHover\', height: scrollViewHeight }">            <div data-bind="treelist: fieldListModel" style="width:100%; height: 100%;"></div>        </div>    </div>',"dxrd-wizard-configure-relations-page":"<div class=\"dxrd-wizard-page dxrd-wizard-configure-relations-page\">        \x3c!-- ko if: $data.relationsEditor() --\x3e        \x3c!-- ko template: { name: 'dxrd-masterDetail-editor-complete-wizard', data: $data.relationsEditor }--\x3e        \x3c!-- /ko --\x3e        \x3c!-- /ko --\x3e    </div>","dxrd-masterDetail-editor-complete-wizard":'<div class="dx-filtereditor dxrd-masterDetail-editor-complete-wizard dxd-border-secondary">        \x3c!-- ko if: $data --\x3e        <div class="dx-filtereditor-tree dxd-border-secondary" data-bind="dxScrollView: { showScrollbar: \'onHover\', direction: \'both\' }" style="cursor: default">            \x3c!-- ko foreach: masterQueries --\x3e            <div class="criteria-operator-group">                <div class="criteria-operator-group-item">                    <div class="criteria-operator-text dxd-filter-editor-text-color criteria-operator-item-group dxd-filter-editor-group-back-color stylized" data-bind="text: queryName"></div>                    <div data-bind="service: { name: \'createRelation\' }"></div>                </div>                <div class="criteria-operator-content">                    \x3c!-- ko template: { name: \'dx-masterDetail-editor-relation\', foreach: relations }--\x3e                    \x3c!-- /ko --\x3e                </div>            </div>            \x3c!-- /ko --\x3e        </div>        <div class="dx-selectbox-popup-wrapper dx-dropdownlist-popup-wrapper dx-filtereditor-criteriaoperator-popup dx-dropdowneditor-overlay" data-bind="dxPopupWithAutoHeight: { width: \'170px\', height: \'235px\', focusStateEnabled: false,        position: $root.rtl ? { my: \'right top\', at: \'right bottom\', of: popupService.target } : { my: \'left top\', at: \'left bottom\', of: popupService.target },        container: \'.dx-designer-viewport\',        target: popupService.target,        showTitle: false,        showCloseButton: false,        animation: {},        closeOnOutsideClick: true,        shading: false,        visible: popupService.visible }">            \x3c!-- ko with: popupService--\x3e            \x3c!-- ko with: data --\x3e            \x3c!-- ko template: template--\x3e            \x3c!-- /ko --\x3e            \x3c!-- /ko --\x3e            \x3c!-- /ko --\x3e        </div>        \x3c!-- /ko --\x3e    </div>',"dxqb-popup-selectStatment":'<div class="dxqb-preview" data-bind="dxPopup: {                animation: {                    show: { type: \'fade\', from: 0, to: 1, duration: 700 },                    hide: { type: \'fade\', from: 1, to: 0, duration: 700 }                },                visible: isVisible,                title: title(),                showTitle: true,                resizeEnabled: true,                shading: true,                shadingColor: \'transparent\',                fullScreen: false,                width: 800,                height: 544,                container: closest($element, \'.dxrd-wizard\'),                position: { of: closest($element, \'.dx-designer-viewport\') },                onHidden: function() { $data.data(null) },                focusStateEnabled: false            }">        <div class="dxqb-preview-popup-content">            <div class="dxqb-show-query-string-content dx-widget">                \x3c!-- ko if: !aceAvailable --\x3e                <div class="dxrd-show-query-string-editor" data-bind="dxTextArea: { value: data, valueChangeEvent: \'keyup\', disabled: false }"></div>                \x3c!-- /ko --\x3e                \x3c!-- ko if: aceAvailable --\x3e                <div class="dxrd-show-query-string-editor">                    <div class="dxrd-show-query-string-editor-content">                        <div class="dx-sql_editor dxd-back-primary2" data-bind="dxAceEditor: { value: data, additionalOptions: additionalOptions, options: aceOptions }"></div>                    </div>                </div>                \x3c!-- /ko --\x3e            </div>        </div>        <div class="dxqb-preview-popup-buttons dxd-border-secondary">            <div data-bind="dxButton: { text: okButtonText(), onClick: okButtonHandler }" class="dxqb-preview-popup-button"></div>        </div>    </div>',"dxrd-treelist-with-checkbox":'<div data-bind="visible: visible">        \x3c!-- ko if: hasContent --\x3e        \x3c!-- ko template: "dx-treelist-accordion-item-with-checkbox" --\x3e        \x3c!-- /ko --\x3e        \x3c!-- /ko --\x3e        \x3c!-- ko ifnot: hasContent --\x3e        \x3c!-- ko template: "dx-treelist-header-item-with-checkbox" --\x3e        \x3c!-- /ko --\x3e        \x3c!-- /ko --\x3e    </div>',"dx-treelist-accordion-item-with-checkbox":'<div data-bind="dxdAccordionExt: { collapsed: collapsed, lazyContentRendering: true }">        \x3c!-- ko template: "dx-treelist-header-item-with-checkbox" --\x3e        \x3c!-- /ko --\x3e        <div class="dx-fieldset dx-accordion-content dxd-back-primary">            \x3c!-- ko with: data --\x3e            \x3c!-- ko template: { name: contenttemplate } --\x3e            \x3c!-- /ko --\x3e            \x3c!-- /ko --\x3e        </div>    </div>',"dx-treelist-header-item-with-checkbox":'<div class="dx-background-inheritor dxd-back-highlighted dxd-state-selected">    <div class="dx-treelist-item dx-fontsize-reestablished dxd-list-item-back-color" data-bind="event: {         dblclick: function() { $data.dblClickHandler ? $data.dblClickHandler($data) : $data.toggleCollapsed() },         mouseenter: mouseenter,         mouseleave: mouseleave         },         styleunit: padding,         css: { \'dx-treelist-item-selected dxd-state-selected dxd-back-secondary\': isSelected }">        \x3c!-- ko ifnot: $data.hasItems--\x3e        <div class="dx-treelist-collapsedbutton" data-bind="css: nodeImageClass"></div>        \x3c!-- /ko --\x3e        \x3c!-- ko if: $data.hasItems --\x3e        <div class="dx-treelist-collapsedbutton" data-bind="css: nodeImageClass, visible: hasItems, template: \'dxrd-svg-collapsed\', click: toggleCollapsed"></div>        \x3c!-- /ko --\x3e        <div class="dx-treelist-caption">            \x3c!-- ko if: actions && actions.length > 0 --\x3e            <div class="dx-treelist-action-container" data-bind="visible: isSelected() || isHovered()">                \x3c!-- ko foreach: actions --\x3e                \x3c!-- ko if: $data.templateName --\x3e                \x3c!-- ko template: templateName  --\x3e                \x3c!-- /ko --\x3e                \x3c!-- /ko --\x3e                \x3c!-- ko if: !$data.templateName --\x3e                <div class="dx-treelist-action" data-bind="dxButtonWithTemplate: { onClick: function() { clickAction($parent); }, icon: $data.imageTemplateName, iconClass: $data.imageClassName, disabled: $data.disabled && $data.disabled() }, attr: { title: text }"></div>                \x3c!-- /ko --\x3e                \x3c!-- /ko --\x3e            </div>            \x3c!-- /ko  --\x3e            <div class="dx-treelist-selectedcontent" data-bind="event: { dblclick: function() { $data.dblClickHandler && $data.dblClickHandler($data); } }, click: toggleSelected,  draggable: isDraggable ? dragDropHandler : null">                <div class="dx-treelist-text-wrapper">                    <div class="dx-add-queries-page-checkbox" data-bind="dxCheckBox: { value: data.checked }, click: function(treeNode, e) {                         treeNode.data.toggleChecked();                         e.stopPropagation();                         return true;                    }"></div>                    <div class="dx-treelist-text dx-treelist-text-with-checkbox" data-bind="text: text, attr: { title: text }"></div>                </div>            </div>        </div>    </div></div>',"dx-treelist-action-with-popover":'<div class="dx-treelist-action-with-popover" style="display: inline-block">        <div class="dx-treelist-action" data-bind="dxButtonWithTemplate: { onClick: function() { clickAction($parent); }, icon: $data.imageTemplateName, iconClass: $data.imageClassName , disabled: $data.disabled && $data.disabled() }, attr: { title: text }"></div>        <div data-bind="dxPopover:{ width: 200, position: !$root.rtl ? \'left\' : \'right\', visible: $parent.data.popoverVisible, target: \'.dx-treelist-action-with-popover\', container: $root.getPopupContainer($element)}">            <div data-bind="dxList: { dataSource: $parent.data.popoverListItems(), onItemClick: $parent.data.itemClickAction }">                <div data-options="dxTemplate : { name: \'item\' }">                    <div class="dx-text-content" data-bind="text: name, attr: { title: name }"></div>                </div>            </div>        </div>    </div>',"dx-treelist-accordion-contenttemplate-custom-with-actions":'<div data-bind="dxPropertyGrid: { target: $parent.data.dataSourceParameter, level: $parent.data.editor.level + 1 }"></div>',"dxrd-page-configure-parameters":'<div class="dxrd-wizard-page">        <div class="dxrd-datasource-parameters" data-bind="dxCollectionEditor: parametersEditorOptions"></div>    </div>',"dxrd-parameter-collection-item":'<div data-bind="dxdAccordion: { collapsed: collapsed }">        <div class="dxrd-group-header dx-accordion-header dxd-text-primary" style="border-bottom: 0" data-bind="styleunit: { \'marginLeft\' : editor.padding }, css: { \'dxrd-group-header-collapsed dxd-border-primary\': collapsed() }">            <div class="dx-collapsing-image" data-bind="template: \'dxrd-svg-collapsed\', css: { \'dx-image-expanded\': !collapsed() }" style="display:inline-block;"></div>            <span class="dxrd-group-header-text dxd-text-primary" data-bind="text: value().name"></span>        </div>        <div class="dx-accordion-content">            <div data-bind="dxPropertyGrid: { target: value, level: editor.level + 1 }"></div>        </div>    </div>',"dxrd-wizard-datasource-parameters":'<div class="dx-fieldset" style="height:100%">        <div class="dx-collectioneditor" style="height:100%">            <div class="dxrd-datasource-parameters-collection">                <div class="dxrd-datasource-parameters-container dxd-border-secondary" data-bind="dxScrollView: { showScrollbar: \'onHover\' }">                    \x3c!-- ko if: values().length === 0 --\x3e                    <div class="dx-collectioneditor-empty dxd-empty-area-placeholder-text-color dxd-text-info">                        <span class="dxrd-datasource-parameters-empty-text" data-bind="text: getDisplayTextEmptyArray()"></span>                    </div>                    \x3c!-- /ko --\x3e                    \x3c!-- ko if: values().length !== 0 --\x3e                    <div class="dx-collectioneditor-items" data-bind="foreach: values">                        <div class="dx-background-inheritor dxd-back-highlighted dxd-state-selected" data-bind="with: $parent.createCollectionItemWrapper($parents[1], $index)">                            <div class="dx-collectioneditor-item-container dx-fontsize-reestablished dxd-list-item-back-color" data-bind="dxAction: $parents[1].select, css: { \'dxd-state-selected dxd-back-secondary\' : $parents[1].selectedIndex() === $index() }">                                <div class="dx-collection-item"></div>                            </div>                        </div>                    </div>                    \x3c!-- /ko --\x3e                </div>            </div>            <div class="dxrd-collectioneditor-wizard-buttons" data-bind="visible: showButtons">                <div class="dxrd-collectioneditor-action" data-bind="dxButton: { onClick: add, text: getDisplayTextButton(\'add\') }, attr: { title: getDisplayTextButton(\'add\') }"></div>                <div class="dxrd-collectioneditor-action" data-bind="dxButton: { onClick: remove, disabled: selectedIndex() === null, text: $parent.removeButtonTitle }, attr: { title: $parent.removeButtonTitle }"></div>            </div>        </div>    </div>',"dxrd-page-connectionstring":'<div class="dxrd-wizard-page">        <div class="dx-default-border-style dxd-border-secondary">            <div class="dxrd-wizard-list" data-bind="dxList: { items: connectionStrings, selectedItems: selectedConnectionString, editEnabled: true, editConfig: { selectionEnabled: true }, selectionMode: \'single\', activeStateEnabled: false, noDataText: $root.dx.Analytics.Localization.noDataText() }">                <div data-options="dxTemplate : { name: \'item\' }">                    <div data-bind="text: $data[\'description\'] || $data[\'name\']"></div>                </div>            </div>        </div>    </div>',"dxrd-select-control":'<div data-bind="text: caption()"></div>    \x3c!-- ko if: !aceAvailable --\x3e    <div class="dxrd-wizard-list dxrd-create-query-page-editor dx-default-border-style dxd-border-secondary" data-bind="dxTextArea: { value: sqlString, valueChangeEvent: \'keyup input blur\', readOnly: disableCustomSql() }"></div>    \x3c!-- /ko --\x3e    \x3c!-- ko if: aceAvailable --\x3e    <div class="dxrd-create-query-page-editor dxrd-create-query-page-editor-border dxd-border-secondary">        <div class="dxrd-create-query-page-editor-content">            <div class="dx-sql_editor dxd-back-primary2" data-bind="dxAceEditor: { value: sqlString, additionalOptions: additionalOptions, options: aceOptions }, css: { \'dx-disabled-ace\': disableCustomSql() }"></div>        </div>    </div>    \x3c!-- /ko --\x3e',"dxrd-procedures-control":'<div data-bind="text: caption()"></div>    <div class="dx-default-border-style dxd-border-secondary">        <div class="dxrd-wizard-list dxrd-create-query-page-editor" data-bind="dxList: { items: storedProcedures, onContentReady: scrollActiveItem, selectedItems: selectedProcedure, editEnabled: true, editConfig: { selectionEnabled: true }, selectionMode: \'single\', activeStateEnabled: false, noDataText: $root.dx.Analytics.Localization.noDataText() }">            <div data-options="dxTemplate : { name: \'item\' }">                <div data-bind="text: $parent.generateStoredProcedureDisplayName($data)"></div>            </div>        </div>    </div>',"dxrd-wizard-create-query-page":'<div class="dxrd-wizard-page dxrd-wizard-create-query-page">        <div data-bind="dxRadioGroup: { value: selectedQueryType, items: queryTypeItems }">            <div data-options="dxTemplate : { name: \'item\' }">                <div data-bind="text: $parent.localizeQueryType($data)"></div>            </div>        </div>        <div class="dxrd-create-query-page-content">            \x3c!-- ko template: { name: queryControl().template, data: queryControl() } --\x3e            \x3c!-- /ko --\x3e        </div>        <div data-bind="dxButton: { text: runQueryBuilderBtnText, onClick: runQueryBuilder, disabled: queryControl().runQueryBuilderDisabled }" class="dxrd-wizard-btn"></div>        \x3c!-- ko template: { name: \'dxrd-querybuilder-popup\', data: popupQueryBuilder } --\x3e        \x3c!-- /ko --\x3e    </div>',"dxrd-querybuilder-popup":'<div class="dxrd-querybuilder-popup" data-bind="dxPopup: popupViewModel($element)">        \x3c!-- ko if: qbOptions --\x3e        <div class="dxrd-querybuilder-popup-content">            <div style="height:100%;" data-bind="dxQueryBuilder: { options: qbOptions, designerModel: designer }"></div>        </div>        <div class="dxrd-querybuilder-popup-buttons dxd-border-secondary">            <div data-bind="dxButton: { text: getDisplayText(\'previewResults\'), onClick: previewHandler, disabled: okButtonDisabled }" class="dxrd-querybuilder-popup-button-left"></div>            <div data-bind="dxButton: { text: getDisplayText(\'cancel\'), onClick: cancelHandler }" class="dxrd-querybuilder-popup-button"></div>            <div data-bind="dxButton: { text: getDisplayText(\'ok\'), onClick: okHandler, disabled: okButtonDisabled }" class="dxrd-querybuilder-popup-button"></div>        </div>        <div class="dxrd-wizard-load-panel dxd-text-primary" data-bind="dxLoadPanel:{            animation: {                show: { type: \'fade\', from: 0, to: 1, duration: 700 },                hide: { type: \'fade\', from: 1, to: 0, duration: 700 }            },            deferRendering: false,            message: getDisplayText(\'loading\'),            visible: showLoadIndicator,            shading: true,            shadingColor: \'transparent\'}">        </div>        \x3c!-- /ko --\x3e    </div>',"dxrd-querybuilder":'<div class="dx-designer dx-querybuilder" data-bind="template: \'dxrd-designer\'">    </div>',"dxrd-wizard-header-custom":'<div class="dxrd-wizard-header-custom">        <div class="dxrd-span-title" data-bind="text: currentStep.title || title"></div>        <div class="dxrd-span-description" data-bind="text: currentStep.description, attr: { title: currentStep.description }"></div>    </div>',"dxrd-wizard":'\x3c!-- ko if: $data --\x3e    <div class="dxrd-wizard dx-editors dxd-text-primary" data-bind="dxPopup: {        visible: isVisible,        title: isVisible() ? title : \'\',        showTitle: true,        fullScreen: false,        width: width,        height: height,        container: container($element),        titleTemplate: titleTemplate,        position: wizardPopupPosition($element)    }, css: extendCssClass">        <div class="dxrd-wizard-content">            \x3c!-- ko foreach: renderedSteps --\x3e            <div style="width: 100%; height: 100%" data-bind="visible: $parent.currentStep === $data">                \x3c!-- ko template: { name: $data.template, data: $data } --\x3e                \x3c!-- /ko --\x3e            </div>            \x3c!-- /ko --\x3e            <div class="dxrd-wizard-load-panel dxd-text-primary" data-bind="dxLoadPanel: loadPanelViewModel($element)">            </div>        </div>        <div class="dxrd-wizard-navigation">            \x3c!-- ko with: currentStep.actionCancel  --\x3e            <div data-bind="dxButton: { text: text, onClick: handler, disabled: isDisabled, visible: isVisible }" class="dxrd-wizard-btn left"></div>            \x3c!-- /ko --\x3e            \x3c!-- ko with: currentStep.actionFinish  --\x3e            <div data-bind="dxButton: { text: text, onClick: handler, disabled: isDisabled, visible: isVisible }" class="dxrd-wizard-btn right"></div>            \x3c!-- /ko --\x3e            \x3c!-- ko with: currentStep.actionNext  --\x3e            <div data-bind="dxButton: { text: text, onClick: handler, disabled: isDisabled, visible: isVisible }" class="dxrd-wizard-btn right"></div>            \x3c!-- /ko --\x3e            \x3c!-- ko with: currentStep.actionPrevious  --\x3e            <div data-bind="dxButton: { text: text, onClick: handler, disabled: $parent.isPreviousButtonDisabled, visible: isVisible }" class="dxrd-wizard-btn right"></div>            \x3c!-- /ko --\x3e        </div>    </div>    \x3c!-- /ko --\x3e'})}(b.Templates||(b.Templates={}))}(a.Analytics||(a.Analytics={}))}(DevExpress||(DevExpress={})),window.ace){var _define=window.ace.define||define;_define("ace/mode/doc_comment_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],function(a,b,c){"use strict";var d=a("../lib/oop"),e=a("./text_highlight_rules").TextHighlightRules,f=function(){this.$rules={start:[{token:"comment.doc.tag",regex:"@[\\w\\d_]+"},f.getTagRule(),{defaultToken:"comment.doc",caseInsensitive:!0}]}};d.inherits(f,e),f.getTagRule=function(a){return{token:"comment.doc.tag.storage.type",regex:"\\b(?:TODO|FIXME|XXX|HACK)\\b"}},f.getStartRule=function(a){return{token:"comment.doc",regex:"\\/\\*(?=\\*)",next:a}},f.getEndRule=function(a){return{token:"comment.doc",regex:"\\*\\/",next:a}},b.DocCommentHighlightRules=f}),_define("ace/mode/sql_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules","ace/mode/doc_comment_highlight_rules"],function(a,b,c){"use strict";var d=a("../lib/oop"),e=a("./doc_comment_highlight_rules").DocCommentHighlightRules,f=a("./text_highlight_rules").TextHighlightRules,g=function(){var a="ALL|AND|ANY|BETWEEN|EXISTS|IN|LIKE|NOT|OR|SOME";a+="|NULL|IS|APPLY|INNER|OUTER|LEFT|RIGHT|JOIN|CROSS";var b="OPENDATASOURCE|OPENQUERY|OPENROWSET|OPENXML|AVG|CHECKSUM_AGG|COUNT|COUNT_BIG|GROUPING|GROUPING_ID|MAX|MIN|STDEV|STDEVP|SUM|VAR|VARP|DENSE_RANK|NTILE|RANK|ROW_NUMBER@@DATEFIRST|@@DBTS|@@LANGID|@@LANGUAGE|@@LOCK_TIMEOUT|@@MAX_CONNECTIONS|@@MAX_PRECISION|@@NESTLEVEL|@@OPTIONS|@@REMSERVER|@@SERVERNAME|@@SERVICENAME|@@SPID|@@TEXTSIZE|@@VERSION|CAST|CONVERT|PARSE|TRY_CAST|TRY_CONVERT|TRY_PARSE@@CURSOR_ROWS|@@FETCH_STATUS|CURSOR_STATUS|@@DATEFIRST|@@LANGUAGE|CURRENT_TIMESTAMP|DATEADD|DATEDIFF|DATEFROMPARTS|DATENAME|DATEPART|DATETIME2FROMPARTS|DATETIMEFROMPARTS|DATETIMEOFFSETFROMPARTS|DAY|EOMONTH|GETDATE|GETUTCDATE|ISDATE|MONTH|SET DATEFIRST|SET DATEFORMAT|SET LANGUAGE|SMALLDATETIMEFROMPARTS|SP_HELPLANGUAGE|SWITCHOFFSET|SYSDATETIME|SYSDATETIMEOFFSET|SYSUTCDATETIME|TIMEFROMPARTS|TODATETIMEOFFSET|YEAR|CHOOSE|IIF|ABS|ACOS|ASIN|ATAN|ATN2|CEILING|COS|COT|DEGREES|EXP|FLOOR|LOG|LOG10|PI|POWER|RADIANS|RAND|ROUND|SIGN|SIN|SQRT|SQUARE|TAN|@@PROCID|APPLOCK_MODE|APPLOCK_TEST|APP_NAME|ASSEMBLYPROPERTY|COLUMNPROPERTY|COL_LENGTH|COL_NAME|DATABASEPROPERTYEX|DATABASE_PRINCIPAL_ID|DB_ID|DB_NAME|FILEGROUPPROPERTY|FILEGROUP_ID|FILEGROUP_NAME|FILEPROPERTY|FILE_ID|FILE_IDEX|FILE_NAME|FULLTEXTCATALOGPROPERTY|FULLTEXTSERVICEPROPERTY|INDEXKEY_PROPERTY|INDEXPROPERTY|INDEX_COL|OBJECTPROPERTY|OBJECTPROPERTYEX|OBJECT_DEFINITION|OBJECT_ID|OBJECT_NAME|OBJECT_SCHEMA_NAME|ORIGINAL_DB_NAME|PARSENAME|SCHEMA_ID|SCHEMA_NAME|SCOPE_IDENTITY|SERVERPROPERTY|STATS_DATE|TYPEPROPERTY|TYPE_ID|TYPE_NAME|CERTENCODED|CERTPRIVATEKEY|CURRENT_USER|DATABASE_PRINCIPAL_ID|HAS_PERMS_BY_NAME|IS_MEMBER|IS_ROLEMEMBER|IS_SRVROLEMEMBER|ORIGINAL_LOGIN|PERMISSIONS|PWDCOMPARE|PWDENCRYPT|SCHEMA_ID|SCHEMA_NAME|SESSION_USER|SUSER_ID|SUSER_NAME|SUSER_SID|SUSER_SNAME|SYS.FN_BUILTIN_PERMISSIONS|SYS.FN_GET_AUDIT_FILE|SYS.FN_MY_PERMISSIONS|SYSTEM_USER|USER_ID|USER_NAME|ASCII|CHAR|CHARINDEX|CONCAT|DIFFERENCE|FORMAT|LEN|LOWER|LTRIM|NCHAR|PATINDEX|QUOTENAME|REPLACE|REPLICATE|REVERSE|RTRIM|SOUNDEX|SPACE|STR|STUFF|SUBSTRING|UNICODE|UPPER|$PARTITION|@@ERROR|@@IDENTITY|@@PACK_RECEIVED|@@ROWCOUNT|@@TRANCOUNT|BINARY_CHECKSUM|CHECKSUM|CONNECTIONPROPERTY|CONTEXT_INFO|CURRENT_REQUEST_ID|ERROR_LINE|ERROR_MESSAGE|ERROR_NUMBER|ERROR_PROCEDURE|ERROR_SEVERITY|ERROR_STATE|FORMATMESSAGE|GETANSINULL|GET_FILESTREAM_TRANSACTION_CONTEXT|HOST_ID|HOST_NAME|ISNULL|ISNUMERIC|MIN_ACTIVE_ROWVERSION|NEWID|NEWSEQUENTIALID|ROWCOUNT_BIG|XACT_STATE|@@CONNECTIONS|@@CPU_BUSY|@@IDLE|@@IO_BUSY|@@PACKET_ERRORS|@@PACK_RECEIVED|@@PACK_SENT|@@TIMETICKS|@@TOTAL_ERRORS|@@TOTAL_READ|@@TOTAL_WRITE|FN_VIRTUALFILESTATS|PATINDEX|TEXTPTR|TEXTVALID|COALESCE|NULLIF",c="BIGINT|BINARY|BIT|CHAR|CURSOR|DATE|DATETIME|DATETIME2|DATETIMEOFFSET|DECIMAL|FLOAT|HIERARCHYID|IMAGE|INTEGER|INT|MONEY|NCHAR|NTEXT|NUMERIC|NVARCHAR|REAL|SMALLDATETIME|SMALLINT|SMALLMONEY|SQL_VARIANT|TABLE|TEXT|TIME|TIMESTAMP|TINYINT|UNIQUEIDENTIFIER|VARBINARY|VARCHAR|XML",d="sp_addextendedproc|sp_addextendedproperty|sp_addmessage|sp_addtype|sp_addumpdevice|sp_add_data_file_recover_suspect_db|sp_add_log_file_recover_suspect_db|sp_altermessage|sp_attach_db|sp_attach_single_file_db|sp_autostats|sp_bindefault|sp_bindrule|sp_bindsession|sp_certify_removable|sp_clean_db_file_free_space|sp_clean_db_free_space|sp_configure|sp_control_plan_guide|sp_createstats|sp_create_plan_guide|sp_create_plan_guide_from_handle|sp_create_removable|sp_cycle_errorlog|sp_datatype_info|sp_dbcmptlevel|sp_dbmmonitoraddmonitoring|sp_dbmmonitorchangealert|sp_dbmmonitorchangemonitoring|sp_dbmmonitordropalert|sp_dbmmonitordropmonitoring|sp_dbmmonitorhelpalert|sp_dbmmonitorhelpmonitoring|sp_dbmmonitorresults|sp_db_increased_partitions|sp_delete_backuphistory|sp_depends|sp_describe_first_result_set|sp_describe_undeclared_parameters|sp_detach_db|sp_dropdevice|sp_dropextendedproc|sp_dropextendedproperty|sp_dropmessage|sp_droptype|sp_execute|sp_executesql|sp_getapplock|sp_getbindtoken|sp_help|sp_helpconstraint|sp_helpdb|sp_helpdevice|sp_helpextendedproc|sp_helpfile|sp_helpfilegroup|sp_helpindex|sp_helplanguage|sp_helpserver|sp_helpsort|sp_helpstats|sp_helptext|sp_helptrigger|sp_indexoption|sp_invalidate_textptr|sp_lock|sp_monitor|sp_prepare|sp_prepexec|sp_prepexecrpc|sp_procoption|sp_recompile|sp_refreshview|sp_releaseapplock|sp_rename|sp_renamedb|sp_resetstatus|sp_sequence_get_range|sp_serveroption|sp_setnetname|sp_settriggerorder|sp_spaceused|sp_tableoption|sp_unbindefault|sp_unbindrule|sp_unprepare|sp_updateextendedproperty|sp_updatestats|sp_validname|sp_who|sys.sp_merge_xtp_checkpoint_files|sys.sp_xtp_bind_db_resource_pool|sys.sp_xtp_checkpoint_force_garbage_collection|sys.sp_xtp_control_proc_exec_stats|sys.sp_xtp_control_query_exec_stats|sys.sp_xtp_unbind_db_resource_pool",f="ABSOLUTE|ACTION|ADA|ADD|ADMIN|AFTER|AGGREGATE|ALIAS|ALL|ALLOCATE|ALTER|AND|ANY|ARE|ARRAY|AS|ASC|ASENSITIVE|ASSERTION|ASYMMETRIC|AT|ATOMIC|AUTHORIZATION|BACKUP|BEFORE|BEGIN|BETWEEN|BIT_LENGTH|BLOB|BOOLEAN|BOTH|BREADTH|BREAK|BROWSE|BULK|BY|CALL|CALLED|CARDINALITY|CASCADE|CASCADED|CASE|CATALOG|CHARACTER|CHARACTER_LENGTH|CHAR_LENGTH|CHECK|CHECKPOINT|CLASS|CLOB|CLOSE|CLUSTERED|COALESCE|COLLATE|COLLATION|COLLECT|COLUMN|COMMIT|COMPLETION|COMPUTE|CONDITION|CONNECT|CONNECTION|CONSTRAINT|CONSTRAINTS|CONSTRUCTOR|CONTAINS|CONTAINSTABLE|CONTINUE|CORR|CORRESPONDING|COVAR_POP|COVAR_SAMP|CREATE|CROSS|CUBE|CUME_DIST|CURRENT|CURRENT_CATALOG|CURRENT_DATE|CURRENT_DEFAULT_TRANSFORM_GROUP|CURRENT_PATH|CURRENT_ROLE|CURRENT_SCHEMA|CURRENT_TIME|CURRENT_TRANSFORM_GROUP_FOR_TYPE|CYCLE|DATA|DATABASE|DBCC|DEALLOCATE|DEC|DECLARE|DEFAULT|DEFERRABLE|DEFERRED|DELETE|DENY|DEPTH|DEREF|DESC|DESCRIBE|DESCRIPTOR|DESTROY|DESTRUCTOR|DETERMINISTIC|DIAGNOSTICS|DICTIONARY|DISCONNECT|DISK|DISTINCT|DISTRIBUTED|DOMAIN|DOUBLE|DROP|DUMP|DYNAMIC|EACH|ELEMENT|ELSE|END|END-EXEC|EQUALS|ERRLVL|ESCAPE|EVERY|EXCEPT|EXCEPTION|EXEC|EXECUTE|EXISTS|EXIT|EXTERNAL|EXTRACT|FETCH|FILE|FILLFACTOR|FILTER|FIRST|FOR|FOREIGN|FORTRAN|FOUND|FREE|FREETEXT|FREETEXTTABLE|FROM|FULL|FULLTEXTTABLE|FUNCTION|FUSION|GENERAL|GET|GLOBAL|GO|GOTO|GRANT|GROUP|HAVING|HOLD|HOLDLOCK|HOST|HOUR|IDENTITY|IDENTITYCOL|IDENTITY_INSERT|IF|IGNORE|IMMEDIATE|IN|INCLUDE|INDEX|INDICATOR|INITIALIZE|INITIALLY|INNER|INOUT|INPUT|INSENSITIVE|INSERT|INTEGER|INTERSECT|INTERSECTION|INTERVAL|INTO|IS|ISOLATION|ITERATE|JOIN|KEY|KILL|LANGUAGE|LARGE|LAST|LATERAL|LEADING|LESS|LEVEL|LIKE|LIKE_REGEX|LIMIT|LINENO|LN|LOAD|LOCAL|LOCALTIME|LOCALTIMESTAMP|LOCATOR|MAP|MATCH|MEMBER|MERGE|METHOD|MINUTE|MOD|MODIFIES|MODIFY|MODULE|MULTISET|NAMES|NATIONAL|NATURAL|NCLOB|NEW|NEXT|NO|NOCHECK|NONCLUSTERED|NONE|NORMALIZE|NOT|NULL|NULLIF|OBJECT|OCCURRENCES_REGEX|OCTET_LENGTH|OF|OFF|OFFSETS|OLD|ON|ONLY|OPEN|OPERATION|OPTION|OR|ORDER|ORDINALITY|OUT|OUTER|OUTPUT|OVER|OVERLAPS|OVERLAY|PAD|PARAMETER|PARAMETERS|PARTIAL|PARTITION|PASCAL|PATH|PERCENT|PERCENTILE_CONT|PERCENTILE_DISC|PERCENT_RANK|PIVOT|PLAN|POSITION|POSITION_REGEX|POSTFIX|PRECISION|PREFIX|PREORDER|PREPARE|PRESERVE|PRIMARY|PRINT|PRIOR|PRIVILEGES|PROC|PROCEDURE|PUBLIC|RAISERROR|RANGE|READ|READS|READTEXT|RECONFIGURE|RECURSIVE|REF|REFERENCES|REFERENCING|REGR_AVGX|REGR_AVGY|REGR_COUNT|REGR_INTERCEPT|REGR_R2|REGR_SLOPE|REGR_SXX|REGR_SXY|REGR_SYY|RELATIVE|RELEASE|REPLICATION|RESTORE|RESTRICT|RESULT|RETURN|RETURNS|REVERT|REVOKE|ROLE|ROLLBACK|ROLLUP|ROUTINE|ROW|ROWCOUNT|ROWGUIDCOL|ROWS|RULE|SAVE|SAVEPOINT|SCHEMA|SCOPE|SCROLL|SEARCH|SECOND|SECTION|SECURITYAUDIT|SELECT|SEMANTICKEYPHRASETABLE|SEMANTICSIMILARITYDETAILSTABLE|SEMANTICSIMILARITYTABLE|SENSITIVE|SEQUENCE|SESSION|SET|SETS|SETUSER|SHUTDOWN|SIMILAR|SIZE|SOME|SPECIFIC|SPECIFICTYPE|SQL|SQLCA|SQLCODE|SQLERROR|SQLEXCEPTION|SQLSTATE|SQLWARNING|START|STATE|STATEMENT|STATIC|STATISTICS|STDDEV_POP|STDDEV_SAMP|STRUCTURE|SUBMULTISET|SUBSTRING_REGEX|SYMMETRIC|SYSTEM|TABLESAMPLE|TEMPORARY|TERMINATE|TEXTSIZE|THAN|THEN|TIMEZONE_HOUR|TIMEZONE_MINUTE|TO|TOP|TRAILING|TRAN|TRANSACTION|TRANSLATE|TRANSLATE_REGEX|TRANSLATION|TREAT|TRIGGER|TRIM|TRUNCATE|TSEQUAL|UESCAPE|UNDER|UNION|UNIQUE|UNKNOWN|UNNEST|UNPIVOT|UPDATE|UPDATETEXT|USAGE|USE|USER|USING|VALUE|VALUES|VARIABLE|VARYING|VAR_POP|VAR_SAMP|VIEW|WAITFOR|WHEN|WHENEVER|WHERE|WHILE|WIDTH_BUCKET|WINDOW|WITH|WITHIN|WITHIN GROUP|WITHOUT|WORK|WRITE|WRITETEXT|XMLAGG|XMLATTRIBUTES|XMLBINARY|XMLCAST|XMLCOMMENT|XMLCONCAT|XMLDOCUMENT|XMLELEMENT|XMLEXISTS|XMLFOREST|XMLITERATE|XMLNAMESPACES|XMLPARSE|XMLPI|XMLQUERY|XMLSERIALIZE|XMLTABLE|XMLTEXT|XMLVALIDATE|ZONE";f+="|KEEPIDENTITY|KEEPDEFAULTS|IGNORE_CONSTRAINTS|IGNORE_TRIGGERS|XLOCK|FORCESCAN|FORCESEEK|HOLDLOCK|NOLOCK|NOWAIT|PAGLOCK|READCOMMITTED|READCOMMITTEDLOCK|READPAST|READUNCOMMITTED|REPEATABLEREAD|ROWLOCK|SERIALIZABLE|SNAPSHOT|SPATIAL_WINDOW_MAX_CELLS|TABLOCK|TABLOCKX|UPDLOCK|XLOCK|IGNORE_NONCLUSTERED_COLUMNSTORE_INDEX|EXPAND|VIEWS|FAST|FORCE|KEEP|KEEPFIXED|MAXDOP|MAXRECURSION|OPTIMIZE|PARAMETERIZATION|SIMPLE|FORCED|RECOMPILE|ROBUST|PLAN|SPATIAL_WINDOW_MAX_CELLS|NOEXPAND|HINT",f+="|LOOP|HASH|MERGE|REMOTE",f+="|TRY|CATCH|THROW",f+="|TYPE",f=f.split("|"),f=f.filter(function(d,e,f){return-1===a.split("|").indexOf(d)&&-1===b.split("|").indexOf(d)&&-1===c.split("|").indexOf(d)}),f=f.sort().join("|");for(var g=this.createKeywordMapper({"constant.language":a,"storage.type":c,"support.function":b,"support.storedprocedure":d,keyword:f},"identifier",!0),h="SET ANSI_DEFAULTS|SET ANSI_NULLS|SET ANSI_NULL_DFLT_OFF|SET ANSI_NULL_DFLT_ON|SET ANSI_PADDING|SET ANSI_WARNINGS|SET ARITHABORT|SET ARITHIGNORE|SET CONCAT_NULL_YIELDS_NULL|SET CURSOR_CLOSE_ON_COMMIT|SET DATEFIRST|SET DATEFORMAT|SET DEADLOCK_PRIORITY|SET FIPS_FLAGGER|SET FMTONLY|SET FORCEPLAN|SET IDENTITY_INSERT|SET IMPLICIT_TRANSACTIONS|SET LANGUAGE|SET LOCK_TIMEOUT|SET NOCOUNT|SET NOEXEC|SET NUMERIC_ROUNDABORT|SET OFFSETS|SET PARSEONLY|SET QUERY_GOVERNOR_COST_LIMIT|SET QUOTED_IDENTIFIER|SET REMOTE_PROC_TRANSACTIONS|SET ROWCOUNT|SET SHOWPLAN_ALL|SET SHOWPLAN_TEXT|SET SHOWPLAN_XML|SET STATISTICS IO|SET STATISTICS PROFILE|SET STATISTICS TIME|SET STATISTICS XML|SET TEXTSIZE|SET XACT_ABORT".split("|"),i="READ UNCOMMITTED|READ COMMITTED|REPEATABLE READ|SNAPSHOP|SERIALIZABLE".split("|"),j=0;j<i.length;j++)h.push("SET TRANSACTION ISOLATION LEVEL "+i[j]);this.$rules={start:[{token:"string.start",regex:"'",next:[{token:"constant.language.escape",regex:/''/},{token:"string.end",next:"start",regex:"'"},{defaultToken:"string"}]},e.getStartRule("doc-start"),{token:"comment",regex:"--.*$"},{token:"comment",start:"/\\*",end:"\\*/"},{token:"constant.numeric",regex:"[+-]?\\d+(?:(?:\\.\\d*)?(?:[eE][+-]?\\d+)?)?\\b"},{token:g,regex:"@{0,2}[a-zA-Z_$][a-zA-Z0-9_$]*\\b(?!])"},{token:"constant.class",regex:"@@?[a-zA-Z_$][a-zA-Z0-9_$]*\\b"},{token:"keyword.operator",regex:"\\+|\\-|\\/|\\/\\/|%|<@>|@>|<@|&|\\^|~|<|>|<=|=>|==|!=|<>|=|\\*"},{token:"paren.lparen",regex:"[\\(]"},{token:"paren.rparen",regex:"[\\)]"},{token:"punctuation",regex:",|;"},{token:"text",regex:"\\s+"}],comment:[e.getTagRule(),{token:"comment",regex:"\\*\\/",next:"no_regex"},{defaultToken:"comment",caseInsensitive:!0}]};for(var j=0;j<h.length;j++)this.$rules.start.unshift({token:"set.statement",regex:h[j]});this.embedRules(e,"doc-",[e.getEndRule("start")]),this.normalizeRules();var k=[],l=function(a,b){a.forEach(function(a){k.push({name:a,value:a,score:0,meta:b})})};l(d.split("|"),"procedure"),l(a.split("|"),"operator"),l(b.split("|"),"function"),l(c.split("|"),"type"),l(h,"statement"),l(f.split("|"),"keyword"),this.completions=k};d.inherits(g,f),b.SqlHighlightRules=g}),_define("ace/mode/sql",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/sql_highlight_rules","ace/range"],function(a,b,c){"use strict";var d=a("../lib/oop"),e=a("./text").Mode,f=a("./sql_highlight_rules").SqlHighlightRules,g=(a("../range").Range,function(){this.HighlightRules=f});d.inherits(g,e),function(){this.lineCommentStart="--",this.$id="ace/mode/sql"}.call(g.prototype),b.Mode=g})}